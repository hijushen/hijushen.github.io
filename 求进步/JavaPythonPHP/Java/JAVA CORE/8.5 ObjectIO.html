<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>8.5 ObjectIO</title><?xml version="1.0" encoding="UTF-8"?>


<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><br/></div><div><br/></div><div><br/></div><div><br/></div>
import java.io.*;<br/><br/>
public class TestObjectIO {<br/>
&nbsp;&nbsp;&nbsp;&nbsp; public static void main(String args[]) throws Exception {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; T t = new T();<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.k = 8;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream fos = new FileOutputStream(&quot;d:/share/java/io/testobjectio.dat&quot;);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ObjectOutputStream oos = new ObjectOutputStream(fos);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oos.writeObject(t);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oos.flush();<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oos.close();<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileInputStream fis = new FileInputStream(&quot;d:/share/java/io/testobjectio.dat&quot;);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ObjectInputStream ois = new ObjectInputStream(fis);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; T tReaded = (T)ois.readObject();<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(tReaded.i + &quot; &quot; + tReaded.j + &quot; &quot; + tReaded.d + &quot; &quot; + tReaded.k);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp; }<br/>
}<br/><br/>
class T<br/>
&nbsp;&nbsp;&nbsp;&nbsp; implements Serializable &nbsp; // <font color="#FF0000">可序列化，做给编译器看。</font><br/>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp; int i = 10;<br/>
&nbsp;&nbsp;&nbsp;&nbsp; int j = 9;<br/>
&nbsp;&nbsp;&nbsp;&nbsp; double d = 2.3;<br/>
&nbsp;&nbsp;&nbsp;&nbsp; transient int k = 15; &nbsp; &nbsp;//<font color="#FF0000">透明的，输出值为0</font><br/>
}
<div><br/></div><div><br/></div><div><font color="#FF0000">Externalizable，自己控制序列号接口，自己实现readExternal（）和writeExternal（）方法。</font></div></div>