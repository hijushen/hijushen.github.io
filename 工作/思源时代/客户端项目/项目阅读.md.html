<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>项目阅读.md</title>
<style id="wiz_custom_css">        html, body {            font-size: 15px;        }        body {            font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;            line-height: 1.6;            margin: 0;            padding: 20px 36px;            padding: 1.33rem 2.4rem;        }        h1, h2, h3, h4, h5, h6 {            margin: 20px 0 10px;            margin: 1.33rem 0 0.667rem;            padding: 0;            font-weight: bold;        }        h1 {            font-size: 21px;            font-size: 1.4rem;        }        h2 {            font-size: 20px;            font-size: 1.33rem;        }        h3 {            font-size: 18px;            font-size: 1.2rem;        }        h4 {            font-size: 17px;            font-size: 1.13rem;        }        h5 {            font-size: 15px;            font-size: 1rem;        }        h6 {            font-size: 15px;            font-size: 1rem;            color: #777777;            margin: 1rem 0;        }        div, p, ul, ol, dl, li {            margin: 0;        }        blockquote, table, pre, code {            margin: 8px 0;        }        ul, ol {            padding-left: 32px;            padding-left: 2.13rem;        }        blockquote {            padding: 0 12px;            padding: 0 0.8rem;        }        blockquote > :first-child {            margin-top: 0;        }        blockquote > :last-child {            margin-bottom: 0;        }        img {            border: 0;            max-width: 100%;            height: auto !important;            margin: 2px 0;        }        table {            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        td {            padding: 4px 8px;            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        @media screen and (max-width: 660px) {            body {                padding: 20px 18px;                padding: 1.33rem 1.2rem;            }        }        @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {            html, body {                font-size: 17px;            }            body {                line-height: 1.7;                padding: 0.75rem 0.9375rem;                color: #353c47;            }            h1 {                font-size: 2.125rem;            }            h2 {                font-size: 1.875rem;            }            h3 {                font-size: 1.625rem;            }            h4 {                font-size: 1.375rem;            }            h5 {                font-size: 1.125rem;            }            h6 {                color: inherit;            }            ul, ol {                padding-left: 2.5rem;            }            blockquote {                padding: 0 0.9375rem;            }        }</style><style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style><link type="text/css" rel="stylesheet" id="wiz_code_highlight_link" href="项目阅读.md_files/wiz_code_highlight_6.css"></head>

<body style="" ><div><font color="#b22222">&gt; 2016/2/18 更新</font></div><div><font color="#b22222">## 程序错误异常的处理.</font></div><div><font color="#b22222">```</font></div><div><div>Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException); //将一场处理方式设置为ThreadException</div><div><span style="line-height: 1.6;">Application.ThreadException += new&nbsp;</span><span style="line-height: 1.6;">System.Threading.ThreadExceptionEventHandler(<font color="#ff0000">AppException</font>.ThreadException); //设置错误处理异常</span></div><div><span style="line-height: 1.6;">AppDomain.CurrentDomain.UnhandledException += new&nbsp;</span><span style="line-height: 1.6;">UnhandledExceptionEventHandler(<font color="#ff0000">AppException</font>.DomainUnhandledException);</span><span style="line-height: 1.6;">//设置错误处理异常</span></div></div><span style="color: #b22222;"></span><span style="color: #b22222;"></span><div style="color: rgb(178, 34, 34);"><span style="color: #b22222;">```</span></div><div style="color: rgb(178, 34, 34);"><span style="color: #b22222;">## 程序样式及初始化</span></div><div style="color: rgb(178, 34, 34);">```</div><div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>Application.EnableVisualStyles();</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>Application.SetCompatibleTextRenderingDefault(false);</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>DevExpress.UserSkins.BonusSkins.Register();</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>DevExpress.UserSkins.OfficeSkins.Register();</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>DevExpress.Skins.SkinManager.EnableFormSkins();</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>DevExpress.Skins.SkinManager.EnableMdiFormSkins();</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>CYSoft.Platform.Controls.Localizers.Localizer.InitLocalizer(); //中文化设置</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>System.Threading.Thread.CurrentThread.CurrentUICulture = new System.Globalization.CultureInfo("zh-CHS");//设置区域为中文</div></div><div style="color: rgb(178, 34, 34);">```</div><font color="#b22222">## 代码纪要 ##</font><br><span style="color: #b22222;">### CYSoft.Common ###</span><br><span style="color: #808080;">-&nbsp;</span>CYSharpZip提供压缩/解压缩配合使用<br><span style="color: #b22222;">### CYSoft.LocalService ###</span><br><span style="color: #808080;">-&nbsp;</span>类<span style="color: #008000;">`Locator&lt;T&gt; where T : class`</span>泛型类包括 GetService等方法, 返回object类型继承自<span style="color: #008000;">`CYSoft.ServicesInterface.A0`</span>下 Contract契约.<br><span style="color: #b22222;">### CYSoft.Services.Common ###</span><br><span style="color: #808080;">-&nbsp;</span>接口<span style="color: #008000;">`ServiceProxyWrapper&lt;TT&gt; : IDisposable where TT : class`</span>类型代理,通过ChannelFactory产生channel完成WCF方法更新, 返回object契约对象为<span style="color: #008000;">`CYSoft.ServicesIntercade.A0`</span>内定义接口类型.<br><span style="color: #b22222;">### CYSoft.ServicesInterface.A0 命名空间`.dll` ###</span><br><span style="color: #808080;">-&nbsp;</span>定义了WCF服务契约接口,相应接口如ICommon等.<br><span style="color: #b22222;">### CYSoft.ParmInfo 命名空间 `.dll` ###</span><br><span style="color: #808080;">-&nbsp;</span>类configInfo提供static readonly用于运行时初始化常量.<br><span style="color: #808080;">-&nbsp;</span>类sysInfo提供icon,皮肤,<br><span style="color: #b22222;">### CYSoft.LocalService ###</span><br><span style="color: #b22222;">### CYSoft.IC.Common.A0 `命名控件 .dll` ###</span><br><span style="color: #808080;">-&nbsp;&nbsp;</span>类Func提供LoadSysImgInfoDt静态方法,从Config配置汇总读取图像,返回DataTable.&nbsp;<br><span style="color: #808080;">-&nbsp;&nbsp;</span>类Variable提供静态成员参数变量<br><span style="color: #b22222;">### CYSoft.UI.Common ```命名空间 .dll```###</span><br><span style="color: #808080;">-&nbsp;</span>类SearchHelp中enum包括Tree和Grid类型,查找提供DataTable查询方式.<br><span style="color: #808080;">-&nbsp;</span>类<span style="color: #008000;">`Function`</span>提供InitTree方法,<br><span style="color: #808080;">-&nbsp;</span>窗体<span style="color: #008000;">`FrmException`</span>&nbsp;-&gt; FrmBase方法.<br><span style="color: #808080;">-&nbsp;</span>窗体<span style="color: #008000;">`FrmFlash`</span>-&gt;<span style="color: #008000;">`FrmBase`</span>.&nbsp;<br><span style="color: #b22222;">### CYSoft.EntityLib ###</span><br><span style="color: #808080;">-&nbsp;</span>类A0Orgn数据类,内部struct结构提供const常量如Creator等.<br><span style="color: #b22222;">### CYSoft.UI.Comman ###</span><br><span style="color: #b22222;">#### FrmBase ####</span><br><span style="color: #b22222;">#### FrmDelChk ####</span><br><span style="color: #b22222;">#### FrmEditBase ####</span><br><span style="color: #b22222;">#### FrmException ####</span><br><span style="color: #b22222;">#### FrmFlash ####</span><br><span style="color: #b22222;">#### FrmListHelp ####</span><br><span style="color: #b22222;">#### FrmMenuBase ####</span><br><span style="color: #b22222;">#### FrmSearch ####</span><br><span style="color: #b22222;">#### FrmSerachBase ####</span><br><span style="color: #b22222;">#### FrmTreeHelp ####</span><br><span style="color: #b22222;">#### 类Function ####</span><br><br><span style="color: #b22222;">### CYSoft.UI.A0.Main&nbsp;&nbsp;</span><br><span style="color: #b22222;">#### Common类 ####</span><br><span style="color: #808080;">-&nbsp;</span>Function方法,提供静态方法:<span style="color: #008000;">`InitTreeStyle`</span>.<br><span style="color: #b22222;">#### FrmMain 主窗口 ####</span><br><span style="color: #808080;">-&nbsp;</span>继承自&nbsp;<span style="color: #008000;">`DevExpress.XtraBars.Ribbon.RibbonForm`</span>&nbsp;<br><span style="color: #808080;">- -&nbsp;</span>Load内函数<br><span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;</span>Login方法,异常调用CYSoft.UI.Common下<span style="color: #008000;">`FrmException窗体`</span>完成异常报错.如果Login方法登陆失败, 则<span style="color: #008000;">`Application.ExitThread()`</span><br><span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;</span>Init()方法. 缓冲窗口显示<br><span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;</span>SetToolImg()方法,从配置读取XML,配合CYSoft.ParmInfo下类configInfo的ImagePath常量完成.<br><span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;</span>设置IC.Common.A0下Varibale类下静态成员参数从,Func方法获得.<br><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br><span style="color: #b22222;">#### FrmOrgnExp 机构窗体 ####</span><br><span style="color: #808080;">-&nbsp;</span>继承自<span style="color: #008000;">`CYSoft.UI.Common.FrmBase`</span>窗体,-&gt;<span style="color: #008000;">`DevExpress.XtraEditors.XtraForm`</span><br><span style="color: #808080;">-&nbsp;</span>CtrlInit()方法,借助CYSoft.UI.Common下Function方法InitTree和CySoft.EntityLib下类A0Orgn(常量数据结构)完成本窗体类控件<span style="color: #008000;">`DevExpress.XtraTreeList.TreeList treeOrg`</span>的组织结构树赋值.<br><span style="color: #808080;">-&nbsp;</span>调用静态方法:&nbsp;<span style="color: #008000;">`Common.Function.InitTreeStyle`</span>,传入本窗体<span style="color: #008000;">`treeOrg`</span>完成style的设置.<br></body></html>