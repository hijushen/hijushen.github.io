<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>[FrmXXManager][代码] 功能窗体--部分简述.md</title>
    <!--mark |wiz_custom_css| for wizeditor replace it-->


<link type="text/css" rel="stylesheet" id="wiz_code_highlight_link" href="[FrmXXManager][代码] 功能窗体--部分简述.md_files/wiz_code_highlight_29.css"><style id="wiz_custom_css">        html, body {            font-size: 15px;        }        body {            font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;            line-height: 1.6;            margin: 0;            padding: 20px 36px;            padding: 1.33rem 2.4rem;        }        h1, h2, h3, h4, h5, h6 {            margin: 20px 0 10px;            margin: 1.33rem 0 0.667rem;            padding: 0;            font-weight: bold;        }        h1 {            font-size: 21px;            font-size: 1.4rem;        }        h2 {            font-size: 20px;            font-size: 1.33rem;        }        h3 {            font-size: 18px;            font-size: 1.2rem;        }        h4 {            font-size: 17px;            font-size: 1.13rem;        }        h5 {            font-size: 15px;            font-size: 1rem;        }        h6 {            font-size: 15px;            font-size: 1rem;            color: #777777;            margin: 1rem 0;        }        div, p, ul, ol, dl, li {            margin: 0;        }        blockquote, table, pre, code {            margin: 8px 0;        }        ul, ol {            padding-left: 32px;            padding-left: 2.13rem;        }        blockquote {            padding: 0 12px;            padding: 0 0.8rem;        }        blockquote > :first-child {            margin-top: 0;        }        blockquote > :last-child {            margin-bottom: 0;        }        img {            border: 0;            max-width: 100%;            height: auto !important;            margin: 2px 0;        }        table {            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        td {            padding: 4px 8px;            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        @media screen and (max-width: 660px) {            body {                padding: 20px 18px;                padding: 1.33rem 1.2rem;            }        }        @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {            html, body {                font-size: 17px;            }            body {                line-height: 1.7;                padding: 0.75rem 0.9375rem;                color: #353c47;            }            h1 {                font-size: 2.125rem;            }            h2 {                font-size: 1.875rem;            }            h3 {                font-size: 1.625rem;            }            h4 {                font-size: 1.375rem;            }            h5 {                font-size: 1.125rem;            }            h6 {                color: inherit;            }            ul, ol {                padding-left: 2.5rem;            }            blockquote {                padding: 0 0.9375rem;            }        }</style><style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style></head>

<body style="" ><div>[Toc]</div><div>**继承于`FrmMenuBase`**</div><div><br></div>## 成员变量<div>- 数据获取IC类: 例如`ICCorpManager` , `AccRoleManger` 等.</div><div>- DS及BindingSource. 根据内容显示, 有1个及多个. 譬如`m_DsDept`,`m_BsDept`; `m_DsCorpDet`,`m_BsCorpDept`等.</div><div>- DsSchema? 界面的数据源DataSet. 例如`DsSchema`(此处存疑? 惯例代表当前用户可用的Corp组织么?)</div><div><br></div><div>##&nbsp;<span style="line-height: 1.6;">初始化--</span><span style="line-height: 1.6;">构造及`Load` 同步IC方法执行)</span></div><div>- 构造: 对成员变量里面的数据获取IC类进行实例化.&nbsp;</div><div>- `Load`: 1) m_DSSchema的值内容获取; 2) `base.FrmInit()实现. --&gt; 重写了`DataLoad()`和`CtrolInit()`的模板方法; 3)`DataLoad()`调用待实现虚方法: `DataGet()` 和`MainDataBinding(mDsMain)` 完成数据获取.</div><div><span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span>- `DataGet()`的具体同步实现中, 获取后需要`base.Merge(DSMain,..)`完成绑定并返回`DSMain`,其在父方法体中用于对`m_DSMain`赋值.</div><div>&nbsp; &nbsp; - `MainDataBinding(DataSet ds)` 调用父类方法中`SetDataBind(ds,..)`等完成生成, 将返回的`m_BsTreeOrg`与`treeOrg`绑定. 最终使用`LayoutControlHelp.BindingItemControlValue(...)完成数据源与控件内容的绑定.<br></div><div><br></div><div><div>## 初始化-`Load()``Shown()` (异步IC方法返回执行路径)</div><div>- Load()事件函数, *之前采用`base.FrmInit`, 完成控件及数据获取初始化* &nbsp;, 具体参加上同步IC方法.</div><div><span style="line-height: 1.6;">&nbsp; &nbsp; -&nbsp;</span>控件部分看主要需要重写方法`public override void CtrlInit(){}` 来完成界面控件不可编辑的作用;&nbsp;</div><div><span style="line-height: 1.6;">&nbsp; &nbsp; -&nbsp;</span>另一部分是右键菜单弹出窗口的初始化.`InitPopMenu()` 主要是构建内容后,调用基类 `base.InitPopMenu()`的方法完成初始化动作.&nbsp;</div><div>- Shown()事件函数. &nbsp;完成数据的初始化动作.</div><div>&nbsp; &nbsp; - 重写`public override DataSet DataGet()` 方法(注: &lt;sup&gt;&lt;/sup&gt;, 主要内容:<br></div><div>&nbsp; &nbsp; ```<br></div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-cs"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">override</span><span class="pln"> </span><span class="typ">DataSet</span><span class="pln"> </span><span class="typ">DataGet</span><span class="pun">()</span></code></li><li class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">try</span></code></li><li class="L3"><code class="language-cs"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L4"><code class="language-cs"><span class="pln">                </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">ShowLoading</span><span class="pun">(</span><span class="str">"正在获取数据，请稍候..."</span><span class="pun">);</span></code></li><li class="L5"><code class="language-cs"></code></li><li class="L6"><code class="language-cs"><span class="pln">                </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">m_ICDictManager</span><span class="pun">.</span><span class="typ">DictSortAsyncDataGet</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">.</span><span class="typ">Empty</span><span class="pun">);</span></code></li><li class="L7"><code class="language-cs"></code></li><li class="L8"><code class="language-cs"><span class="pln">                </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">m_ICDictManager</span><span class="pun">.</span><span class="typ">DictItemAsyncDataGet</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">m_ICDictManager</span><span class="pun">.</span><span class="typ">GetDictItemDataParams</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">.</span><span class="typ">Empty</span><span class="pun">,</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="typ">DateTime</span><span class="pun">.</span><span class="typ">Now</span><span class="pun">));</span></code></li><li class="L9"><code class="language-cs"></code></li><li class="L0"><code class="language-cs"><span class="pln">                </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">HideLoading</span><span class="pun">();</span></code></li><li class="L1"><code class="language-cs"></code></li><li class="L2"><code class="language-cs"><span class="pln">                </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">DSMain</span><span class="pun">;</span></code></li><li class="L3"><code class="language-cs"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L4"><code class="language-cs"><span class="pln">            </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span></code></li><li class="L5"><code class="language-cs"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L6"><code class="language-cs"><span class="pln">                </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">HideLoading</span><span class="pun">();</span></code></li><li class="L7"><code class="language-cs"><span class="pln">                </span><span class="kwd">throw</span><span class="pln"> ex</span><span class="pun">;</span></code></li><li class="L8"><code class="language-cs"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L9"><code class="language-cs"><span class="pun">}</span></code></li></ol></pre></div><div>&nbsp; &nbsp; ```<br></div><div>&nbsp; &nbsp; - 对于数据获取成功后事件回调 `void ICDictManager_DataGetAsyncResultCompletedEvent(string key, object value)` 主要内容:<br></div><div>&nbsp; &nbsp; ```<span style="line-height: 1.6;">&nbsp; &nbsp;&nbsp;</span></div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-cs"><span class="kwd">this</span><span class="pun">.</span><span class="pln">m_DsDictSort </span><span class="pun">=</span><span class="pln"> value </span><span class="kwd">as</span><span class="pln"> </span><span class="typ">DataSet</span><span class="pun">;</span></code></li><li class="L1"><code class="language-cs"><span class="pln">                        </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">MergeDT</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="typ">DSMain</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">m_DsDictSort</span><span class="pun">.</span><span class="typ">Tables</span><span class="pun">[</span><span class="pln">IC</span><span class="pun">.</span><span class="typ">DictManager</span><span class="pun">.</span><span class="typ">DataMember</span><span class="pun">.</span><span class="pln">M0DictSortMainDataGet</span><span class="pun">]);</span></code></li><li class="L2"><code class="language-cs"><span class="pln">                        </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">MainDataBinding</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="typ">DSMain</span><span class="pun">);</span></code></li></ol></pre></div><div>&nbsp; &nbsp; ```<span style="line-height: 1.6;"><br></span></div><div>&nbsp; &nbsp; - 数据集的获取后绑定 `DataBinding(DataSet ds)方式：<br></div><div>&nbsp; &nbsp; ```<br></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-cs"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">override</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">MainDataBinding</span><span class="pun">(</span><span class="typ">DataSet</span><span class="pln"> ds</span><span class="pun">)</span></code></li><li class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ds </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ds</span><span class="pun">.</span><span class="typ">Tables</span><span class="pun">.</span><span class="typ">Count</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></code></li><li class="L3"><code class="language-cs"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L4"><code class="language-cs"><span class="pln">                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ds</span><span class="pun">.</span><span class="typ">Tables</span><span class="pun">.</span><span class="typ">Contains</span><span class="pun">(</span><span class="pln">IC</span><span class="pun">.</span><span class="typ">DictManager</span><span class="pun">.</span><span class="typ">DataMember</span><span class="pun">.</span><span class="pln">M0DictItemManager</span><span class="pun">))</span></code></li><li class="L5"><code class="language-cs"><span class="pln">                </span><span class="pun">{</span></code></li><li class="L6"><code class="language-cs"><span class="pln">                    </span><span class="typ">BindingSource</span><span class="pln"> bindDictItem </span><span class="pun">=</span><span class="pln"> </span><span class="typ" style="background-color: rgb(0, 255, 0);">SetDataBind</span><span class="pun">(</span><span class="pln">ds</span><span class="pun">,</span><span class="pln"> IC</span><span class="pun">.</span><span class="typ">DictManager</span><span class="pun">.</span><span class="typ">DataMember</span><span class="pun">.</span><span class="pln">M0DictItemManager</span><span class="pun">);</span></code></li><li class="L7"><code class="language-cs"><span class="pln">                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">treeDiceItem</span><span class="pun">.</span><span class="typ">DataSource</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L8"><code class="language-cs"><span class="pln">                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">treeDiceItem</span><span class="pun">.</span><span class="typ">DataSource</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bindDictItem</span><span class="pun">;</span></code></li><li class="L9"><code class="language-cs"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L0"><code class="language-cs"><span class="pln">                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ds</span><span class="pun">.</span><span class="typ">Tables</span><span class="pun">.</span><span class="typ">Contains</span><span class="pun">(</span><span class="pln">IC</span><span class="pun">.</span><span class="typ">DictManager</span><span class="pun">.</span><span class="typ">DataMember</span><span class="pun">.</span><span class="pln">M0DictSortMainDataGet</span><span class="pun">))</span></code></li><li class="L1"><code class="language-cs"><span class="pln">                </span><span class="pun">{</span></code></li><li class="L2"><code class="language-cs"><span class="pln">                    </span><span class="typ">BindingSource</span><span class="pln"> bindDictSort </span><span class="pun">=</span><span class="pln"> </span><span class="typ" style="background-color: rgb(0, 255, 0);">SetDataBind</span><span class="pun">(</span><span class="pln">ds</span><span class="pun">,</span><span class="pln"> IC</span><span class="pun">.</span><span class="typ">DictManager</span><span class="pun">.</span><span class="typ">DataMember</span><span class="pun">.</span><span class="pln">M0DictSortMainDataGet</span><span class="pun">);</span></code></li><li class="L3"><code class="language-cs"><span class="pln">                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">gridDictSort</span><span class="pun">.</span><span class="typ">DataSource</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L4"><code class="language-cs"><span class="pln">                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">gridDictSort</span><span class="pun">.</span><span class="typ">DataSource</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bindDictSort</span><span class="pun">;</span></code></li><li class="L5"><code class="language-cs"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L6"><code class="language-cs"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L7"><code class="language-cs"><span class="pln">            </span><span class="kwd">else</span></code></li><li class="L8"><code class="language-cs"><span class="pln">                </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Exception</span><span class="pun">(</span><span class="str">"数据集为空"</span><span class="pun">);</span></code></li><li class="L9"><code class="language-cs"><span class="pln">        </span><span class="pun">}</span></code></li></ol></pre></div><div><span style="line-height: 1.6;">&nbsp; &nbsp; ```</span></div></div></div><div><br></div><div>## 回调方法定义：IC类中正常数据获取完成及异步回调方法的定义, 异常方法代码:</div><div>```</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-cs"><span class="pln">        </span><span class="kwd">void</span><span class="pln"> m_ICDictManager_ThrowSrvErrorEvent</span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span></code></li><li class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">BeginInvoke</span><span class="pun">((</span><span class="typ">MethodInvoker</span><span class="pun">)</span><span class="kwd">delegate</span></code></li><li class="L3"><code class="language-cs"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L4"><code class="language-cs"><span class="pln">                </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">HideLoading</span><span class="pun">();</span></code></li><li class="L5"><code class="language-cs"><span class="pln">                </span><span class="kwd">throw</span><span class="pln"> ex</span><span class="pun">;</span></code></li><li class="L6"><code class="language-cs"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L7"><code class="language-cs"><span class="pln">        </span><span class="pun">}</span></code></li></ol></pre></div></div><div>```</div><div>主要的数据获取方法:</div><div>```</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-cs"><span class="pln">       </span><span class="kwd">void</span><span class="pln"> mdmDataAdapter_DataGetCompletedEvent</span><span class="pun">(</span><span class="kwd">string</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">object</span><span class="pln"> value</span><span class="pun">)</span></code></li><li class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">BeginInvoke</span><span class="pun">((</span><span class="typ">MethodInvoker</span><span class="pun">)</span><span class="kwd">delegate</span></code></li><li class="L3"><code class="language-cs"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L4"><code class="language-cs"><span class="pln">                </span><span class="kwd">try</span></code></li><li class="L5"><code class="language-cs"><span class="pln">                </span><span class="pun">{</span></code></li><li class="L6"><code class="language-cs"><span class="pln">                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="typ">Created</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">IsDisposed</span><span class="pun">)</span></code></li><li class="L7"><code class="language-cs"><span class="pln">                        </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L8"><code class="language-cs"></code></li><li class="L9"><code class="language-cs"><span class="pln">                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">key </span><span class="pun">==</span><span class="pln"> </span><span class="str">"DataSendCmd"</span><span class="pun">)</span></code></li><li class="L0"><code class="language-cs"><span class="pln">                    </span><span class="pun">{</span></code></li><li class="L1"><code class="language-cs"><span class="pln">                        </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">HideLoading</span><span class="pun">();</span></code></li><li class="L2"><code class="language-cs"><span class="pln">                        </span><span class="typ">Function</span><span class="pun">.</span><span class="typ">ShowMsg</span><span class="pun">(</span><span class="str">"同步命令已发送，请稍候查看数据是否同步完成。"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CYEnumerate</span><span class="pun">.</span><span class="typ">MsgType</span><span class="pun">.</span><span class="pln">OK</span><span class="pun">);</span></code></li><li class="L3"><code class="language-cs"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L4"><code class="language-cs"><span class="pln">                    </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">key </span><span class="pun">==</span><span class="pln"> </span><span class="str">"DataSend"</span><span class="pun">)</span></code></li><li class="L5"><code class="language-cs"><span class="pln">                    </span><span class="pun">{</span></code></li><li class="L6"><code class="language-cs"><span class="pln">                        </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">HideLoading</span><span class="pun">();</span></code></li><li class="L7"><code class="language-cs"><span class="pln">                        </span><span class="typ">Function</span><span class="pun">.</span><span class="typ">ShowMsg</span><span class="pun">(</span><span class="str">"数据已发送，请稍候查看数据是否发送成功。"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CYEnumerate</span><span class="pun">.</span><span class="typ">MsgType</span><span class="pun">.</span><span class="pln">OK</span><span class="pun">);</span></code></li><li class="L8"><code class="language-cs"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L9"><code class="language-cs"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L0"><code class="language-cs"><span class="pln">                </span><span class="kwd">finally</span></code></li><li class="L1"><code class="language-cs"><span class="pln">                </span><span class="pun">{</span></code></li><li class="L2"><code class="language-cs"><span class="pln">                    </span><span class="kwd">base</span><span class="pun">.</span><span class="typ">HideLoading</span><span class="pun">();</span></code></li><li class="L3"><code class="language-cs"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L4"><code class="language-cs"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L5"><code class="language-cs"><span class="pln">        </span><span class="pun">}</span></code></li></ol></pre></div></div><div>```</div><div><br></div><div><span style="line-height: 1.6;"><br></span></div><div>## 界面控件方法</div><div>- 重写继承控件方法 `public override void ItemClicked(string key){}` 方法完成相应增加, 子节点的增加删除等动作</div><div>&nbsp; &nbsp; &gt; 原理, 最早通过界面点击相应功能后, 通过反射, 加载对应Dll 后, 判断是`FrmMenuBase`窗体后,对相应Menu进行初始化: `CYSoft.Platform.UI.Main.FrmMain.ShowFrm(...)`-&gt; `new Common.Function.MenuInit(...)`<br></div><div>&nbsp; &nbsp; - `menu.InitFrmMenu(...)`部分完成窗体. 其中异步注册`DataGetAsyncResultCompletedEvent`后完成 `frmMenuBase.InitMenu()` 完成相应ItemClick()的实现方式等.<br></div><div>&nbsp; &nbsp; - `menu.MenuDataCompletedEvent += ...`部分, 相应事件注册, //TODO&nbsp;<br></div><pre style="font-family: 'Lucida Sans Unicode'; background-color: white; background-position: initial initial; background-repeat: initial initial;">- Add()</pre></body></html>