<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>项目调试.md</title>
    <!--mark |wiz_custom_css| for wizeditor replace it-->


<style id="wiz_custom_css">        html, body {            font-size: 15px;        }        body {            font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;            line-height: 1.6;            margin: 0;            padding: 20px 36px;            padding: 1.33rem 2.4rem;        }        h1, h2, h3, h4, h5, h6 {            margin: 20px 0 10px;            margin: 1.33rem 0 0.667rem;            padding: 0;            font-weight: bold;        }        h1 {            font-size: 21px;            font-size: 1.4rem;        }        h2 {            font-size: 20px;            font-size: 1.33rem;        }        h3 {            font-size: 18px;            font-size: 1.2rem;        }        h4 {            font-size: 17px;            font-size: 1.13rem;        }        h5 {            font-size: 15px;            font-size: 1rem;        }        h6 {            font-size: 15px;            font-size: 1rem;            color: #777777;            margin: 1rem 0;        }        div, p, ul, ol, dl, li {            margin: 0;        }        blockquote, table, pre, code {            margin: 8px 0;        }        ul, ol {            padding-left: 32px;            padding-left: 2.13rem;        }        blockquote {            padding: 0 12px;            padding: 0 0.8rem;        }        blockquote > :first-child {            margin-top: 0;        }        blockquote > :last-child {            margin-bottom: 0;        }        img {            border: 0;            max-width: 100%;            height: auto !important;            margin: 2px 0;        }        table {            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        td {            padding: 4px 8px;            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        @media screen and (max-width: 660px) {            body {                padding: 20px 18px;                padding: 1.33rem 1.2rem;            }        }        @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {            html, body {                font-size: 17px;            }            body {                line-height: 1.7;                padding: 0.75rem 0.9375rem;                color: #353c47;            }            h1 {                font-size: 2.125rem;            }            h2 {                font-size: 1.875rem;            }            h3 {                font-size: 1.625rem;            }            h4 {                font-size: 1.375rem;            }            h5 {                font-size: 1.125rem;            }            h6 {                color: inherit;            }            ul, ol {                padding-left: 2.5rem;            }            blockquote {                padding: 0 0.9375rem;            }        }</style><style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style></head>

<body style="" ><span style="color: #b22222;">## 完整编译执行步骤</span><div><font color="#b22222">&gt; Update</font></div><div><font color="#b22222"><br></font></div><div><font color="#b22222">###&nbsp;CYSoft.Platform 解决方案【集】文件夹</font></div><div><font color="#b22222">- Common，Main，Service的逻辑划分， 实际生成仅包括如下2例。</font></div><div><span style="color: rgb(178, 34, 34); line-height: 1.6;">- ***Debug***</span></div><div><span style="color: rgb(178, 34, 34); line-height: 1.6;">&nbsp; &gt; 客户端目录**</span><font color="#b22222">CYSoft.Platform.UI.Main.exe** 窗口界面程序</font></div><div><br></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>- &nbsp;`CYSoft.Platform.Client`, `CYSoft.Platform.Update` 目录下所有工程生成目录均为**`Debug`**目录</div><div>- `CYSoft.Platform.Common`目录下除`CYSoft.Platform.EntityLib`生成目录在**`serverdebug`**目录下，其余工程生成目录全在**`debug`**下</div><div>- &nbsp;个人常规复制内容及配置到^<font color="#b22222" style="line-height: 1.6;">CY02&nbsp;</font><span style="line-height: 1.6; color: rgb(178, 34, 34);">解决方案【集】^ `UI/dll` </span><span style="line-height: 1.6;">目录下用以加载dll完成调试。 如果不需要同时调试平台和加载dll功能可以这么干，否则需要复制</span><span style="line-height: 1.6;">^</span><font color="#b22222" style="line-height: 1.6;">CY02&nbsp;</font><span style="line-height: 1.6; color: rgb(178, 34, 34);">解决方案【集】^ `</span><span style="line-height: 1.6;">下对应模块dll 到该文件目录完成，可以附加过来依然调试，注意dll的全新即可，否则提示版本不对应。</span></div><div><span style="line-height: 1.6;">- &nbsp;***注意***： Plaform更新完之后注意复制最新dll到 `</span>ShareLib\Platform\Platform.Client` 下目录，否则`<span style="color: rgb(178, 34, 34); line-height: 1.6;">CYSoft.CY02`</span><span style="line-height: 1.6;">相应引用dll得不到更新，与Plaform交互传输时报错</span></div><div><span style="line-height: 1.6;">&gt; 举例OrgnID-&gt;OrgID， 此问题耗时6H。</span></div></blockquote><div><font color="#b22222">&nbsp;</font></div><div><font color="#b22222">- ***ServerDebug***</font></div><div><font color="#b22222">&nbsp; &gt; 服务端目录。**CYSoft.Platform.NTService.Router.exe** Console加载服务进程</font></div><div><font color="#b22222"><br></font></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><font color="#b22222">- `CYSoft.Platform.Services` 下所有服务及如上提到的`EntityLib`项目的生成目录，用以加载服务。</font></div><div><font color="#b22222">- 当前主要将`Cy02`下生成的服务复制过来，所以启动服务后加载。同样的问题，如果需要同时调试，那么需要一调试的方式运行Plaform， 然后将Cy02的附加过来。</font></div></blockquote><div><font color="#b22222"><br></font></div><div><font color="#b22222">###&nbsp;CYSoft.CY02&nbsp;</font><span style="color: rgb(178, 34, 34); line-height: 1.6;">解决方案【集】文件夹</span></div><div><font color="#b22222">- Client(UI/IC)，Common，Server的逻辑划分，也同样保持了物理上的三个文件夹。之间的引用，例如Clinet，Server尽量采用项目引用并复制的方式，这样生成时Client（包括UI和IC,所以它们的生成目录形式为 `..\..\dll\ `形式的两个上层目录方式）dll会将需要的dll从各自目录下`Common\dll`复制过来，当然如果直接引用物理dll，则没有这个便利，需要复制过来。所以，需要注意的就是： `保证项目的直接引用： 好处： 同一个解决方案就避免使用dll的方式了，直接复制； 坏处： 分开打开项目引用不方便.`</font></div><div><font color="#b22222">- ***Common***</font></div><div><font color="#b22222">包含了所有公共方法生成dll，生成目录为该下的dll文件夹。CYSoft.Common, CYSoft.CY02. 等命名空间，</font></div><div><font color="#b22222">- ***&nbsp;</font></div><div><font color="#b22222"><br></font><div><font color="#b22222">&gt; 2016/3/3 日注释如下，重新组织如上编写<br></font><div><font color="#b22222">```<br></font><span style="color: #b22222;">### Service端</span><br><span style="color: #808080;">-&nbsp;</span>Platform Service端，需要涉及到Common等相关内容，保证UI及服务关闭即可， 配置文件增加<br>
&nbsp;&nbsp;&gt; 配置文件地址统一，服务命名空间其实是相同的。<br><br><span style="color: #808080;">-&nbsp;</span>CY02 Service端，common及Service生成后复制到Platform对应文件夹中，因为不怎么需要调试。<br><br><span style="color: #b22222;">### Client端</span><br><span style="color: #808080;">-&nbsp;</span>Platform Client端，编译需要用到service中的Interface等，所以要一次生成完毕后进行调试通过，复制到CY02 Client 内dll中。<br><span style="color: #808080;">-&nbsp;</span>Cy02 Clinet端， 编译又涉及到IC及UI。 先保证IC，修改完毕后全部通过，此时IC，类似于Platform里面的各种数据Manage工程，只不过server端没有再列分文件夹而已。<br><span style="color: #808080;">-&nbsp;</span>生成Client UI时，确保未启动Platform Client端，因为编译涉及到其文件。<br><span style="color: #808080;">-&nbsp;</span>总结：保证Server都先固定，然后开始编译调试通过。<br>```</div><div><br><span style="color: #b22222;">### 调试过程</span><br><span style="color: #808080;">-&nbsp;</span>启动service客户端，完成服务开始。<br><span style="color: #808080;">-&nbsp;</span>启动Client 下UI文件夹，运行文件，CY02 UI附件到运行文件上。<div><br></div><div><div>调试过程：</div><div>1. Server端。将CY02 service配置增加到Platform service xml文件中，复制CY02生成的dll到platform serverdebug目录下，运行目前50个</div><div>2. Client端。将paltform debug目录内容复制到CY02 \UI \ debug 文件夹， 运行Client后， 调试CY02，附加到Client进行调试。</div><div>&nbsp;</div><div>问题：</div><div>CY02的引用中包含了ShareLib下相应dll， 如果Platform下对应的dll相应编译改变，譬如UI.Common.dll。 因为CY02引用ShareLib 下dll，默认为复制本地，就将ShareLib下旧dll复制过来，而不是后来platform 下 复制过来的新dll.</div><div>是通过改项目引用 还是 调试步骤有问题？</div><div><br></div></div></div></div></div></body></html>