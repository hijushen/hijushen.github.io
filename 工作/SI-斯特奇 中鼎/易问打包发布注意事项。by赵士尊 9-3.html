<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--defaultCSS-->
<title>易问打包发布注意事项。by赵士尊 9/3</title>





<style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style>









<style type="text/css" id="wiz_custom_css">
body
{
    font-family: Microsoft YaHei UI,"Microsoft YaHei", Georgia,Helvetica,Arial,sans-serif,宋体, PMingLiU,serif;
    font-size: 10.5pt;
    line-height: 1.5;
}
html, body
{
    
    
}
h1 {
    font-size:1.5em;
    font-weight:bold;
}
h2 {
    font-size:1.4em;
    font-weight:bold;
}
h3 {
    font-size:1.3em;
    font-weight:bold;
}
h4 {
    font-size:1.2em;
    font-weight:bold;
}
h5 {
    font-size:1.1em;
    font-weight:bold;
}
h6 {
    font-size:1.0em;
    font-weight:bold;
}
img {
    border:0;
    max-width: 100%;
    height: auto !important;
}
blockquote {
    margin-top:0px;
    margin-bottom:0px;
}
table {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
td {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
</style>

</head>

<body style="" ><div>不要提交！不要提交！至WIN7 SVN中。</div><div>打包生成目录：&nbsp;D:\si\document\Bosd易问XP\Bosd易问\易信掌中云\<span style="background-color: rgb(255, 215, 0);">bin\x86\Release\Output</span></div><div><br></div>本地检测方式:1)先打包一个低版本（修改源码运行，即可知道），然后打包高版本（版本与打包无关）后，会自动检测升级，升级成功代表可用。<div>打包工具下载汉化版：&nbsp;D:\InstallSoftware\innosetup554H&nbsp;</div><div>XP版从SVN下 download 相应更新，但是保留本地特有的相应修改文件。注意如下文件不能更新：</div><div><font face="Microsoft YaHei UI">&nbsp;1） D:\si\document\Bosd易问XP\Bosd易问\易信掌中云\bin\x86\Release\<span style="background-color: rgb(255, 215, 0);">setup.iss 文件</span>。</font><br></div><div><font face="Microsoft YaHei UI">&nbsp;2） Update项目内SVN项目不更新。（</font><font color="#ff0000" style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">SVN替换代码，修改冲突！！！）</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">。</span></div><div><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><font face="Microsoft YaHei UI">&lt;add key="UpdateSql" value="false" /&gt; -变更成 true。<br></font></div><div><font face="Microsoft YaHei UI"><br></font></div><div><div>替换.net 4.0不支持的方法。</div><div>用<font color="#ff0000">A)&nbsp;</font><span style="background-color: rgb(255, 215, 0);"><font color="#ff0000">Base</font>Class的Delay替换Task.Delay(),用Task.Factory.<font color="#ff0000">StartNew()</font>替换Task.Run()</span>。</div></div><div><font face="Microsoft YaHei UI"><br></font></div><div><font face="Microsoft YaHei UI">版本号修改：&nbsp;AssemblyInfo.cs 内版本号 2处（在一起.) 。打包时修改相应版本号。</font></div><div><font face="Microsoft YaHei UI"><br></font></div><div><br></div><div><font face="Microsoft YaHei UI">--Update.</font></div><div><font face="Microsoft YaHei UI">案例一， 方法无法运行</font></div><div>this.Dispatcher.Invoke(() =&gt; { img_arrow.Visibility = Visibility.Visible; });<font face="Microsoft YaHei UI"><br></font></div><div>1）更改成:&nbsp;<span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5; color: blue;">this</span><span style="background-color: white; font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">.Dispatcher.Invoke<font color="#ff0000">(</font></span><span style="background-color: rgb(255, 215, 0);"><font color="#ff0000"><span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">new</span><span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">&nbsp;</span><span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">Action</span><span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">(</span></font></span><span style="background-color: white; font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;"><font color="#ff0000">()&nbsp;</font>=&gt;&nbsp;{&nbsp;img_arrow.Visibility&nbsp;=&nbsp;</span><span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5; color: rgb(43, 145, 175);">Visibility</span><span style="background-color: white; font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">.Visible;&nbsp;}));</span></div><div><font face="Lucida Sans Unicode">案例二，音频播放异常</font></div><div><font face="Lucida Sans Unicode">更新包下</font><span style="color: rgb(255, 0, 0); font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;"><span style="background-color: rgb(255, 215, 0);">ffmpeg.exe</span> </span><span style="font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;">下文件，解决XP版本下<span style="background-color: rgb(255, 215, 0);">音频播放的问题</span>。</span></div><div><span style="background-color: white; font-family: 'Lucida Sans Unicode'; font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><font face="Lucida Sans Unicode">DNS路径的选择：</font></div><div><font face="Lucida Sans Unicode"><div>#115.239.138.163 &nbsp;eask.teamshub.com //正式环境</div><div>134.100.65.182 &nbsp;eask.teamshub.com &nbsp;//测试环境</div><div><br></div></font></div><div><font face="Microsoft YaHei UI"><br></font></div></body></html>