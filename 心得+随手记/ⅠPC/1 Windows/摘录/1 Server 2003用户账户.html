<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>1 Server 2003用户账户</title><?xml version="1.0" encoding="UTF-8"?>


<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>1 不同用户SID（英文和阿拉伯数字组合）不同 administrator管理员账号<br/>
① 本地用户账户<br/>
&nbsp;&nbsp; 工作组模型下创建，创建一个新的账户，保存到SAM数据库之中。<br/>
② 域用户账户<br/>
&nbsp; &nbsp; 2组模型，工作组模型和域模型，Ative Directory（AD活动目录） 控制器在工作组模型下创建的账号叫本地用户账户，在域控制器上创建的是域用户模型账户。域控制器，ntds.dat文件，活动目录数据库。 &nbsp;</div><div>③用户新建位置不同，在登录时需选择相应的环境，否则会出错。</div><div>lusrmgr.msc本地用户和组 &nbsp; dsa.msc域用户账户为运行命令</div><div>④添加用户net user grace 123 /add grace用户，密码123</div><div>&nbsp; &nbsp; net user grace 456 更改用户密码456 ； net user grace /del删除用户grace</div><div>⑤用户本地用户的讨论</div><div>&nbsp; &nbsp; &nbsp;本地用户信息部仅仅保存在sam数据库中，还有一部分信息存储在注册表中 LOCALMACHINE SAM SAM子目录下，需要权限，右键给管理员组以完全控制的权限；</div><div>注册表中用户类型为0X1f4，是十六进制，转为十进制为500，这为SID的数字结尾。唯一，名字可以换，但是SID改不了，成为黑客寻找管理员账户的必备法宝。&nbsp;</div><div>在Users里面找到管理员里面的F值复制给其他人就拥有管理员权限。黑客技术，神奇！</div><div><font color="#FF4635">&nbsp;创建隐藏账户</font></div><div>&nbsp; &nbsp; 导出替换过管理员F值得注册表，然后导入进系统注册表之中，这样在注册表之中就可以发现多了用户账户，但是无论在图形界面或者命令行net user都无法发现他。但是他可以登录，隐形人。</div><div>⑥用户密码</div><div>Windows默认加密方法，不够14位自动补0，凑14位，然后分开7位单独弱加密。&nbsp;</div><div>空密码问题，流光破解密码，对于空密码无法构成 &nbsp;网络连接，比简单密码要好。</div><div>⑧-①用户配置文件</div><div>在Documents and Settings中有各个用户的文档和 配置。</div><div>⑧漫游用户配置文件：原理就是把用户配置文件存在一个集中的位置，而不是登陆机器上，只要联网的机器都可以。在AD控制器下选择用户属性，选择共享路径，采用网络路径写法\\192.168.1.3\doc\%username% （username为变量，用户名）。集中文件中该文档只有本人有权限观看，连管理员都没有该权限：</div><div>&nbsp; &nbsp; &nbsp;1)桌面，开始菜单，我的文档操作；就是c盘用户目录下相应账户文件夹目录；本地对应文件夹和服务器对应域控制器进行同步。漫游用户配置文件。</div><div>&nbsp; &nbsp; &nbsp;2)管理员夺权：进行文件夹属性进行对管理员完全控制，</div><div>&nbsp; &nbsp; &nbsp;3)强制漫游用户配置文件。在漫游用户文件状态下，在用户配置文件夹时打开隐藏文件，NUUSER.DAT文件更改后缀，更改为man。在AD服务器端进行抢文件权限，或者使用用户远程访问，更改服务器端文件。本地和服务器端要同时更改，注销和启动都会同步。其中用到的技术有，<font color="#3665EE">在本地使用理员登陆后，使用一个用户建立网络连接的方式</font>，主要连接服务器端进行文件的更改：net use <a href="file://192.168.1.4/">\\192.168.1.4</a>&nbsp;用户密码 /user:用户名。使用该用户名建立一个网络连接，相当于使用a用户连接网络。</div><div>&nbsp; &nbsp; &nbsp; 相关矛盾分析：</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.a用户登录之后可以修改服务器端漫游文件权限，但本地的修改不了，登录状态下肯定是更改不了的，注销之后自动同步本地到服务器端；</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.使用管理员登录可以修改本地用户a的本地文件权限，但是服务器端不夺权是无法更改的，使用a用户登录系统，自动从服务器端同步到本地。</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.解决方案一：使用本地管理员登录，修改用户a 配置文件之后，在使用用户a建立一个网络连接，访问漫游用户配置文件夹进行修改，同时更改，搞定！常规方法。</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.解决方案二：服务器端管理员夺取修改？本地管理员也修改，搞定？（待验证！应该也可以。）</div><div>&nbsp; &nbsp; &nbsp;4)强制漫游用户配置文件的作用，你在桌面新建一个任何东西都无法保存，保持用户桌面的纯净化。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp;5)多个用户用同一个桌面：修改注册表，每个用户配置文件路径存在相同的项之中。注册表之中HKEY_LOCAL_MACHINE\ SFOTWARE\ MICROSOFT\ WINDOWS NT\CURRENTVersion\ProfileList 下文件夹即为个用户SID号，其中有ProfileImagePath即为配置文件所在路径。修改路径为所需配置文件，确保文件夹对用户的权限开放。</div><div><br/></div><div>1.常见issue:不能输用户名密码，只能选择：Ctrl+Alt+2下del键就可以打开输入对话框；</div><div>2.域上普通用户如何成为客户机本地管理员成员组？ ①手动添加②写脚本，net localgroup，</div><div>3.企业管理员密码可被域管理员密码修改；企业管理员组group 和域管理员组Domain group，</div><div>4.msgina.dll反编译，更改对话框，把登录到对话框，不可选择，让计算机只能登录到域</div><div>5.隐藏用户防治，手动看注册表，手动删除就可以了。防治管理员密码失窃；</div><div>6.ERDCMD.iso管理员账户解锁，刻录光盘启动。</div><div>7.abmkey 2.0，启动密码加密，强加密一个域到另一个域迁移到另一个域，连密码一起迁移。微软有相应KB。</div><div>8.retedt32 win 2000注册表权限</div><div>9.影子账户，克隆账户不会单独产生用户配置文件夹；</div><div>10.本地用户也可以设置强制漫游用户和组的，但是需要在本地用户和组中设置属性更改为某一文件件；</div><div>11.隐藏账户重启就会显示</div><div>12.更改用户配置文件夹在其他盘，需要修改注册表。</div><div>kongwenda@itgoldenbeidge.com</div><div>&nbsp; &nbsp; &nbsp;</div><div><br/></div><div><br/></div><div><br/></div></div>