<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">


        
        




        <link rel="dns-prefetch" href="http://res.wx.qq.com/">
<link rel="dns-prefetch" href="http://mmbiz.qpic.cn/">



        <title>前端知识普及之页面加载</title>
        
<link rel="stylesheet" type="text/css" href="前端知识普及之页面加载_files/page_mp_article_improve2c9cd6.css">
<style>
     
    </style>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg/page_mp_article_improve_pc2c9cd6.css">
<![endif]-->


    </head>
    <body id="activity-detail" class="zh_CN mm_appmsg" ontouchstart="">
        
    
    
    <div id="js_cmt_mine" class="discuss_container editing access" style="display:none;">
        <div class="discuss_container_inner">
            <h2 class="rich_media_title">前端知识普及之页面加载</h2>
            <span id="log"></span>
            <div class="frm_textarea_box_wrp">
                <span class="frm_textarea_box">
                    <textarea id="js_cmt_input" class="frm_textarea" placeholder="留言将由公众号筛选后显示，对所有人可见。"></textarea>
                    <div class="emotion_tool">
                        <span class="emotion_switch" style="display:none;"></span>
                        <span id="js_emotion_switch" class="pic_emotion_switch_wrp">
                            <img class="pic_default" src="前端知识普及之页面加载_files/icon_emotion_switch.2x278965.png" alt="">
                            <img class="pic_active" src="前端知识普及之页面加载_files/icon_emotion_switch_active.2x278965.png" alt="">
                        </span>
                        <div class="emotion_panel" id="js_emotion_panel">
                            <span class="emotion_panel_arrow_wrp" id="js_emotion_panel_arrow_wrp">
                                <i class="emotion_panel_arrow arrow_out"></i>
                                <i class="emotion_panel_arrow arrow_in"></i>
                            </span>
                            <div class="emotion_list_wrp" id="js_slide_wrapper">
                                
                                
                            </div>
                            <ul class="emotion_navs" id="js_navbar">
                                
                            </ul>
                        </div>
                    </div>
                </span>
            </div>
            <div class="discuss_btn_wrp"><a id="js_cmt_submit" class="btn btn_primary btn_discuss btn_disabled" href="">提交</a></div>
            <div class="discuss_list_wrp" style="display:none">
                <div class="rich_tips with_line title_tips discuss_title_line">
                    <span class="tips">我的留言</span>
                </div>
                <ul class="discuss_list" id="js_cmt_mylist"></ul>
            </div>
            <div class="rich_tips tips_global loading_tips" id="js_mycmt_loading">
                <img src="前端知识普及之页面加载_files/icon_loading_white2805ea.gif" class="rich_icon icon_loading_white" alt="">
                <span class="tips">加载中</span>
            </div>
            <div class="wx_poptips" id="js_cmt_toast" style="display:none;">
                <img alt="" class="icon_toast" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABqCAYAAABUIcSXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyMTUxMzkxZS1jYWVhLTRmZTMtYTY2NS0xNTRkNDJiOGQyMWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA3QzM2RTg3N0UwMTFFNEIzQURGMTQzNzQzMDAxQTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA3QzM2RTc3N0UwMTFFNEIzQURGMTQzNzQzMDAxQTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWMyOGVjZTMtNzllZS00ODlhLWIxZTYtYzNmM2RjNzg2YjI2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIxNTEzOTFlLWNhZWEtNGZlMy1hNjY1LTE1NGQ0MmI4ZDIxYiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmvxj1gAAAVrSURBVHja7J15rF1TFMbXk74q1ZKHGlMkJVIhIgg1FH+YEpEQJCKmGBpThRoSs5jVVNrSQUvEEENIhGiiNf9BiERICCFIRbUiDa2qvudbOetF3Tzv7XWGffa55/uS7593977n3vO7e5+199p7v56BgQGh0tcmvAUERREUQVEERREUQVEERREUQVEERREUQVEERREUQVEERREUQVEERVAUQVEERVAUQbVYk+HdvZVG8b5F0xj4RvhouB+eCy8KrdzDJc1RtAX8ILxvx98V1GyCSkN98Cx4z/95/Wn4fj6j6tUEeN4wkFSnw1MJqj5NhBfAuwaUHREUg4lqNMmePVsHll/HFhVfe1t3FwpJI8DXCCquDrCWNN4B6Tb4M3Z98aTPmTvh0YHl18PXw29yZiKejoPvcUD6E74yFBJbVDk6Bb7K8aP/Hb4c/tRzEYIqprPhSxzlf4Uvhb/0Xoig8qnHAJ3lqPMzfDH8XZ4LEpRf2sVdA5/sqPO9Qfop70UJyn+/boaPddT5yrq7VUUvTIVJI7q74MMddXR8NB1eXcYvhBpZm0s2w72/o86HFoKvLau/pYaXzjLMdUJ6y0LwtWV9CIIaXtvA8+G9HHV03u5q+K+yH47U0NoRngPv7KjzHDwTLj0bS1BDazfJJlcnOOostC6ysnCT+q80G/sIvFVgeW09D8FPVT0uoP7VfvAD8NjA8pqmuAN+OcYAjso0RbIZ8DGB5TVNcRO8JMaHY9SXSdfa3eeANJimWBLrA7JFiZwIXye+NMUV8CcxP2SRFjXefok7NRjSGZJlWUPvw2/wtNiQirSoXWyMsR28wR7AzzYM0oXw+Y7yK+CLJGeaoqjyrJSdZJD6Ov4+z5y6NJc0Az7NUecHydIUy+v60KNyQHoM3nKI1y7YCFiq0i7uBvgER52vDdKqWn9djhY1Dn4G3n6Ecqm2rF74dvgoR53S0hQxW9RJAZAGW5bSn58QJA27dQ7uIEedjywEX5NKVxCqsY6y+qA+LxFI4+yZ6oH0trWkNan80jygtIUsc5SflgAsDXgehfdx1KkkTRE76tN+Xue2jnTU0Ru1oIbvpt30bBtKhOp5yaaRkts0lic8V1i6dPcIRx2d/l8Y8XtNNEg7OOo8bl1kmmOKnDsO88CaYzejau0hWZqiL7C83oCH4SeTHvwV2BqqsHRVztSEYOmWF80NeXZT6Hd4KflResE9vCnBOlCyGfDNAstHTVPUDWoQ1t3iW+9WNizvlhfd4aerXd+ThqiMfNR6+9LvOOro5OY5JX2H4+F7HZD+kGzlamMgldWiirQsjcwWFbjmqZJteekJLK9pisvgL6RhKvuciZiwzrWWGapfrPy30kBVcSBIrw0aD3PU0XB6cehntq7rTMf7/2iQlktDVdXJLXlg6VjmiYBn6rWSTRCH6hvJ0hQrpcGq8oidsmHpTP8t8DGO9/vcWt9qabiqPgup1yKyQwvC2tSefZ73SSpNkUJ4PlLorlHZ+446nc8f3fIyywlJhwrTuwVSjBa1ccvSxN0hjjoK5xVrYZMd9V6XbFfgBukixTwGLg8sDam3dZR/wZ6L/dJlin1en8LS+bgpFbz3Ygvzu1J1HKxYNqxGpCmaCEo12rrBorD6LRp8UbpcdR5VWhTW35KlKd6QFqjuM2XzwlpnMxTvSkuUwuG/Xlg6NtPjbT6WFimF/VG6LEvXgn8QGDjMbBukVECFwhpoS+CQatfX2Q1q6H7wENHdrfCr0lKleEB9JyxNneus+VJpsVL9TwI6W65LovWIGl3KtVJaLv7LBwYTFEERFEVQFEERFEVQFEERFEVQFEERFEVQFEERFEVQFEERFFWq/hFgADUMN4RzT6/OAAAAAElFTkSuQmCC">
                <p class="toast_content">已留言</p>
            </div>
        </div>
    </div>

    <div id="js_article" class="rich_media">
        
        <div id="js_top_ad_area" class="top_banner">
 
        </div>
                

        <div class="rich_media_inner">
            <div id="page-content">
                <div id="img-content" class="rich_media_area_primary">
                    <h2 class="rich_media_title" id="activity-name">
                        前端知识普及之页面加载 
                    </h2>
                    <div class="rich_media_meta_list">
                        						                        <em id="post-date" class="rich_media_meta rich_media_meta_text">2016-04-10</em>

                                                <em class="rich_media_meta rich_media_meta_text">jimmy_thr</em>
                                                <a class="rich_media_meta rich_media_meta_link rich_media_meta_nickname" href="" id="post-user">前端开发</a>
                        <span class="rich_media_meta rich_media_meta_text rich_media_meta_nickname">前端开发</span>

                        <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                            <div class="profile_inner">
                                <strong class="profile_nickname">前端开发</strong>
                                <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                                <p class="profile_meta">
                                <label class="profile_meta_label">微信号</label>
                                <span class="profile_meta_value">qianduan1024</span>
                                </p>

                                <p class="profile_meta">
                                <label class="profile_meta_label">功能介绍</label>
                                <span class="profile_meta_value">分享Web前端开发中HTML5、JavaScript、CSS3编程学习知识</span>
                                </p>
                                
                            </div>
                            <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                                <i class="profile_arrow arrow_out"></i>
                                <i class="profile_arrow arrow_in"></i>
                            </span>
                        </div>
                    </div>
                    
                    
                    
                    
                                                            
                                                            
                    
                    <div class="rich_media_content " id="js_content">
                        
                        <blockquote><p><span style="color: rgb(0, 82, 255);"><strong><span style="font-size: 14px;">来自：SegmentFault</span></strong></span></p><p><span style="color: rgb(0, 82, 255);"><strong><span style="font-size: 14px;">作者：jimmy_thr</span></strong></span></p><p><span style="color: rgb(0, 82, 255);"><strong><span style="color: rgb(0, 82, 255); font-size: 14px;">链接：https://segmentfault.com/a/1190000004466407</span></strong></span></p></blockquote><p><br  /></p><p>如果大家想继续看下面的内容的话，有一个要求，就是回答我一个问题:</p><p>你这样写过代码吗？</p><p><span style="line-height: 1.6;"><br  /></span></p><blockquote><p><span style="line-height: 1.6; font-size: 14px;">window.onload = function(){</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; $(&quot;.gravatar&quot;).on(&#39;click&#39;,function(){</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; //...</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; });</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; //以及其他操作DOM的节点</span></p><p><span style="font-size: 14px;">}</span></p></blockquote><p><br  /></p><p>如果答案是 yes. 那么，bingo, 这里我们将深入讲解，这样写代码到底有没有IQ。&nbsp;</p><p><br  /></p><p>如果答案是 No. 那么，2333333, 你也可以看一下。 万一哪天用上了呢？</p><p>可能会有童鞋反问，那么，我改怎么写呢？</p><p><br  /></p><p>没错，这里就是说的就是这个。&nbsp;</p><p><br  /></p><p>使用过jquery的童鞋，应该知道有一个叫做ready的方法.</p><p>即:</p><p><span style="line-height: 1.6;"><br  /></span></p><blockquote><p><span style="font-size: 14px; line-height: 1.6;">$(document).ready(function(){<br  /></span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; //操作DOM相关</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; //...</span></p><p><span style="font-size: 14px;">})</span></p></blockquote><p><br  /></p><p>那这个和上面的写法有什么区别呢？ 谁比较好一点呢(指性能)？</p><p><br  /></p><p>wait wait wait ~&nbsp;</p><p><br  /></p><p>这问题有点多诶。 不急。 想想看， jquery老大哥 就是帮你 提高性能的，肯定是下面那种好呢。&nbsp;</p><p><br  /></p><p>Why?</p><p><br  /></p><p>原因我们接着说.</p><p><span style="line-height: 1.6;"><br  /></span></p><p><span style="color: rgb(171, 25, 66);"><strong><span style="line-height: 1.6;">页面加载</span></strong></span><br  /></p><p><span style="line-height: 1.6;"><br  /></span></p><p>页面加载就是从你输入网址+enter开始，发生的一些列过程，最终到页面显示。 从微观上分的话，页面加载有两部分</p><p><br  /></p><p>一个是以DOMContentLoaded触发为标志的DOM树的渲染完成</p><p>一个是以辅助资源img,font加载完成为触发标志的onload事件</p><p><br  /></p><p>他们两个的具体区别就是&quot;资源的加载&quot;这个关键点.</p><p><br  /></p><p><strong>在获得数据响应后,页面开始解析,发生的过程为:</strong></p><p><br  /></p><p>(1) 解析HTML结构。&nbsp;</p><p>(2) 加载外部脚本和样式表文件。&nbsp;</p><p>(3) 解析并执行脚本代码。&nbsp;</p><p>(4) 构造HTML DOM模型。//ready执行&nbsp;</p><p>(5) 加载图片等外部文件。&nbsp;</p><p>(6) 页面加载完毕。//load执行</p><p><br  /></p><p>其实，说到这里，这篇文章就已经结束了。&nbsp;</p><p><br  /></p><p>想得美。</p><p><br  /></p><p>这只是，页面加载很浅的一块，前端能在页面加载上做的工作其实超级多。 要知道， 从你输入网站 + enter键后，发生的过程为:</p><p><br  /></p><p>重定向=&gt;检查DNS缓存=&gt; DNS解析 =&gt; TCP连接 =&gt; 发请求 =&gt; 得到响应=&gt; 浏览器处理 =&gt; 最后onload</p><p><span style="line-height: 1.6;"><br  /></span></p><p><span style="line-height: 1.6;">你可以数一数，前文的页面加载和这里的页面加载的范围到底是怎样的一个区别. 也就是说上文的页面加载其实 只算是&nbsp;</span></p><p><span style="line-height: 1.6;"><br  /></span></p><p>浏览器处理=&gt; 最后onload这一过程。 懂吧。 很小很小。</p><p><br  /></p><p>所以，这里我们先从宏观上来讲解一下，页面加载的整个流程.</p><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>宏观页面加载</strong></span></p><p><br  /></p><p>这样，干讲页面加载真的很没趣诶， 又没有吃的，又没有程序员鼓励师，又没有leader的加薪，凭借的是本宝宝的 满腔热情 和 对技术的执着。 感动吧~&nbsp;</p><p>开玩笑的， 意淫了之后。我们说正事。</p><p><br  /></p><p>如果我们想深入了解宏观页面加载，需要掌握ECMA5新给出的一个API。 performance . 是不是 感觉很熟悉呢？</p><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>performance简单讲解</strong></span></p><p><br  /></p><p>以前，我们来检查浏览器的时候，大部分情况下是使用</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">console.time(specialNum);</span></p><p><span style="font-size: 14px;">console.timeEnd(specialNum);</span></p></blockquote><p><br  /></p><p>或者</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">new Date().getTime();</span></p><p><span style="font-size: 14px;">//或者</span></p><p><span style="font-size: 14px;">Date.now();</span></p></blockquote><p><br  /></p><p>上面说的两种方法， 获取的精度都是毫秒级(10^-6)，对于一些非常精确的测试，他们的作用来还是蛮有限的，而且获取数据的方式，也比较complicated.</p><p>ES5提出的performance可以获取到，微秒级别(10^-9). 而且，能够得到后台事件的更多时间数据。</p><p><br  /></p><p>他的兼容性是IE9+ 。 觉得已经足够了。</p><p><span style="line-height: 1.6;"><br  /></span></p><p><span style="color: rgb(171, 25, 66);"><strong><span style="line-height: 1.6;">performance.timing对象</span></strong></span></p><p><span style="line-height: 1.6;"><br  /></span></p><p>通常，我们可以从performance.timing对象上，获得我们想要的一切时间值.具体有哪些，我就不赘述了。直接看一张图:</p><p><br  /></p><p><img data-s="300,640" data-type="png"  data-ratio="0.5971223021582733" data-w=""   SRC="前端知识普及之页面加载_files/0.jpg" /><br  /></p><p>（from Sam Dutton）</p><p><br  /></p><p>比如，我们获得重定向时间用:</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">var time = performance.timing;</span></p><p><span style="font-size: 14px;">var redirect = time.redirectEnd - time.redirectStart; //单位为微秒</span></p></blockquote><p><br  /></p><p>这就已经够我们用的啦。&nbsp;</p><p><br  /></p><p>里面需要进行一点解释</p><p><br  /></p><p>即DOMContentLoaded事件 是在domContentLoaded那段触发的。图中所指的domContentLoaded其实分为两块, 一个是domContentLoadedEventStart和domContentLoadedEventEnd. 详见下述说明:(from 赖小赖小赖)</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">// 获取 performance 数据</span></p><p><span style="font-size: 14px;">var performance = {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; // memory 是非标准属性，只在 Chrome 有</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; // 财富问题：我有多少内存</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; memory: {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; usedJSHeapSize: &nbsp;16100000, // JS 对象（包括V8引擎内部对象）占用的内存，一定小于 totalJSHeapSize</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; totalJSHeapSize: 35100000, // 可使用的内存</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; jsHeapSizeLimit: 793000000 // 内存大小限制</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; },</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; // &nbsp;哲学问题：我从哪里来？</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; navigation: {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; redirectCount: 0, // 如果有重定向的话，页面通过几次重定向跳转而来</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; type: 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 0 &nbsp; 即 TYPE_NAVIGATENEXT 正常进入的页面（非刷新、非重定向等）</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 1 &nbsp; 即 TYPE_RELOAD &nbsp; &nbsp; &nbsp; 通过 window.location.reload() 刷新的页面</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 2 &nbsp; 即 TYPE_BACK_FORWARD 通过浏览器的前进后退按钮进入的页面（历史记录）</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 255 即 TYPE_UNDEFINED &nbsp; &nbsp;非以上方式进入的页面</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; },</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; timing: {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 在同一个浏览器上下文中，前一个网页（与当前页面不一定同域）unload 的时间戳，如果无前一个网页 unload ，则与 fetchStart 值相等</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; navigationStart: 1441112691935,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 前一个网页（与当前页面同域）unload 的时间戳，如果无前一个网页 unload 或者前一个网页与当前页面不同域，则值为 0</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; unloadEventStart: 0,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 和 unloadEventStart 相对应，返回前一个网页 unload 事件绑定的回调函数执行完毕的时间戳</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; unloadEventEnd: 0,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 第一个 HTTP 重定向发生时的时间。有跳转且是同域名内的重定向才算，否则值为 0&nbsp;</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; redirectStart: 0,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 最后一个 HTTP 重定向完成时的时间。有跳转且是同域名内部的重定向才算，否则值为 0&nbsp;</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; redirectEnd: 0,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 浏览器准备好使用 HTTP 请求抓取文档的时间，这发生在检查本地缓存之前</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; fetchStart: 1441112692155,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // DNS 域名查询开始的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domainLookupStart: 1441112692155,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // DNS 域名查询完成的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domainLookupEnd: 1441112692155,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // HTTP（TCP） 开始建立连接的时间，如果是持久连接，则与 fetchStart 值相等</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接开始的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; connectStart: 1441112692155,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // HTTP（TCP） 完成建立连接的时间（完成握手），如果是持久连接，则与 fetchStart 值相等</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接完成的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 注意这里握手结束，包括安全连接建立完成、SOCKS 授权通过</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; connectEnd: 1441112692155,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // HTTPS 连接开始的时间，如果不是安全连接，则值为 0</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; secureConnectionStart: 0,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // HTTP 请求读取真实文档开始的时间（完成建立连接），包括从本地读取缓存</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 连接错误重连时，这里显示的也是新建立连接的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; requestStart: 1441112692158,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // HTTP 开始接收响应的时间（获取到第一个字节），包括从本地读取缓存</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; responseStart: 1441112692686,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // HTTP 响应全部接收完成的时间（获取到最后一个字节），包括从本地读取缓存</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; responseEnd: 1441112692687,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 开始解析渲染 DOM 树的时间，此时 Document.readyState 变为 loading，并将抛出 readystatechange 相关事件</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domLoading: 1441112692690,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 完成解析 DOM 树的时间，Document.readyState 变为 interactive，并将抛出 readystatechange 相关事件</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 注意只是 DOM 树解析完成，这时候并没有开始加载网页内的资源</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domInteractive: 1441112693093,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // DOM 解析完成后，网页内资源加载开始的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 在 DOMContentLoaded 事件抛出前发生</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domContentLoadedEventStart: 1441112693093,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // DOM 解析完成后，网页内资源加载完成的时间（如 JS 脚本加载执行完毕）</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domContentLoadedEventEnd: 1441112693101,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // DOM 树解析完成，且资源也准备就绪的时间，Document.readyState 变为 complete，并将抛出 readystatechange 相关事件</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; domComplete: 1441112693214,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // load 事件发送给文档，也即 load 回调函数开始执行的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // 注意如果没有绑定 load 事件，值为 0</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; loadEventStart: 1441112693214,</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; // load 事件的回调函数执行完毕的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; loadEventEnd: 1441112693215</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">};</span></p></blockquote><p><br  /></p><p>不过performance还有另外一个方法 now</p><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>performance.now()</strong></span></p><p><br  /></p><p>通常，我们会将该方法和Date.now()进行一个对比。</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">performance.now(); &nbsp;//输出是微秒级别</span></p><p><span style="font-size: 14px;">Date.now(); &nbsp;//输出是毫秒级别</span></p></blockquote><p><br  /></p><p>其中Date.now()是输出 从1970年开始的毫秒数.</p><p><br  /></p><p>performance.now()参考的是从.performance.timing.navigationStart(页面开始加载)的时间, 到现在的微秒数.</p><p><br  /></p><p>这里，我们可以使用performance.now()来模拟获取DomContentLoaded的时间。</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">var timesnipe = performance.now();</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; document.addEventListener(&#39;DOMContentLoaded&#39;, function() {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log(performance.now() - timesnipe);</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; }, false);</span></p><p><br  /></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; window.addEventListener(&#39;load&#39;, function() {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(performance.now() - timesnipe);</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; }, false);</span></p><p><span style="font-size: 14px;">//但是这样并不等同于,只能算作约等于</span></p><p><span style="font-size: 14px;">performance.timing.domContentLoadedEventStart - performance.timing.domLoading; //检测domLoadEvent触发时间</span></p></blockquote><p><br  /></p><p>上面不相等的原因就在于，当执行script的时候，DOM其实已经开始解析DOM和页面内容， 所以会造成时间上 比 真实时间略短。另外performance还有其他几个API,比如makr,getEntries. 不过，这里因为和页面显示的关系不是很大，这里就不做过多的讲解了。 有兴趣，可以参考:赖小赖小赖</p><p><br  /></p><p>接下来，我们一步一步来看一下，页面加载的整个过程.</p><p><strong style="line-height: 1.6; color: rgb(171, 25, 66);"><br  /></strong></p><p><strong style="line-height: 1.6; color: rgb(171, 25, 66);">redirect</strong></p><p><br  /></p><p>这是页面加载的第一步(也有可能没有). 比如，当一个页面已经迁移，但是你输入原来的网站地址的时候就会发生。&nbsp;</p><p><br  /></p><p>或者， 比如example.com -&gt; m.example.com/home 。 这样耗费的时间成本是双倍的。 这里就会经过两次DNS解析，TCP连接，以及请求的发送。所以，在后台设置好正确的网址是很重要的。</p><p><br  /></p><p>如图:</p><p><img data-s="300,640" data-type="png"  data-ratio="0.5737410071942446" data-w=""   SRC="前端知识普及之页面加载_files/0_2.jpg" /><br  /></p><p><br  /></p><p>这里，我们可以使用.performance的属性,计算出重定向时间</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">redirectTime = redirectEnd - redirectStart</span></p></blockquote><p><br  /></p><p>接着我们就到了cache,DNS,TCP,Request,以及Response的阶段</p><p><span style="line-height: 1.6;"><br  /></span></p><p><span style="color: rgb(171, 25, 66);"><strong><span style="line-height: 1.6;">cache,DNS,TCP,Request,Response</span></strong></span><br  /></p><p><br  /></p><p>如果我们的域名输入正确的话，接着，浏览器会查询本地是否有域名缓存(appCache)，如果有，则不需要进行DNS解析，否则需要对域名进行解析，找到真实的IP地址，然后建立3次握手连接， 发送请求， 最后接受数据。 通常，这一部分，可以做的优化有:</p><p><br  /></p><p>发送请求的优化:加异地机房，加CDN.(加快解析request)</p><p><br  /></p><p>请求加载数据的优化:页面内容经过 gzip 压缩，静态资源 css/js 等压缩(request到response的优化)</p><p><br  /></p><p>ok~ 使用performance测试时间为:</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">// DNS 缓存时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; times.appcache = t.domainLookupStart - t.fetchStart;</span></p><p><span style="font-size: 14px;">// TCP 建立连接完成握手的时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; times.connect = t.connectEnd - t.connectStart;</span></p><p><span style="font-size: 14px;">//DNS 查询时间</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; times.lookupDomain = t.domainLookupEnd - t.domainLookupStart;</span></p><p><span style="font-size: 14px;">//整个解析时间</span></p><p><span style="font-size: 14px;">var lookup = t.responseEnd - t.fetchStart;</span></p></blockquote><p><br  /></p><p>其实，只要对照那个图查查over，不用太关注上面的式子。使用时需要注意，performance的相关操作，最好放在onload的回调中执行，避免出现异常的bug.</p><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>process,onload</strong></span></p><p><br  /></p><p>这里的过程其实就和开头的时候说的一样</p><p><br  /></p><p>(1) 解析HTML结构。&nbsp;</p><p>(2) 加载外部脚本和样式表文件。&nbsp;</p><p>(3) 解析并执行脚本代码。&nbsp;</p><p>(4) 构造HTML DOM模型。//ready执行&nbsp;</p><p>(5) 加载图片等外部文件。&nbsp;</p><p>(6) 页面加载完毕。//load执行</p><p>ok~ 这里，我们来计算一下时间:</p><p>上performance</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">//计算DOMContentLoaded触发时间</span></p><p><span style="font-size: 14px;">var contentLoadedTime = t.domContentLoadedEventStart-t.domLoading</span></p><p><span style="font-size: 14px;">//计算load触发时间</span></p><p><span style="font-size: 14px;">var loadTime = t.domComplete - t.domLoading;</span></p></blockquote><p><br  /></p><p>更直观的，我们可以在Chrome的developer工具的network选项里面得到我们想要的答案.</p><p><br  /></p><p><img data-s="300,640" data-type="jpeg"  data-ratio="0.09712230215827339" data-w=""   SRC="前端知识普及之页面加载_files/0_3.jpg" /><br  /></p><p><br  /></p><p>这两个线，分别代表的是DOMContentLoaded和onload触发的时间。 这也更能直观的看出，DOMContentLoaded事件比onload事件先触发吧。现在回到我们开头的那个问题。我们到底该将代码写在什么地方呢？&nbsp;</p><p><br  /></p><p>这里，这个问题就很好回答了。如果你的js文件涉及DOM操作，可以直接在DOMContentLoaded里面添加回调函数，或者说基本上我们的js文件都可以写在里面进行调用. 其实，这和我们将js文件放在body底部，在js上面加async,defer,以及hard Callback异步加载js文件的效果是一样一样的。</p><p><br  /></p><p>上面一部分我有篇文章已经介绍过了，所以这里就不赘述了。</p><p><br  /></p><p>接下来我们要做的最后一件事，就是看看jquery老大哥，他的ready事件的原理到底是什么.</p><p><br  /></p><p><strong><span style="color: rgb(171, 25, 66);">jquery ready事件浅析</span></strong></p><p><br  /></p><p>jquery主要做的工作就是兼容IE6,7,8实现DOMContentLoaded的效果.由于现在主流只要兼容到IE8, 剩下IE6,7我们不做过多的分析了。</p><p><br  /></p><p>目前流行的做法有两种， 一种是使用readystatechange实现，另外一种使用IE自带的doScroll方法实现.</p><p><strong><span style="line-height: 1.6;"><br  /></span></strong></p><p><strong><span style="line-height: 1.6;">readyStateChange</span></strong><br  /></p><p><span style="line-height: 1.6;"><br  /></span></p><p>这其实是IE6，7，8的特有属性，用它来标识某个元素的加载状态。 但是现在w3c规定，只有xhr才有这个事件。 所以，这里，我们一般只能在IE中使用readyStateChange否则，其他浏览器是没有效果的。</p><p><br  /></p><p>详见:readyState兼容性分析</p><p><br  /></p><p>这样，我们模拟jquery的ready事件时就可以使用:</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">document.onreadystatechange = function () {</span></p><p><span style="font-size: 14px;">&nbsp; if (document.readyState == &quot;interactive&quot; || document.readyState == &quot;complete&quot;) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; //添加回调...</span></p><p><span style="font-size: 14px;">&nbsp; }</span></p><p><span style="font-size: 14px;">}</span></p></blockquote><p><br  /></p><p>理想很丰满，现实很骨感。 事实上, 当readyState为interactive时， Dom的结构并未完全稳定，如果还有其他脚本影响DOM时, 这时候可能会造成bug。 另外为complete时， 这时候图片等相关资源已经加载完成。 这个时候模拟触发DOMContentLoaded事件，其实和onload事件触发时间并没有太久的时间距离。 这种方式兼容低版本IE还是不太可靠的。</p><p><br  /></p><p>另外提供一个doScroll方式</p><p><br  /></p><p><span style="color: rgb(171, 25, 66);"><strong>doScroll兼容</strong></span></p><p><br  /></p><p>这是IE低版本特有的，不过IE11已经弃用了。 使用scrollLeft和scrollTop代替. doScroll 的主要作用是检测DOM结构是否问题， 通常我们会使用轮询来检测doScroll是否可用，当可用的时候一定是DOM结构稳定，图片资源还未加载的时候。</p><p><br  /></p><p>我们来看一下jquery中实现doScroll的兼容:</p><p><br  /></p><blockquote><p><span style="font-size: 14px;">&nbsp; //低版本的IE浏览器，这里添加监听作为向下兼容，如果doScroll执行出现bug，也能保证ready函数的执行</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.attachEvent( &quot;onreadystatechange&quot;, DOMContentLoaded );</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; window.attachEvent( &quot;onload&quot;, jQuery.ready );</span></p><p><span style="font-size: 14px;">//在ready里面会对执行做判断，确保只执行一次</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var top = false;</span></p><p><span style="font-size: 14px;">// 如果是IE且不是iframe就通过不停的检查doScroll来判断dom结构是否ready</span></p><p><span style="font-size: 14px;">try {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; top = window.frameElement == null &amp;&amp; document.documentElement;</span></p><p><span style="font-size: 14px;">} catch(e) {}</span></p><p><span style="font-size: 14px;">if ( top &amp;&amp; top.doScroll ) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; (function doScrollCheck() {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; if ( !jQuery.isReady ) {//ready方法没有执行过</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 检查是否可以向左scroll滑动,当dom结构还没有解析完成时会抛出异常</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; top.doScroll(&quot;left&quot;);</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } catch(e) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //递归调用,直到当dom结构解析完成</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return setTimeout( doScrollCheck, 50 );</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //没有发现异常,表示dom结构解析完成,删除之前绑定的onreadystatechange事件</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //执行jQuery的ready方法</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jQuery.ready();</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; })();</span></p><p><span style="font-size: 14px;">}</span></p><p><span style="font-size: 14px;">//看看jQuery.ready()方法:</span></p><p><span style="font-size: 14px;">ready:function(wait) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; if (wait === true ? --jQuery.readyWait : jQuery.isReady) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; //判断页面是否已完成加载并且是否已经执行ready方法</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; //通过isReady状态进行判断, 保证只执行一次</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; return;</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; if (!document.body) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; return setTimeout(jQuery.ready);</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; jQuery.isReady = true; //指示ready方法已被执行</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; //这也是上面两次绑定事件的原因,会保证只执行一次</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; if (wait !== true &amp;&amp; --jQuery.readyWait &gt; 0) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; return;</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; //以下是处理ready的状态</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; readyList.resolveWith(document, [jQuery]);</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; if (jQuery.fn.trigger) {</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; //解除引用</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; jQuery(document).trigger(&quot;ready&quot;).off(&quot;ready&quot;);</span></p><p><span style="font-size: 14px;">&nbsp; &nbsp; }</span></p><p><span style="font-size: 14px;">}</span></p></blockquote><p><br  /></p><p>以上就是jquery 兼容ready的方法。</p><p><br  /></p><p>ending~</p><p><br  /></p><hr style="line-height: 25.6px; white-space: normal;"  /><p style="line-height: 25.6px; white-space: normal;">●本文编号94，以后想阅读这篇文章直接输入94即可。</p><p style="line-height: 25.6px; white-space: normal;">●输入m可以获取到文章目录</p><section style="line-height: 25.6px; white-space: normal; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><section class="Powered-by-XIUMI V5" style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"><section class="" style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; box-sizing: border-box; text-align: center; word-wrap: break-word !important;"><section class="" style="padding-right: 1em; padding-left: 1em; max-width: 100%; box-sizing: border-box; display: inline-block; word-wrap: break-word !important;"><span class="" style="padding: 0.3em 0.5em; max-width: 100%; box-sizing: border-box; display: inline-block; border-radius: 0.5em; font-size: 14.08px; color: rgb(255, 255, 255); word-wrap: break-word !important; background-color: rgb(249, 110, 87);"><section style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">今日微信公号推荐↓↓↓</strong></span></section></span>&nbsp;</section><section class="" style="margin-top: -1em; padding: 20px 10px 10px; max-width: 100%; box-sizing: border-box; border: 1px solid rgb(192, 200, 209); word-wrap: break-word !important; background-color: rgb(239, 239, 239);"><section class="Powered-by-XIUMI V5" style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"><section class="" style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"><section class="" style="max-width: 100%; box-sizing: border-box; text-align: left; word-wrap: break-word !important;"><section style="max-width: 100%; box-sizing: border-box; text-align: center; word-wrap: break-word !important;"><img data-s="300,640" data-type="jpeg" data-ratio="0.4232209737827715" data-w="534" width="auto"  style="box-sizing: border-box !important; word-wrap: break-word !important; width: auto !important; visibility: visible !important;"   SRC="前端知识普及之页面加载_files/640.jpg" /></section></section></section></section></section></section></section></section><p><br  /></p><p style="line-height: 25.6px; white-space: normal; max-width: 100%; min-height: 1em; text-align: center; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">更多推荐请看</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">《</span></strong><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&mid=403116897&idx=2&sn=c1c089136c12a282e081c9f6a4772e55&scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&amp;mid=403116897&amp;idx=2&amp;sn=c1c089136c12a282e081c9f6a4772e55&amp;scene=21#wechat_redirect"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(255, 169, 0); box-sizing: border-box !important; word-wrap: break-word !important;">15个技术类公众微信</span></strong></a><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">》</span></strong></span></p><p style="line-height: 25.6px; white-space: normal; max-width: 100%; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="max-width: 100%; line-height: 1.75em; font-size: 14px; color: rgb(136, 136, 136); box-sizing: border-box !important; word-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /></span></p><p style="line-height: 25.6px; white-space: normal; max-width: 100%; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="max-width: 100%; line-height: 1.75em; font-size: 14px; color: rgb(136, 136, 136); box-sizing: border-box !important; word-wrap: break-word !important;">涵盖：程序人生、算法与数据结构、黑客技术与网络安全、大数据技术、前端开发、Java、Python、Web开发、安卓开发、iOS开发、C/C++、.NET、Linux、数据库、运维等。传播计算机学习经验、推荐计算机优秀资源：点击前往《</span><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&mid=403116897&idx=2&sn=c1c089136c12a282e081c9f6a4772e55&scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&amp;mid=403116897&amp;idx=2&amp;sn=c1c089136c12a282e081c9f6a4772e55&amp;scene=21#wechat_redirect"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 14px; color: rgb(255, 169, 0); box-sizing: border-box !important; word-wrap: break-word !important;">值得关注的15个技术类微信公众号</span></strong></a><span style="max-width: 100%; line-height: 1.75em; font-size: 14px; color: rgb(136, 136, 136); box-sizing: border-box !important; word-wrap: break-word !important;">》</span></p><p style="max-width: 100%; min-height: 1em; line-height: 25.6px; box-sizing: border-box !important; word-wrap: break-word !important;"><img data-s="300,640" data-type="jpeg" data-ratio="0.6672661870503597" data-w=""  style="line-height: 25.6px; box-sizing: border-box !important; word-wrap: break-word !important; width: auto !important; visibility: visible !important;"   SRC="前端知识普及之页面加载_files/640_2.jpg" /><br style="max-width: 100%; line-height: 25.6px; box-sizing: border-box !important; word-wrap: break-word !important;"  /><span style="max-width: 100%; line-height: 25.6px; color: rgb(230, 80, 30); white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);">点击阅读原文，了解野狗</span></p>
                    </div>
                    
                    <link rel="stylesheet" type="text/css" href="前端知识普及之页面加载_files/page_mp_article_improve_combo2c9cd6.css">
                    
                    
                                        
                                        
                                        <div class="rich_media_tool" id="js_toobar3">
                                                                    <a class="media_tool_meta meta_primary" id="js_view_source" href="">阅读原文</a>
                                                <div id="js_read_area3" class="media_tool_meta tips_global meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

                        <span style="display:none;" class="media_tool_meta meta_primary tips_global meta_praise" id="like3">
                            <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum3"></span>
                        </span>

                        <a id="js_report_article3" style="display:none;" class="media_tool_meta tips_global meta_extra" href="">投诉</a>

                    </div>



                                    </div>

                <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none">

                </div>

                <div class="rich_media_area_extra">

                    
                                        <div class="mpda_bottom_container" id="js_bottom_ad_area">
                        
                    </div>
                                        
                    <div id="js_iframetest" style="display:none;"></div>
                                        
                                        <div class="rich_media_extra" id="js_cmt_area" style="display:none">

                        <div class="discuss_container" id="js_cmt_main" style="display:none">
                            <div class="rich_tips with_line title_tips discuss_title_line">
                                <span class="tips">精选留言</span>
                            </div>
                            <p class="tips_global tc title_bottom_tips" id="js_cmt_nofans1" style="display:none;">关注该公众号可参与留言</p>
                            <p class="discuss_icon_tips title_bottom_tips tr" id="js_cmt_addbtn1" style="display:none">
                                
                                                                <a href="#comment">写留言<img class="icon_edit" src="前端知识普及之页面加载_files/icon_edit25ded2.png" alt=""></a>
                                                            </p>
                            <ul class="discuss_list" id="js_cmt_list"></ul>
                        </div>


                        <div class="tips_global rich_split_tips tc" id="js_cmt_nofans2" style="display:none;">
                            关注该公众号可参与留言
                        </div>

                        <p class="discuss_icon_tips rich_split_tips tr" id="js_cmt_addbtn2" style="display:none">
                            
                                                        <a href="#comment">写留言<img class="icon_edit" src="前端知识普及之页面加载_files/icon_edit25ded2.png" alt=""></a>
                                                    </p>

                        <p class="rich_split_tips tc tips_global" id="js_cmt_tips" style="display:none;"></p>


                        <div class="rich_tips tips_global loading_tips" id="js_cmt_loading">
                            <img src="前端知识普及之页面加载_files/icon_loading_white2805ea.gif" class="rich_icon icon_loading_white" alt="">
                            <span class="tips">加载中</span>
                        </div>

                        <div class="rich_tips with_line tips_global" id="js_cmt_statement" style="display:none">
                            <span class="tips">以上留言由公众号筛选后显示</span>
                        </div>

                        <p class="rich_split_tips tc" id="js_cmt_qa" style="display:none;">
                            <a href="http://kf.qq.com/touch/sappfaq/150211YfyMVj150313qmMbyi.html?scene_id=kf264">
                                了解留言功能详情
                            </a>
                        </p>

                    </div>
                                    </div>
               
            </div>
            <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display:none;">
                <div class="qr_code_pc_inner">
                    <div class="qr_code_pc">
                        <img id="js_pc_qr_code_img" class="qr_code_pc_img">
                        <p>微信扫一扫<br>关注该公众号</p>
                    </div>
                </div>
            </div>

        </div>
    </div>


        
        
        
    

    
  
  

    </body>
</html>

 
