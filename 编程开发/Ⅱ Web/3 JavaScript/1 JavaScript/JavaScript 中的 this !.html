<!DOCTYPE html>
<!--headTrap<body></body><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><html></html>--><html>
    <head>
        
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">



        
        
 
 

        <link rel="dns-prefetch" href="http://res.wx.qq.com/">
<link rel="dns-prefetch" href="http://mmbiz.qpic.cn/">



        <title>JavaScript 中的 this !</title>
        
<style>html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}body{-webkit-touch-callout:none;font-family:-apple-system-font,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;background-color:#f3f3f3;line-height:inherit}body.rich_media_empty_extra{background-color:#fff}body.rich_media_empty_extra .rich_media_area_primary:before{display:none}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}*{margin:0;padding:0}a{color:#607fa6;text-decoration:none}.rich_media_inner{font-size:16px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.rich_media_area_primary{position:relative;padding:20px 15px 15px;background-color:#fff}.rich_media_area_primary:before{content:" ";position:absolute;left:0;top:0;width:100%;height:1px;border-top:1px solid #e5e5e5;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5);top:auto;bottom:-2px}.rich_media_area_primary .original_img_wrp{display:inline-block;font-size:0}.rich_media_area_primary .original_img_wrp .tips_global{display:block;margin-top:.5em;font-size:14px;text-align:right;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.rich_media_area_extra{padding:0 15px 0}.rich_media_title{margin-bottom:10px;line-height:1.4;font-weight:400;font-size:24px}.rich_media_meta_list{margin-bottom:18px;line-height:20px;font-size:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px}.meta_original_tag{display:inline-block;vertical-align:middle;padding:1px .5em;border:1px solid #9e9e9e;color:#8c8c8c;border-top-left-radius:20% 50%;-moz-border-radius-topleft:20% 50%;-webkit-border-top-left-radius:20% 50%;border-top-right-radius:20% 50%;-moz-border-radius-topright:20% 50%;-webkit-border-top-right-radius:20% 50%;border-bottom-left-radius:20% 50%;-moz-border-radius-bottomleft:20% 50%;-webkit-border-bottom-left-radius:20% 50%;border-bottom-right-radius:20% 50%;-moz-border-radius-bottomright:20% 50%;-webkit-border-bottom-right-radius:20% 50%;font-size:15px;line-height:1.1}.meta_enterprise_tag img{width:30px;height:30px!important;display:block;position:relative;margin-top:-3px;border:0}.rich_media_meta_text{color:#8c8c8c}span.rich_media_meta_nickname{display:none}.rich_media_thumb_wrp{margin-bottom:6px}.rich_media_thumb_wrp .original_img_wrp{display:block}.rich_media_thumb{display:block;width:100%}.rich_media_content{overflow:hidden;color:#3e3e3e}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em;white-space:pre-wrap}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-2{padding-left:30px}.rich_media_content blockquote{margin:0;padding-left:10px;border-left:3px solid #dbdbdb}img{height:auto!important}@media(min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2){.mm_appmsg .rich_media_inner,.mm_appmsg .rich_media_meta,.mm_appmsg .discuss_list,.mm_appmsg .rich_media_extra,.mm_appmsg .title_tips .tips{font-size:17px}.mm_appmsg .meta_original_tag{font-size:15px}}@media(min-device-width:414px) and (max-device-width:736px) and (-webkit-min-device-pixel-ratio:3){.mm_appmsg .rich_media_title{font-size:25px}}@media screen and (min-width:1024px){.rich_media{width:740px;margin-left:auto;margin-right:auto}.rich_media_inner{padding:20px}body{background-color:#fff}}@media screen and (min-width:1025px){body{font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB","Microsoft YaHei",Arial,sans-serif}.rich_media{position:relative}.rich_media_inner{background-color:#fff;padding-bottom:100px}}.radius_avatar{display:inline-block;background-color:#fff;padding:3px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;overflow:hidden;vertical-align:middle}.radius_avatar img{display:block;width:100%;height:100%;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;background-color:#eee}.cell{padding:.8em 0;display:block;position:relative}.cell_hd,.cell_bd,.cell_ft{display:table-cell;vertical-align:middle;word-wrap:break-word;word-break:break-all;white-space:nowrap}.cell_primary{width:2000px;white-space:normal}.flex_cell{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flex_cell_primary{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;box-flex:1;flex:1}.original_tool_area{display:block;padding:.75em 1em 0;-webkit-tap-highlight-color:rgba(0,0,0,0);color:#3e3e3e;border:1px solid #eaeaea;margin:20px 0}.original_tool_area .tips_global{position:relative;padding-bottom:.5em;font-size:15px}.original_tool_area .tips_global:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dbdbdb;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:27px;height:27px;padding:0;margin-right:.5em}.original_tool_area .radius_avatar img{height:100%!important}.original_tool_area .flex_cell_bd{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.original_tool_area .flex_cell_ft{font-size:14px;color:#8c8c8c;padding-left:1em;white-space:nowrap}.original_tool_area .icon_access:after{content:" ";display:inline-block;height:8px;width:8px;border-width:1px 1px 0 0;border-color:#cbcad0;border-style:solid;transform:matrix(0.71,0.71,-0.71,0.71,0,0);-ms-transform:matrix(0.71,0.71,-0.71,0.71,0,0);-webkit-transform:matrix(0.71,0.71,-0.71,0.71,0,0);position:relative;top:-2px;top:-1px}.weui_loading{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:weuiLoading 1s steps(12,end) infinite;animation:weuiLoading 1s steps(12,end) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iciIgd2lkdGg9JzEyMHB4JyBoZWlnaHQ9JzEyMHB4JyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD4KICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjRTlFOUU5JwogICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+CiAgICA8L3JlY3Q+CiAgICA8cmVjdCB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nIzk4OTY5NycKICAgICAgICAgIHRyYW5zZm9ybT0ncm90YXRlKDMwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4KICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyM5Qjk5OUEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+CiAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz4KICAgIDwvcmVjdD4KICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjQTNBMUEyJwogICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoOTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNBQkE5QUEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNCMkIyQjInCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxNTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNCQUI4QjknCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxODAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNDMkMwQzEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyMTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNDQkNCQ0InCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyNDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNEMkQyRDInCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyNzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNEQURBREEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgzMDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNFMkUyRTInCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgzMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0Pgo8L3N2Zz4=) no-repeat;-webkit-background-size:100%;background-size:100%}@-webkit-keyframes weuiLoading{0%{-webkit-transform:rotate3d(0,0,1,0deg)}100%{-webkit-transform:rotate3d(0,0,1,360deg)}}@keyframes weuiLoading{0%{-webkit-transform:rotate3d(0,0,1,0deg)}100%{-webkit-transform:rotate3d(0,0,1,360deg)}}.gif_img_wrp{display:inline-block;font-size:0;position:relative;font-weight:400;font-style:normal;text-indent:0;text-shadow:none 1px 1px rgba(0,0,0,0.5)}.gif_img_wrp img{vertical-align:top}.gif_img_tips{background:rgba(0,0,0,0.6)!important;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#99000000',endcolorstr = '#99000000');border-top-left-radius:1.2em 50%;-moz-border-radius-topleft:1.2em 50%;-webkit-border-top-left-radius:1.2em 50%;border-top-right-radius:1.2em 50%;-moz-border-radius-topright:1.2em 50%;-webkit-border-top-right-radius:1.2em 50%;border-bottom-left-radius:1.2em 50%;-moz-border-radius-bottomleft:1.2em 50%;-webkit-border-bottom-left-radius:1.2em 50%;border-bottom-right-radius:1.2em 50%;-moz-border-radius-bottomright:1.2em 50%;-webkit-border-bottom-right-radius:1.2em 50%;line-height:2.3;font-size:11px;color:#fff;text-align:center;position:absolute;bottom:10px;left:10px;min-width:65px}.gif_img_tips.loading{min-width:75px}.gif_img_tips i{vertical-align:middle;margin:-0.2em .73em 0 -2px}.gif_img_play_arrow{display:inline-block;width:0;height:0;border-width:8px;border-style:dashed;border-color:transparent;border-right-width:0;border-left-color:#fff;border-left-style:solid;border-width:5px 0 5px 8px}.gif_img_loading{width:14px;height:14px}i.gif_img_loading{margin-left:-4px}.rich_media_global_msg{position:fixed;top:0;left:0;right:0;padding:1em 35px 1em 15px;z-index:1;background-color:#c6e0f8;color:#8c8c8c;font-size:13px}.rich_media_global_msg .icon_closed{position:absolute;right:15px;top:50%;margin-top:-5px;line-height:300px;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent url("JavaScript 中的 this !_files/icon_appmsg_msg_closed_sprite.2x.png") no-repeat 0 0;width:11px;height:11px;vertical-align:middle;display:inline-block;-webkit-background-size:100% auto;background-size:100% auto}.rich_media_global_msg .icon_closed:active{background-position:0 -17px}.preview_appmsg .rich_media_title{margin-top:1.9em}@media screen and (min-width:1024px){.rich_media_global_msg{position:relative;margin:0 20px}.preview_appmsg .rich_media_title{margin-top:0}}</style>
<style>
     
    </style>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg/page_mp_article_improve_pc2c9cd6.css">
<![endif]-->

    </head>
    <body id="activity-detail" class="zh_CN mm_appmsg" ontouchstart="">
        
    

    <div id="js_article" class="rich_media">
        
        <div id="js_top_ad_area" class="top_banner">
 
        </div>
                

        <div class="rich_media_inner">
                        <div id="page-content">
                <div id="img-content" class="rich_media_area_primary">
                    <h2 class="rich_media_title" id="activity-name">
                        JavaScript 中的 this ! 
                    </h2>
                    <div class="rich_media_meta_list">
                        						                        <em id="post-date" class="rich_media_meta rich_media_meta_text">2016-10-18</em>

                                                <a class="rich_media_meta rich_media_meta_link rich_media_meta_nickname" href="" id="post-user">前端开发</a>
                        <span class="rich_media_meta rich_media_meta_text rich_media_meta_nickname">前端开发</span>

                        <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                            <div class="profile_inner">
                                <strong class="profile_nickname">前端开发</strong>
                                <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                                <p class="profile_meta">
                                <label class="profile_meta_label">微信号</label>
                                <span class="profile_meta_value">qianduan1024</span>
                                </p>

                                <p class="profile_meta">
                                <label class="profile_meta_label">功能介绍</label>
                                <span class="profile_meta_value">分享Web前端开发中HTML5、JavaScript、CSS3编程学习知识</span>
                                </p>
                                
                            </div>
                            <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                                <i class="profile_arrow arrow_out"></i>
                                <i class="profile_arrow arrow_in"></i>
                            </span>
                        </div>
                    </div>
                    
                    
                    
                    
                                                            
                                                            
                    
                    <div class="rich_media_content " id="js_content">
                        

                        
                        
                        <blockquote><h1><span style="font-size: 14px; color: rgb(0, 82, 255);"><strong>来自：阿城的blog</strong></span></h1><h1><span style="font-size: 14px; color: rgb(0, 82, 255);"><strong>链接：http://qiutc.me/post/this-this-this-in-javascript.html（点击尾部阅读原文前往）</strong></span></h1><p><span style="font-size: 14px; color: rgb(136, 136, 136);"><strong>已获转载授权</strong></span><span style="font-size: 14px; color: rgb(0, 82, 255);"><strong><br  /></strong></span></p></blockquote><h1><span style="color: rgb(171, 25, 66);"><strong><br  /></strong></span></h1><h1 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-bottom: 16px; box-sizing: border-box; font-size: 1.9rem; line-height: 1.2;  font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">tip</h1><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">首先，我知道这篇文章很无聊，无非就是关于 js 中的 this，并且也已经有千千万万的文章写过这部分内容了；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">但是，我还是想写一篇关于 js 中的 this 的文章，算是一个总结归纳吧；（大神们可以绕行看我的其他文章😂）</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">在 js 中，this 这个上下文总是变化莫测，很多时候出现 bug 总是一头雾水，其实，只要分清楚不同的情况下如何执行就 ok 了。</p><h1 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; font-size: 1.9rem; line-height: 1.2;  font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">全局执行</h1><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">首先，我们在全局环境中看看它的 this 是什么：</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">first. 浏览器：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN" style="width: 736px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window {speechSynthesis: SpeechSynthesis, caches: CacheStorage, localStorage: Storage, sessionStorage: Storage, webkitStorageInfo: DeprecatedStorageInfo…}</span></span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到打印出了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">window</code>&nbsp;对象；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">second. node：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// global</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到打印出了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">global</code>&nbsp;对象；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;"><span style="box-sizing: border-box; font-weight: bolder;">总结</span>：在全局作用域中它的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;执行当前的全局对象（浏览器端是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Window</code>，node 中是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">global</code>）。</p><h1 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; font-size: 1.9rem; line-height: 1.2;  font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">函数中执行</h1><h2 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.225;  font-size: 1.66rem; font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">纯粹的函数调用</h2><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">这是最普通的函数使用方法了：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN" style="width: 736px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">test</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">test();</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window {speechSynthesis: SpeechSynthesis, caches: CacheStorage, localStorage: Storage, sessionStorage: Storage, webkitStorageInfo: DeprecatedStorageInfo…}</span></span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">我们可以看到，一个函数被直接调用的时候，属于全局调用，这时候它的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向 全局对象；</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">严格模式 ‘use strict’;</h3><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">如果在严格模式的情况下执行纯粹的函数调用，那么这里的的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;并不会指向全局，而是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">undefined</code>，这样的做法是为了消除 js 中一些不严谨的行为：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="pi" style="box-sizing: border-box;">'use strict'</span>;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">test</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">test();</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// undefined</span></span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">当然，把它放在一个立即执行函数中会更好，避免了污染全局：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">(<span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> (<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>)</span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="pi" style="box-sizing: border-box;"> &nbsp;"use strict"</span>;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">　<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">})();</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// undefined</span></span></pre></td></tr></tbody></table></figure><h2 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.225;  font-size: 1.66rem; font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">作为对象的方法调用</h2><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">当一个函数被当作一个对象的方法调用的时候：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">obj.foo();</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// 'qiutc'</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">这时候，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向当前的这个对象；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">当然，我们还可以这么做：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">test</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: test</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">obj.foo();</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// 'qiutc'</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">同样不变，因为在 js 中一切都是对象，函数也是一个对象，对于&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">test</code>&nbsp;，它只是一个函数名，函数的引用，它指向这个函数，当&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo = test</code>，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo</code>&nbsp;同样也指向了这个函数。</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">如果把对象的方法赋值给一个变量，然后直接调用这个变量呢：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> test = obj.foo;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">test();</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到，这时候&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;执行了全局，当我们把&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">test = obj.foo</code>&nbsp;，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">test</code>&nbsp;直接指向了一个函数的引用，这时候，其实和&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>&nbsp;这个对象没有关系了，所以，它是被当作一个普通函数来直接调用，因此，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向全局对象。</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">一些坑</h3><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">我们经常在回调函数里面会遇到一些坑：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;},</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo2: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;setTimeout(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.foo, <span class="number" style="box-sizing: border-box; color: rgb(245, 135, 31);">1000</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">obj.foo2();</span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">执行这段代码我们会发现两次打印出来的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;是不一样的：</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">第一次是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo2</code>&nbsp;中直接打印&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，这里指向&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>&nbsp;这个对象，我们毋庸置疑；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">但是在&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;中执行的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this.foo</code>&nbsp;，却指向了全局对象，这里不是把它当作函数的方法使用吗？这一点经常让很多初学者疑惑；<br style="box-sizing: border-box;"  />其实，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;也只是一个函数而已，函数必然有可能需要参数，我们把&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this.foo</code>&nbsp;当作一个参数传给&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;这个函数，就像它需要一个&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">fun</code>参数，在传入参数的时候，其实做了个这样的操作&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">fun = this.foo</code>，看到没有，这里我们直接把&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">fun</code>&nbsp;指向&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this.foo</code>&nbsp;的引用；执行的时候其实是执行了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">fun()</code>&nbsp;所以已经和&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>&nbsp;无关了，它是被当作普通函数直接调用的，因此&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向全局对象。</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">这个问题是很多异步回调函数中普遍会碰到的；</p><h4 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.4;  font-size: 1.2rem; font-weight: bold;">解决</h4><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">为了解决这个问题，我们可以利用&nbsp;<span style="box-sizing: border-box; font-weight: bolder;">闭包</span>&nbsp;的特性来处理：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;},</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo2: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> _this = <span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;setTimeout(<span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>); &nbsp;<span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(_this); &nbsp;<span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Object {name: "qiutc"}</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;}, <span class="number" style="box-sizing: border-box; color: rgb(245, 135, 31);">1000</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">obj.foo2();</span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到直接用&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;仍然是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Window</code>；因为&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo2</code>&nbsp;中的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;是指向&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>，我们可以先用一个变量&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">_this</code>&nbsp;来储存，然后在回调函数中使用&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">_this</code>，就可以指向当前的这个对象了；</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">setTimeout 的另一个坑</h3><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">之前啊说过，如果直接执行回调函数而没有绑定作用域，那么它的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;是指向全局对象(<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">window</code>)，在严格模式下会指向&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">undefined</code>，然而在<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;中的回调函数在严格模式下却表现出不同：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="pi" style="box-sizing: border-box;">'use strict'</span>;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">foo</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">setTimeout(foo, <span class="number" style="box-sizing: border-box; color: rgb(245, 135, 31);">1</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// window</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">按理说我们加了严格模式，foo 调用也没有指定&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，应该是出来&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">undefined</code>，但是这里仍然出现了全局对象，难道是严格模式失效了吗？</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">并不，即使在严格模式下，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;方法在调用传入函数的时候，如果这个函数没有指定了的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，那么它会做一个隐式的操作—-自动地注入全局上下文，等同于调用&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo.apply(window)</code>&nbsp;而非&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo()</code>；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">当然，如果我们在传入函数的时候已经指定&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，那么就不会被注入全局对象，比如：&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout(foo.bind(obj), 1);</code>；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;"><a target="_blank" rel="external" style="box-sizing: border-box; color: rgb(64, 120, 192);">http://stackoverflow.com/questions/21957030/why-is-window-still-defined-in-this-strict-mode-code</a></p><h2 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.225;  font-size: 1.66rem; font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">作为一个构造函数使用</h2><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">在 js 中，为了实现类，我们需要定义一些构造函数，在调用一个构造函数的时候需要加上&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">new</code>&nbsp;这个关键字：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">Person</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);">name</span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name = name;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> p = <span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">new</span> Person(<span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Person {name: "qiutc"}</span></span></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">我们可以看到当作构造函数调用时，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向了这个构造函数调用时候实例化出来的对象；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">当然，构造函数其实也是一个函数，如果我们把它当作一个普通函数执行，这个&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;仍然执行全局：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">Person</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);">name</span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name = name;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> p = Person(<span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window</span></span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure><p><br  /></p><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">其区别在于，如何调用函数（<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">new</code>）。</p><h2 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.225;  font-size: 1.66rem; font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">箭头函数</h2><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">在 ES6 的新规范中，加入了箭头函数，它和普通函数最不一样的一点就是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;的指向了，还记得在上文中（<a style="box-sizing: border-box; color: rgb(64, 120, 192);">作为对象的方法调用-一些坑-解决</a>）我们使用闭包来解决&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;的指向问题吗，如果用上了箭头函数就可以更完美的解决了：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;},</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo2: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;setTimeout(() =&gt; {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>); &nbsp;<span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Object {name: "qiutc"}</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;}, <span class="number" style="box-sizing: border-box; color: rgb(245, 135, 31);">1000</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">obj.foo2();</span></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到，在&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;执行的函数中，本应该打印出在&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Window</code>，但是在这里&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;却指向了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>，原因就在于，给&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;传入的函数（参数）是一个箭头函数：</p><blockquote style="padding-right: 15px; padding-left: 15px; margin-bottom: 16px; box-sizing: border-box; color: rgb(119, 119, 119); border-left-width: 4px; border-left-color: rgb(221, 221, 221);"><p style="box-sizing: border-box; font-size: 0.9rem;">函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。</p></blockquote><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">根据例子我们理解一下这句话：<br style="box-sizing: border-box;"  />在&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj.foo2()</code>&nbsp;执行的时候，当前的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>；在执行&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">setTimeout</code>&nbsp;时候，我们先是定义了一个匿名的箭头函数，关键点就在这，箭头函数内的<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;执行定义时所在的对象，就是指向定义这个箭头函数时作用域内的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，也就是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj.foo2</code>&nbsp;中的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，即&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>；所以在执行箭头函数的时候，它的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;-&gt;&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj.foo2 中的 this</code>&nbsp;-&gt;&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">简单来说，&nbsp;<span style="box-sizing: border-box; font-weight: bolder;">箭头函数中的 this 只和定义它时候的作用域的 this 有关，而与在哪里以及如何调用它无关，同时它的 this 指向是不可改变的</span>。</p><h2 style="padding-right: 1.1rem; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.225;  font-size: 1.66rem; font-weight: bold; border-bottom: 1px solid rgb(238, 238, 238);">call, apply, bind</h2><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">在 js 中，函数也是对象，同样也有一些方法，这里我们介绍三个方法，他们可以更改函数中的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向：</p><ul style="padding-left: 2em; margin-bottom: 16px; box-sizing: border-box;" class=" list-paddingleft-2"><li><p>call</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">fun.call(thisArg[, arg1[, arg2[, ...]]])</span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure></li></ul><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">它会立即执行函数，第一个参数是指定执行函数中&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;的上下文，后面的参数是执行函数需要传入的参数；</p><ul style="padding-left: 2em; margin-bottom: 16px; box-sizing: border-box;" class=" list-paddingleft-2"><li><p>apply</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">fun.apply(thisArg[, [arg1, arg2, ...]])</span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure></li></ul><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">它会立即执行函数，第一个参数是指定执行函数中&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;的上下文，第二个参数是一个数组，是传给执行函数的参数（与&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">call</code>&nbsp;的区别）；</p><ul style="padding-left: 2em; margin-bottom: 16px; box-sizing: border-box;" class=" list-paddingleft-2"><li><p>bind</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> foo = fun.bind(thisArg[, arg1[, arg2[, ...]]]);</span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure></li></ul><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">它不会执行函数，而是返回一个新的函数，这个新的函数被指定了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;的上下文，后面的参数是执行函数需要传入的参数；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;"><span style="box-sizing: border-box; font-weight: bolder;"><em style="box-sizing: border-box;">这三个函数其实大同小异，总的目的就是去指定一个函数的上下文（this）</em></span>，我们以&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">call</code>&nbsp;函数为例；</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">为一个普通函数指定 this</h3><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">foo</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">foo.call(obj);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Object {name: "qiutc"}</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到，在执行&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">foo.call(obj)</code>&nbsp;的时候，函数内的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>&nbsp;这个对象，成功；</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">为对象中的方法指定一个 this</h3><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>,</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;foo: <span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> (<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);"></span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp; &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj2 = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'tcqiu222222'</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">obj.foo.call(obj2);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Object {name: "tcqiu222222"}</span></span></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到，执行函数的时候这里的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;指向了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj2</code>，成功；</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">为构造函数指定 this</h3><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">Person</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);">name</span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name = name;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc2222222'</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> p = <span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">new</span> Person.call(obj, <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Uncaught TypeError: Person.call is not a constructor(…)</span></span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure><p><br  /></p><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">这里报了个错，原因是我们去&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">new</code>&nbsp;了&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Person.call</code>&nbsp;函数，而非&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Person</code>&nbsp;，这里的函数不是一个构造函数；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">换成&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">bind</code>&nbsp;试试：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">Person</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);">name</span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name = name;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc2222222'</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> Person2 = Person.bind(obj);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> p = <span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">new</span> Person2(<span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Person {name: "qiutc"}</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(obj);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Object {name: "qiutc2222222"}</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">打印出来的是&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Person</code>&nbsp;实例化出来的对象，而和&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>&nbsp;没有关系，而&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">obj</code>&nbsp;也没有发生变化，说明，我们给&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">Person</code>&nbsp;指定&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;上下文并没有生效；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">因此可以得出：&nbsp;<span style="box-sizing: border-box; font-weight: bolder;">使用 bind 给一个构造函数指定&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>，在&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">new</code>&nbsp;这个构造函数的时候，<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">bind</code>&nbsp;函数所指定的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;并不会生效</span>；</p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">当然&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">bind</code>&nbsp;不仅可以指定&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;，还能传入参数，我们来试试这个操作：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="function" style="box-sizing: border-box; color: rgb(66, 113, 174);"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">function</span> <span class="title" style="box-sizing: border-box; color: rgb(62, 153, 159);">Person</span>(<span class="params" style="box-sizing: border-box; color: rgb(245, 135, 31);">name</span>) </span>{</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>.name = name;</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc2222222'</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> Person2 = Person.bind(obj, <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc111111'</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> p = <span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">new</span> Person2(<span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Person {name: "qiutc111111"}</span></span></pre></td></tr></tbody></table></figure><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到，虽然指定&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;不起作用，但是传入参数还是起作用了；</p><h3 style="padding-right: 1.1rem; margin-top: 1em; margin-bottom: 16px; box-sizing: border-box; line-height: 1.43;  font-size: 1.4rem; font-weight: bold;">为箭头函数指定 this</h3><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">我们来定义一个全局下的箭头函数，因此这个箭头函数中的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;必然会指向全局对象，如果用&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">call</code>&nbsp;方法改变&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;呢：</p><figure class="highlight js" style="padding: 53px 15px 15px; margin-top: 20px; margin-bottom: 16px; box-sizing: border-box; overflow: auto; font-size: 13px; color: rgb(77, 77, 76);  border-top-left-radius: 4px; border-top-right-radius: 4px; background: rgb(247, 247, 247);"><table width="NaN"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; background-color: rgb(255, 255, 255);"><td class="code" style="padding: 0px; box-sizing: border-box; border: none;"><pre style="padding: 16px; margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; overflow: auto; ; ; ; ; ; ; ; ; ; ;"><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> afoo = (a) =&gt; {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(a);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;<span class="built_in" style="box-sizing: border-box; color: rgb(245, 135, 31);">console</span>.log(<span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">this</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">}</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">afoo(<span class="number" style="box-sizing: border-box; color: rgb(245, 135, 31);">1</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// 1</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="keyword" style="box-sizing: border-box; color: rgb(137, 89, 168);">var</span> obj = {</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"> &nbsp;name: <span class="string" style="box-sizing: border-box; color: rgb(113, 140, 0);">'qiutc'</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">};</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;">afoo.call(obj, <span class="number" style="box-sizing: border-box; color: rgb(245, 135, 31);">2</span>);</span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// 2</span></span><br style="box-sizing: border-box;"  /><span class="line" style="box-sizing: border-box; height: 20px; line-height: 30px; display: inline-block;"><span class="comment" style="box-sizing: border-box; color: rgb(142, 144, 140);">// Window</span></span><br style="box-sizing: border-box;"  /></pre></td></tr></tbody></table></figure><p><br  /></p><p style="margin-bottom: 16px; box-sizing: border-box; font-size: 0.9rem;">可以看到，这里的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">call</code>&nbsp;指向&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>&nbsp;的操作并没有成功，所以可以得出：&nbsp;<span style="box-sizing: border-box; font-weight: bolder;">箭头函数中的 this 在定义它的时候已经决定了（执行定义它的作用域中的 this），与如何调用以及在哪里调用它无关，包括 (call, apply, bind) 等操作都无法改变它的 this</span>。</p><p style="box-sizing: border-box; font-size: 0.9rem;">只要记住箭头函数大法好，不变的&nbsp;<code style="padding-top: 0.2em; padding-bottom: 0.2em; box-sizing: border-box; ; ; ; ; ; ;">this</code>。</p><p><span class="fa fa-reorder" style="box-sizing: border-box; display: inline-block; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased;"></span></p><hr style="line-height: 25.6px; white-space: normal;"  /><p style="white-space: normal; line-height: 25.6px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 14px;">●本文编号261，以后想阅读这篇文章直接输入261即可。</span></p><p style="white-space: normal; line-height: 25.6px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 14px;">●输入m可以获取到文章目录</span></p><p style="white-space: normal; line-height: 25.6px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-family: 微软雅黑; text-align: center; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><strong style="max-width: 100%; line-height: 25.6px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">推荐：《</span></strong><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&mid=403116897&idx=2&sn=c1c089136c12a282e081c9f6a4772e55&scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&amp;mid=403116897&amp;idx=2&amp;sn=c1c089136c12a282e081c9f6a4772e55&amp;scene=21#wechat_redirect"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(255, 169, 0); box-sizing: border-box !important; word-wrap: break-word !important;"></span></strong></a><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&mid=403116897&idx=2&sn=c1c089136c12a282e081c9f6a4772e55&scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwNDcyNjI3OA==&amp;mid=403116897&amp;idx=2&amp;sn=c1c089136c12a282e081c9f6a4772e55&amp;scene=21#wechat_redirect" style="line-height: 25.6px;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(255, 169, 0); box-sizing: border-box !important; word-wrap: break-word !important;">15个技术类公众微信</span></strong></a></strong><span style="max-width: 100%; line-height: 25.6px; white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">》</strong></span></p><p style="white-space: normal; line-height: 25.6px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="max-width: 100%; color: rgb(136, 136, 136); font-size: 14px; line-height: 1.75em; white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important;"></span></p><p style="white-space: normal; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); line-height: 1.75em; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="max-width: 100%; font-size: 14px; color: rgb(136, 136, 136); box-sizing: border-box !important; word-wrap: break-word !important;">涵盖：程序人生、算法与数据结构、黑客技术与网络安全、大数据技术、前端开发、Java、Python、Web开发、安卓开发、iOS开发、C/C++、.NET、Linux、数据库、运维等。</span></p>
                    </div>
                    
                    
                    
                                        
                    <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;">

                    </div>

                    
                                        
                                        <div class="rich_media_tool" id="js_toobar3">
                                                                    <a class="media_tool_meta meta_primary" id="js_view_source" href="">阅读原文</a>
                                                <div id="js_read_area3" class="media_tool_meta tips_global meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

                        <span style="display:none;" class="media_tool_meta meta_primary tips_global meta_praise" id="like3">
                            <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum3"></span>
                        </span>

                        <a id="js_report_article3" style="display:none;" class="media_tool_meta tips_global meta_extra" href="">投诉</a>

                    </div>



                                    </div>

                <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none">

                </div>

                <div class="rich_media_area_extra">

                    
                                        <div class="mpda_bottom_container" id="js_bottom_ad_area">
                        
                    </div>
                                        
                    <div id="js_iframetest" style="display:none;"></div>
                                        
                                        <div class="rich_media_extra" id="js_cmt_area" style="display:none">

                        <div class="discuss_container" id="js_cmt_main" style="display:none">
                            <div class="rich_tips with_line title_tips discuss_title_line">
                                <span class="tips">精选留言</span>
                            </div>
                            <p class="tips_global tc title_bottom_tips" id="js_cmt_nofans1" style="display:none;">该文章作者已设置需关注才可以留言</p>
                            <p class="discuss_icon_tips title_bottom_tips tr" id="js_cmt_addbtn1" style="display:none">
                                
                                                                <a href="#comment">写留言<img class="icon_edit" src="JavaScript 中的 this !_files/icon_edit25ded2.png" alt=""></a>
                                                            </p>
                            <ul class="discuss_list" id="js_cmt_list"></ul>
                        </div>


                        <div class="tips_global rich_split_tips tc" id="js_cmt_nofans2" style="display:none;">
                            该文章作者已设置需关注才可以留言
                        </div>

                        <p class="discuss_icon_tips rich_split_tips tr" id="js_cmt_addbtn2" style="display:none">
                            
                                                        <a href="#comment">写留言<img class="icon_edit" src="JavaScript 中的 this !_files/icon_edit25ded2.png" alt=""></a>
                                                    </p>

                        <p class="rich_split_tips tc tips_global" id="js_cmt_tips" style="display:none;"></p>


                        <div class="rich_tips tips_global loading_tips" id="js_cmt_loading">
                            <img src="JavaScript 中的 this !_files/icon_loading_white2805ea.gif" class="rich_icon icon_loading_white" alt="">
                            <span class="tips">加载中</span>
                        </div>

                        <div class="rich_tips with_line tips_global" id="js_cmt_statement" style="display:none">
                            <span class="tips">以上留言由公众号筛选后显示</span>
                        </div>

                        <p class="rich_split_tips tc" id="js_cmt_qa" style="display:none;">
                            <a href="http://kf.qq.com/touch/sappfaq/150211YfyMVj150313qmMbyi.html?scene_id=kf264">
                                了解留言功能详情
                            </a>
                        </p>

                    </div>
                                    </div>
               
            </div>
            <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display:none;">
                <div class="qr_code_pc_inner">
                    <div class="qr_code_pc">
                        <img id="js_pc_qr_code_img" class="qr_code_pc_img">
                        <p>微信扫一扫<br>关注该公众号</p>
                    </div>
                </div>
            </div>

        </div>
    </div>


        
        


        


        

  
  

    </body>
</html>
<!--tailTrap<body></body><head></head><html></html>-->
 
