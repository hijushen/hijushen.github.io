<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--defaultCSS-->
<title>[基础知识] 深入理解ASP.NET服务端控件</title>



<style type="text/css" id="wiz_custom_css">
body
{
    font-family: Microsoft YaHei UI,"Microsoft YaHei", Georgia,Helvetica,Arial,sans-serif,宋体, PMingLiU,serif;
    font-size: 10.5pt;
    line-height: 1.5;
}
html, body
{
    
    
}
h1 {
    font-size:1.5em;
    font-weight:bold;
}
h2 {
    font-size:1.4em;
    font-weight:bold;
}
h3 {
    font-size:1.3em;
    font-weight:bold;
}
h4 {
    font-size:1.2em;
    font-weight:bold;
}
h5 {
    font-size:1.1em;
    font-weight:bold;
}
h6 {
    font-size:1.0em;
    font-weight:bold;
}
img {
    border:0;
    max-width: 100%;
    height: auto !important;
}
blockquote {
    margin-top:0px;
    margin-bottom:0px;
}
table {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
td {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
</style>

<style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style></head>

<body  style=""><h1 class="postTitle" style="margin: 10px 0px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); font-size: 14px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 24px; widows: 1; background-color: rgb(255, 255, 255);"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/couhujia/archive/2010/03/23/1692586.html" style="margin: 0px; padding: 0px; text-decoration: none; color: rgb(57, 154, 178);">深入理解.net服务器控件</a></h1><div class="clear" style="margin: 0px; padding: 0px; clear: both; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; line-height: 24px; widows: 1; background-color: rgb(255, 255, 255);"></div><div class="postBody" style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; widows: 1; background-color: rgb(255, 255, 255);"><div id="cnblogs_post_body" style="margin: 0px 0px 20px; padding: 0px; word-break: break-word;"><p align="left" style="margin: 10px auto; padding: 0px;">控件生命周期</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">1.初始化（对应Oninit方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">这里页面通过ProcessRequest方法来递归遍历它的子控件（即页面中的空间，其实页面也算控件）。使子控件依次调用它们的Oninit方法。我们这里可以重写控件的OnInit方法，来扩展控件功能或增加初始化内容。在本阶段还要打开视图状态跟踪功能，调用TrackviewState方法，这样存储在viewState对象里面的值在页面回发时才能正确灰复到控件属性中。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">2.加载视图状态（对应LoadViewState方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">本阶段仅在页面回发时才执行，加载视图状态到控件。在第一次访问页面时我们还没有获得存储到视图状态的状态数据。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">3.加载回传数据（对应LoadPostData方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">在页面回发时执行。LoadPostData实现IPostBackDataHandler（实现控件数据回传必须要继承该接口）的一个方法，该方法参数NameValueCollection类型的对象装载了客户端提交的数据。另外该方法还会比较控件的旧值和新值返回一个bool类型值，以决定是否执行RaisePostDatachangedEvent方法。</p><p align="left" style="margin: 10px auto; padding: 0px;">客户修改窗体数据进行提交后，接收到的投递的数据是以 “&amp;”符号隔开的一些键值串，页面处理器将投递的数据集合名称与页面控件的ID一一匹配，根据匹配ID检索对应的服务器控件有没有实现IPostBackDataHandler接口，如果实现了就调用控件的LoadPostData方法，给控件刷新其值。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">4.装载（对应OnLoad方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">页面装载时调用Page_Load()事件，在依次调用各个控件OnLoad方法.</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">5.数据回传事件通知（对应RaisePostDataChangeEvent方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">在页面回发时执行。该方法也实现了IPostBackDataHandler接口。当bool值为true代表数据更改了，就执行该方法。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">6.触发回发事件（对应RaisePostBackEvent方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">在页面回发时执行。主要是处理引起回发的客户端事件，成功捕获回发的客户端事件进行服务器端的相应处理。也实现了IPostBackDataHandler接口。可以通过本法的参数来判断是哪个控件触发的回发事件，进而执行不同的事件处理逻辑。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">7.预呈现（对应OnPreRender方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">主要完成呈现（Render方法）之前所需要的一些处理。如注册JavaScript脚本和隐藏域控件等。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">8.保存视图状态（对应SaveViewState方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">该方法是把页面控件视图信息进行存储。第一次请求该页面就会执行该操作。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">9.呈现（对应Render方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">主要将控件标记和字符文本输出到服务器控件输出流中。</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">10.卸载（对应OnUnload方法）</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">对控件资源清除工作。</p><p align="left" style="margin: 10px auto; padding: 0px;">可以通过构造一个简单的服务器控件来熟悉它的生命周期</p><p align="left" style="margin: 10px auto; padding: 0px;">先创建一个控件库（新建项目选择ASP.NET服务器控件）和一个网站，再在类库中添加一个类（添加新建项选择ASP.NET 服务器控件）。在讲下列代码复制到类库中去。在生成该类库并在网站中引用该类库，再在该在网站上新建一个aspx文件，在页面工具箱中直接将控件拖到页面上即可。</p><p align="left" style="margin: 10px auto; padding: 0px;">&nbsp;</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: 'Courier New' !important; font-size: 12px !important; background-color: rgb(245, 245, 245);"><img src="[基础知识] 深入理解ASP.NET服务端控件_files/3634f01c-65df-460f-99e7-cb270bf6a66e.gif" class="code_img_opened" id="code_img_opened_39c49258-24bd-4c43-948a-c72b5a58a482" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div class="cnblogs_code_hide" id="cnblogs_code_open_39c49258-24bd-4c43-948a-c72b5a58a482" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;"><a href="" title="复制代码" style="margin: 0px; padding: 0px; text-decoration: none; color: rgb(0, 0, 0); border: none !important;"><img src="[基础知识] 深入理解ASP.NET服务端控件_files/a96db663-aaf1-47f4-b246-e8466e5d5256.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><div style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;1</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;2</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Collections.Generic;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;3</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.ComponentModel;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;4</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Linq;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;5</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Text;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;6</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Web;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;7</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Web.UI;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;8</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Web.UI.WebControls;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">&nbsp;9</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">using</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;System.Collections.Specialized;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">10</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">11</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">namespace</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;ControlLibrary<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">12</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">13</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;[DefaultProperty(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">Text</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">)]<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">14</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;[ToolboxData(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">&lt;{0}:ControlLifecycle&nbsp;runat=server&gt;&lt;/{0}:ControlLifecycle&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">)]<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">15</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">public</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">class</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;ControlLifecycle&nbsp;:&nbsp;WebControl,IPostBackDataHandler,IPostBackEventHandler<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">16</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">17</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">protected</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">override</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;OnInit(EventArgs&nbsp;e)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">18</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">19</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);">输出</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">20</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);"></span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">1.OnInit</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">21</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">base</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.OnInit(e);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">22</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);">注册</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">23</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 0);"></span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">this</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.Page.RegisterRequiresPostBack(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">this</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">24</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">25</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">26</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">protected</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">override</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;LoadViewState(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">object</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;savedState)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">27</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">28</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">2.LoadViewState</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">29</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">base</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.LoadViewState(savedState);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">30</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">31</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">32</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">33</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">public</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">virtual</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">bool</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;LoadPostData(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">string</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;postDataKey,&nbsp;NameValueCollection&nbsp;postCollection)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">34</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">35</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">36</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">3.LoadPostData</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">37</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">return</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">true</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">38</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">39</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">40</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">protected</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">override</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;OnLoad(EventArgs&nbsp;e)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">41</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">42</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">4.OnLoad</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">43</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">base</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.OnLoad(e);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">44</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">45</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">46</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">public</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">virtual</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;RaisePostDataChangedEvent()<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">47</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">48</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">5.&nbsp;RaisePostDataChangedEvent</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">49</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">50</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">51</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">public</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">virtual</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;RaisePostBackEvent(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">string</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;eventArgument)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">52</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">53</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">6.&nbsp;RaisePostBackEvent</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">54</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">55</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">56</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">private</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">string</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;strText)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">57</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">58</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">if</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">this</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.DesignMode&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">==</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">false</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">59</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">60</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpContext.Current.Response.Write(strText&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">&lt;br&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">61</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">62</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">63</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">64</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">protected</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">override</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;OnPreRender(EventArgs&nbsp;e)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">65</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">66</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">7.&nbsp;OnPreRender</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">67</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">base</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.OnPreRender(e);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">68</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">69</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">70</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">protected</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">override</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">object</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;SaveViewState()<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">71</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">72</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">8.&nbsp;SaveViewState</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">73</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">base</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.SaveViewState();<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">74</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">return</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">new</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;Pair();<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">75</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">76</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">77</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">protected</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">override</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">void</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;Render(HtmlTextWriter&nbsp;writer)<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">78</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">79</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.Write(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">&lt;INPUT&nbsp;type=button&nbsp;name=\</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">{</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 128);">0</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">}\</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">&nbsp;value=\</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">Click&nbsp;Me</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">!</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">\</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">&nbsp;style='position:absolute;&nbsp;left:&nbsp;20;&nbsp;top:&nbsp;280px'&nbsp;onclick=\</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">{</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 128);">1</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">}\</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">,&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">this</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.UniqueID,&nbsp;Page.ClientScript.GetPostBackEventReference(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">this</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">,&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">""</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">));<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">80</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutPut(</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">9.&nbsp;Render</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(128, 0, 0);">"</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">81</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 255);">base</span><span style="margin: 0px; padding: 0px; line-height: 1.8;">.Render(writer);<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">82</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">83</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">84</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">85</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;">}<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 128, 128);">86</span>&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8;"></span></div><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;"><a href="" title="复制代码" style="margin: 0px; padding: 0px; text-decoration: none; color: rgb(0, 0, 0); border: none !important;"><img src="[基础知识] 深入理解ASP.NET服务端控件_files/a96db663-aaf1-47f4-b246-e8466e5d5256.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p align="left" style="margin: 10px auto; padding: 0px;">其实上面过程就算是我们开发了一个控件。了解它，最好的办法是尝试去开发它。</p><p align="left" style="margin: 10px auto; padding: 0px;">&nbsp;</p><p align="left" style="margin: 10px auto; padding: 0px;">开发一个控件首先要选好它要继承的基类</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">选择基类</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">Control</p><p align="left" style="margin: 10px auto; padding: 0px;">控件开发基类，所有控件都直接或间接继承该类。提供了各类控件通用的属性和方法。</p><p align="left" style="margin: 10px auto; padding: 0px;">WebControl</p><p align="left" style="margin: 10px auto; padding: 0px;">webcontrol继承了control所有的属性，还增加了布局，可访问性，外观样式等特性。</p><p align="left" style="margin: 10px auto; padding: 0px;">CompositeControl</p><p align="left" style="margin: 10px auto; padding: 0px;">如果把现有控件聚合起来创建一个组合控件时，可以继承此类。该类默认实现了INamingContainer接口。</p><p align="left" style="margin: 10px auto; padding: 0px;">&nbsp;</p><p align="left" style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">控件呈现顺序</strong></p><p align="left" style="margin: 10px auto; padding: 0px;">&nbsp;上面介绍到了控件Render阶段主要是将控件标记和字符文本输出到服务器控件流当中。这里可以直接写HTML标记（上面例子就是的）也可以调用每个控件都有的RenderControl方法到输出流。在WebControl中，介绍以下5个函数</p><p align="left" style="margin: 10px auto; padding: 0px;">RenderControl(HtmlTextWriter writer)</p><p align="left" style="margin: 10px auto; padding: 0px;">Render(HtmlTextWriter writer)</p><p align="left" style="margin: 10px auto; padding: 0px;">RenderBeginTag(HtmlTextWriter writer)</p><p align="left" style="margin: 10px auto; padding: 0px;">RenderContents(HtmlTextWriter writer)</p><p align="left" style="margin: 10px auto; padding: 0px;">RenderEndTag(HtmlTextWirter writer)</p><p align="left" style="margin: 10px auto; padding: 0px;">在RenderControl 会内部调用Render,在Render会内部调用RenderBeginTag,RenderContents,RenderEndTag。</p><p align="left" style="margin: 10px auto; padding: 0px;">其中RenderBeginTag,RenderEndTag可以重写，默认值为&lt;span&gt;&lt;/span&gt;。它们是用来定义控件起始和结束的标记。RenderContents看英文的意思就明白了。（待续。。。）</p><br><div style="color:gray"><small>来源：&nbsp;&lt;<a href="http://www.cnblogs.com/couhujia/archive/2010/03/23/1692586.html">http://www.cnblogs.com/couhujia/archive/2010/03/23/1692586.html</a><small>&gt;</small></small></div><small><small>&nbsp;</small></small></div></div></body></html>