<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--defaultCSS-->
<title>周旭龙 MVC 基础笔记一 ~ 五笔记</title>



<style type="text/css" id="wiz_custom_css">
body
{
    font-family: Microsoft YaHei UI,"Microsoft YaHei", Georgia,Helvetica,Arial,sans-serif,宋体, PMingLiU,serif;
    font-size: 10.5pt;
    line-height: 1.5;
}
html, body
{
    
    
}
h1 {
    font-size:1.5em;
    font-weight:bold;
}
h2 {
    font-size:1.4em;
    font-weight:bold;
}
h3 {
    font-size:1.3em;
    font-weight:bold;
}
h4 {
    font-size:1.2em;
    font-weight:bold;
}
h5 {
    font-size:1.1em;
    font-weight:bold;
}
h6 {
    font-size:1.0em;
    font-weight:bold;
}
img {
    border:0;
    max-width: 100%;
    height: auto !important;
}
blockquote {
    margin-top:0px;
    margin-bottom:0px;
}
table {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
td {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
</style>

<style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style>
<style type="text/css" id="wiz_tmp_editor_style">
html, body {
    font-size: 15px;
}

body {
    font-family: Helvetica, "Hiragino Sans GB", 微软雅黑, "Microsoft YaHei UI", SimSun, SimHei, arial, sans-serif;
    line-height: 1.6;
    color: ;
    background-color: ;
    margin: 0;
    padding: 16px 20px;
}

h1, h2, h3, h4, h5, h6 {
    margin: 20px 0 10px;
    margin: 1.33rem 0 0.667rem;
    padding: 0;
    font-weight: bold;
}

h1 {
    font-size: 21px;
    font-size: 1.4rem;
}

h2 {
    font-size: 20px;
    font-size: 1.33rem;
}

h3 {
    font-size: 18px;
    font-size: 1.2rem;
}

h4 {
    font-size: 17px;
    font-size: 1.13rem;
}

h5 {
    font-size: 15px;
    font-size: 1rem;
}

h6 {
    font-size: 15px;
    font-size: 1rem;
    color: #777777;
    margin: 1rem 0;
}

div, p, ul, ol, dl, li {
    margin: 0;
}
blockquote, table, pre, code{
    margin: 8px 0;
}

ul, ol {
    padding-left: 32px;
    padding-left: 2.13rem;
}

blockquote {
    border-left: 4px solid #dddddd;
    padding: 0 12px;
    padding: 0 0.8rem;
}

blockquote > :first-child {
    margin-top: 0;
}

blockquote > :last-child {
    margin-bottom: 0;
}

img {
    border: 0;
    max-width: 100%;
    height: auto !important;
    margin: 2px 0;
}

table {
    border-collapse: collapse;
    border: 1px solid #bbbbbb;
}

td {
    padding:4px 8px;
    border-collapse: collapse;
    border: 1px solid #bbbbbb;
}

@media screen and (max-width: 660px) {
    body {
        padding: 20px 18px;
        padding: 1.33rem 1.2rem;
    }
}

@media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {
    html, body {
        font-size: 17px;
    }

    body {
        line-height: 1.7;
        padding: 0.75rem 0.9375rem;
        color: #353c47;
    }

    h1 {
        font-size: 2.125rem;
    }

    h2 {
        font-size: 1.875rem;
    }

    h3 {
        font-size: 1.625rem;
    }

    h4 {
        font-size: 1.375rem;
    }

    h5 {
        font-size: 1.125rem;
    }

    h6 {
        color: inherit;
    }

    ul, ol {
        padding-left: 2.5rem;
    }

    blockquote {
        padding: 0 0.9375rem;
    }
}

</style>
</head>

<body  style=""><h2>MVC（五）区域、模板页与WebAPI初步 (2015-12-04 15:02:19)</h2><h1 class="postTitle" style="margin: 0px 0px 10px; padding: 0px 15px; font-size: 12px; font-weight: normal; line-height: 18px; width: 710px; font-family: 微软雅黑; widows: 1; background-image: url(&quot;&quot;); background-color: rgb(255, 255, 255); background-position: -10px 0px; background-repeat: no-repeat repeat;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/edisonchou/p/3943884.html" style="margin: 0px; padding: 0px; font-size: 24px; color: rgb(0, 0, 0); text-decoration: none; width: 710px;">ASP.Net MVC开发基础学习笔记：五、区域、模板页与WebAPI初步</a></h1><div class="clear" style="margin: 0px; padding: 0px; clear: both; font-family: 微软雅黑; font-size: 12px; line-height: 18px; widows: 1; background-color: rgb(255, 255, 255);"></div><div class="postBody" style="margin: 0px 0px 5px; padding: 0px 15px; font-size: 13.92px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);"><div id="cnblogs_post_body" style="margin: 0px 0px 30px; padding: 0px; word-break: break-word; overflow: auto; width: 710px;"><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 688.688px; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">一、区域—麻雀虽小，五脏俱全的迷你MVC项目</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">1.1 Area的兴起</h2><p style="margin: 10px auto; padding: 0px;">　　为了方便大规模网站中的管理大量文件，在ASP.NET MVC 2.0版本中引入了一个新概念—区域(Area)。</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/e3d2609c-e216-4899-a26b-84cfc5551b1e.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　</p><div style="margin: 0px; padding: 0px;">　　在项目上右击创建新的区域，可以让我们的项目不至于太复杂而导致管理混乱。有了区域后，每个模块的页面都放入相应的区域内进行管理很方便。例如：上图中有两个模块，一个是Admin模块，另一个是Product模块，所有关于这两个模块的控制器、Model以及视图都放入各自的模块内。可以从上图中看出，区域的功能类似一个小的MVC项目，麻雀虽小五脏俱全，<strong style="margin: 0px; padding: 0px;">有自己的控制器、模型、视图还有路由设置</strong>。</div><div style="margin: 0px; padding: 0px;">　　<span id="mt8" class="sentence" data-guid="29498c9f09fda5b16d500b067388665d" data-source="An area is effectively an MVC structure inside an application." style="margin: 0px; padding: 0px;">区域实际上是应用程序<strong style="margin: 0px; padding: 0px;">内部</strong>的一个 MVC 结构，<span id="mt9" class="sentence SentenceHover" data-guid="62bd1d60cacd89c1bbb27a24155dd9c5" data-source="An application could contain several MVC structures (areas)." style="margin: 0px; padding: 0px;">一个应用程序可能包含若干个 MVC 结构（区域）。例如：<span id="mt10" class="sentence" data-guid="26acde269d27a5e76249cd6b51c1957e" data-source="For example, a single large e-commerce application might be divided into areas that represent the storefront, product reviews, user account administration, and the purchasing system." style="margin: 0px; padding: 0px;">一个大型电子商务应用程序可能分为若干个区域，这些区域表示店面、产品检查、用户帐户管理和采购系统。<span id="mt11" class="sentence" data-guid="4f0fc2d14db180cde89d5999439f830e" data-source="Each area represents a separate function of the overall application." style="margin: 0px; padding: 0px;">每个区域表示整个应用程序的一个独立功能。</span></span></span></span></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;"><span class="sentence" data-guid="29498c9f09fda5b16d500b067388665d" data-source="An area is effectively an MVC structure inside an application." style="margin: 0px; padding: 0px;">1.2 注册区域路由</span></h2><div style="margin: 0px; padding: 0px;"><span class="sentence" data-guid="29498c9f09fda5b16d500b067388665d" data-source="An area is effectively an MVC structure inside an application." style="margin: 0px; padding: 0px;">　　在MVC中添加一个Area区域之后，会默认帮我们注册这个区域的路由规则。例如：我们创建了一个Admin的区域，然后它帮我们生成了一个AdminAreaRegistration.cs的文件，其代码如下：</span></div><div style="margin: 0px; padding: 0px;"><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> AdminAreaRegistration : AreaRegistration
{
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> AreaName
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Admin</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            }
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RegisterArea(AreaRegistrationContext context)
        {
            context.MapRoute(
                </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Admin_default</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Admin/{controller}/{action}/{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
            );
        }
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px;">　　这里，RegisterArea是实现注册的关键方法，通过把另一个路由添加到区域路由集合中实现。请注意，这里的区域名Admin是以硬编码方式添加到URL中;因此，所有使用此区域名称作为前缀的请求都被进行特别路由处理。　　</p><p style="margin: 10px auto; padding: 0px;">　　你可能感到疑惑：为什么我们不能在主应用程序的路由定义中指定Admin部分?实际上，如果我们将它加入到标准的路由表中，而不通过区域上下文（AreaRegistrationContext），那么我们还是把所有文件驻留到同一个项目中，从而失去了分离项目区域的好处（即区域没有起到作用）。</p></div><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 688.688px; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">二、模板页—封装页面变化点，构建快速View开发模板</h1><p style="margin: 10px auto; padding: 0px;">　　在传统的WebForm开发模式中，我们使用MasterPage作为模板页。那么在MVC3 Razor视图设计中，我们怎么来使用模板页呢？</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">2.1 模板页的归宿—Shared文件夹</h2><p style="margin: 10px auto; padding: 0px;">　　在解决方案资源管理中，我们可以看到Views文件夹下面有一个Shared文件夹。在Shared文件夹里面有一个_Layout.cshtml页面。这个就是项目中默认的模板页面，如下图所示：</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/9b20e355-f38b-443f-bb9b-ca5fcbf8c340.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　在Shared中新建一个MVC布局页，取名为：_MyLayout.cshtml</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;!</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;">DOCTYPE html</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">html</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">head</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">meta </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="viewport"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> content</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width=device-width"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">title</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>@ViewBag.Title<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">title</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">head</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">body</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
        @RenderSection("Head", required: false)
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>This is MyLayout Page<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">hr </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
        @RenderBody()
    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">body</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">html</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px;">　　其中RenderSection为渲染指定区域，该区域名称为Head，但不是必须渲染（required:false）。而RenderBody则是重头戏，他就类似于MasterPage中主内容的PlaceHolder，是每个使用该模板页都需填充的内容区域。</p><p style="margin: 10px auto; padding: 0px;">　　那么，怎么来使用这个模板页呢？其实很简单，只需要在要使用模板页的View中修改Layout属性即可：</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/b1f663bc-79db-4694-af9a-63f740927762.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">2.2 View未动，ViewStart先行</h2><p style="margin: 10px auto; padding: 0px;">　　在Razor视图引擎中，所有页面启动之前，ViewStart文件会先执行。那么，这个ViewStart文件到底做了些什么事儿呢？</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/f7d9f9a7-a89f-4f56-aff6-62737e29913a.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　（1）可以看出，这个ViewStart是一个全局的页面。当我们的页面未指定Layout的时候，如果项目在全局或在同文件夹内存在_ViewStart.cshtml时该页面的Layout会自动继承自_ViewStart.cshtml，如果不同的文件夹层级都存在_ViewStart.cshtml，则继承离该页面最近的一个。</p><p style="margin: 10px auto; padding: 0px;">　　（2）如果我们想要所有的页面都默认使用一个指定模板页，只需将这个Layout改为新模板页即可。例如：将Layout改为我们刚刚创建的~/Views/Shared/_MyLayout.cshtml。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">2.3 RenderBody与RenderSection</h2><p style="margin: 10px auto; padding: 0px;">　　（1）RenderBody：</p><p style="margin: 10px auto; padding: 0px;">　　@RenderBody()在模板页中使用表示内容页在模板中的位置。当创建具有模板页的内容页的时候，内容页就呈现在模板页中@RenderBody()所在的位置，一个模板页中只能有一个@RenderBody()。</p><p style="margin: 10px auto; padding: 0px;">　　（2）RenderSection：</p><p style="margin: 10px auto; padding: 0px;">　　@RenderSection用于在模板布局中定义一个区域，在内容页可以定义一些内容来填充这个区域，例如内容页中引用的JS文件，可以填充到模板页的section位置。每个内容页的单独一些信息，可以在模板页中这个区域显示。</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c06ec2a0-15c8-4ad6-8b5d-f40afbb6e8e4.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　@RenderSection有两个个参数，第一个参数用于定义section的名称，第2个参数是布尔类型，如果为TRUE，表示内容页必须定义这个section，如果为false,则表示内容页可定义section，也可以不定义。</p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 688.688px; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">三、WebAPI初步—构建轻量级Restful服务的利器</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">&nbsp;3.1 Restful架构是什么？</h2><p style="margin: 10px auto; padding: 0px;">　　RESTful架构，就是目前最流行的一种互联网软件架构。它结构清晰、符合标准、易于理解、扩展方便，所以正得到越来越多网站的采用。</p><p style="margin: 10px auto; padding: 0px;">　　这里借用阮一峰博士的总结，到底什么是Restful架构：</p><p style="margin: 10px auto; padding: 0px;">　　（1）每一个URI代表一种<strong style="margin: 0px; padding: 0px;">资源</strong>；</p><p style="margin: 10px auto; padding: 0px;">　　（2）客户端和服务器之间，传递这种资源的某种表现层；</p><p style="margin: 10px auto; padding: 0px;">　　（3）客户端通过四个HTTP动词，对服务器端资源进行操作，实现"<strong style="margin: 0px; padding: 0px;">表现层状态转化</strong>"。</p><p style="margin: 10px auto; padding: 0px;">　　各位园友可以阅读阮一峰博士的这篇《<a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none;">理解RESTful架构</a>》的文章来了解Restful架构的基本概念。</p><p style="margin: 10px auto; padding: 0px;">　　综上所示，<strong style="margin: 0px; padding: 0px;">REST是一种简洁的设计风格，通过URL来设计系统，以URI来抽象各种资源，以HTTP协议的PUT、DELETE、GET、POST来对应对资源的各种操作。</strong></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">3.2 WCF and WebAPI</h2><p style="margin: 10px auto; padding: 0px;">　　首先，ASP.NET Web API 和WCF有着<strong style="margin: 0px; padding: 0px;">千丝万缕</strong>的联系。</p><p style="margin: 10px auto; padding: 0px;">　　WCF是一个通用的服务架构平台，其设计之初在于创建一个通用的Web Service平台，可以在各种不同的协议(TCP, UDP, HTTP)下使用，仅仅通过EndPoint的配置而不需要修改代码实现就能适应不同的工作环境。WCF也是微软以前很多服务产品的合体。</p><p style="margin: 10px auto; padding: 0px;">　　WCF 里面可以采用模板的方式来实现REST架构风格，但WCF毕竟是一个集大成的平台（或者说是：比较<strong style="margin: 0px; padding: 0px;">重量级</strong>）。WCF的野心造成了它的庞大复杂，HTTP的单纯造就了它的简单优美。于是经常自问：拿着牛刀削苹果有必要吗？废话，当然没有必要，水果刀在哪里？因此，<strong style="margin: 0px; padding: 0px;">我们所需要的<span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0);">仅仅是里面HTTP REST风格</span>的部分</strong>。各种因素纠结下，微软于是便把WCF里面的这部分团队抽离出来合并到了MVC组中，才有了现在的ASP.NET Web API，并包含在MVC 4中发布。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">3.3 第一个WebAPI项目</h2><p style="margin: 10px auto; padding: 0px;">　　（1）新建一个ASP.NET MVC项目，取名为：MyMvcWebAPIDemo，项目类型选择WebAPI。</p><p style="margin: 10px auto; padding: 0px;">　　（2）在Models中新增一个类，取名为：Product，作为我们要测试的实体模型。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><img id="code_img_opened_f7dc0c44-7700-4f40-bdf2-34e3e1d908e1" class="code_img_opened" src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c699c29a-77f0-4457-a806-8a802ad02e5b.gif" alt="" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div id="cnblogs_code_open_f7dc0c44-7700-4f40-bdf2-34e3e1d908e1" class="cnblogs_code_hide" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">    public class Product
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string Category { get; set; }
        public decimal Price { get; set; }
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p style="margin: 10px auto; padding: 0px;">　　（3）在Controllers中新增一个控制器，并选择“空WebAPI”类型模板，取名为：ProductController。</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/17565e79-c2b2-47c0-b8e1-47d74aeb5675.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　（4）为了方便进行数据测试，这里定义一个静态的产品集合。当然，在实际应用中，我们可能会从数据库中读取数据集合，并对其进行增删查改及各种查询操作。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><img id="code_img_opened_cc725a9e-fbde-48c1-b81d-8daad34e8be5" class="code_img_opened" src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c699c29a-77f0-4457-a806-8a802ad02e5b.gif" alt="" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div id="cnblogs_code_open_cc725a9e-fbde-48c1-b81d-8daad34e8be5" class="cnblogs_code_hide" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> List&lt;Product&gt; products = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> List&lt;Product&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> 
        { 
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Nokia Lumia 1520</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">移动电话</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3500</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }, 
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">2</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Lenovo Thinkpad T430S</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">便携式计算机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">8000</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }, 
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">锤子手机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">移动电话</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3300</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> } ,
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">4</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Wii</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">电视游戏机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> },
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Xbox 360</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">电视游戏机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3200</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> } 
        };</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p style="margin: 10px auto; padding: 0px;">　　（5）定义一些方法，用于对产品集合的各种操作：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><img id="code_img_opened_fdcad7ce-0daf-4209-a758-06ca8868ca90" class="code_img_opened" src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c699c29a-77f0-4457-a806-8a802ad02e5b.gif" alt="" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div id="cnblogs_code_open_fdcad7ce-0daf-4209-a758-06ca8868ca90" class="cnblogs_code_hide" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ProductController : ApiController
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> List&lt;Product&gt; products = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> List&lt;Product&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> 
        { 
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Nokia Lumia 1520</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">移动电话</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3500</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }, 
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">2</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Lenovo Thinkpad T430S</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">便携式计算机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">8000</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }, 
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">锤子手机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">移动电话</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3300</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> } ,
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">4</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Wii</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">电视游戏机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> },
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> Product { Id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span>, Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Xbox 360</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Category = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">电视游戏机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3200</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> } 
        };

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> GET
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> IEnumerable&lt;Product&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> GetAllProducts()
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> products.OrderBy(p =&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> p.Id);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> GET
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="id"&gt;&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> Product GetProductById(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> id)
        {
            Product product </span>= products.FirstOrDefault(p =&gt; p.Id ==<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> id);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (product == <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span> resp = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HttpResponseMessage(HttpStatusCode.NotFound);
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">throw</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HttpResponseException(resp);
            }

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> product;
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> GET
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="productName"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">产品名</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> Product GetProductByName(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productName)
        {
            Product product </span>= products.FirstOrDefault(p =&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> p.Name.Contains(productName));
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (product == <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span> resp = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HttpResponseMessage(HttpStatusCode.NotFound);
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">throw</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HttpResponseException(resp);
            }

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> product;
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> GET
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="category"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">类型名称</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> IEnumerable&lt;Product&gt; GetAllProductsByCategory(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> category)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (category.Equals(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">--请选择--</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">))
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> products;
            }

            IEnumerable</span>&lt;Product&gt; productList =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> products.Where(
                p </span>=&gt; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.Equals(p.Category, category, StringComparison.OrdinalIgnoreCase));
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> productList.OrderBy(p =&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> p.Id);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> POST
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">bool</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> PostProduct(Product product)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> index = products.FindIndex(p =&gt; p.Name ==<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> product.Name);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (index != -<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            }
            product.Id </span>= products.Max(p =&gt; p.Id) + <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            products.Add(product);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> PUT
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">bool</span> PutProduct(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> id, [FromBody]Product product)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> index = products.FindIndex(p =&gt; p.Id ==<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> id);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (index == -<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            }

            products.RemoveAt(index);
            products.Add(product);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> DELETE
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;returns&gt;&lt;/returns&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">bool</span> DeleteProduct(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> id)
        {
            Product product </span>= products.FirstOrDefault(p =&gt; p.Id ==<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> id);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (product == <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            }

            products.Remove(product);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
        }
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p style="margin: 10px auto; padding: 0px;">　　一般来说，Http的四种访问类型中，Get：一般用作查询，多次操作得到结果一致；Post：一般用于修改、添加多次重复操作得到结果不一致。Put：一般用于修改，多次操作得到结果一致。Delete：一般用于删除数据，多次操作得到结果一致。</p><p style="margin: 10px auto; padding: 0px;">　　现在，我们来看一下我们写的这些方法：</p><p style="margin: 10px auto; padding: 0px;">　　①用于GET方式获取的方法有：</p><p style="margin: 10px auto; padding: 0px;">　　GetAllProducts用于获取所有产品的集合；GetProductById用于返回指定Id的产品对象；</p><p style="margin: 10px auto; padding: 0px;">　　GetProductByName用户返回指定Name的产品对象；GetAllProductsByCategory则用户返回指定Category（种类）的产品集合；</p><p style="margin: 10px auto; padding: 0px;">　　②用于POST方式的方法有：</p><p style="margin: 10px auto; padding: 0px;">　　PostProduct用于增加一个产品信息；</p><p style="margin: 10px auto; padding: 0px;">　　③用于PUT方式的方法有：</p><p style="margin: 10px auto; padding: 0px;">　　PutProduct用于修改一个指定的产品信息；</p><p style="margin: 10px auto; padding: 0px;">　　④用于DELETE方式的方法有：</p><p style="margin: 10px auto; padding: 0px;">　　DeleteProduct用于删除一个选择的产品信息；</p><p style="margin: 10px auto; padding: 0px;">　　以上GET、POST、PUT、DELETE则构成了我们通过HTTP协议对资源的各种操作了。具体的代码，这里我就不过多赘述，相信大家都能看懂。</p><p style="margin: 10px auto; padding: 0px;">　　（6）此时，我们有了一个能工作的Web API了。该控制器上的每个方法都映射到一个URI，例如下表中所示的前三个方法所对应的URI：</p><table style="margin: 5px auto; padding: 0px; border-spacing: 0px; border-color: silver; word-break: break-word;"><tbody style="margin: 0px; padding: 0px;"><tr style="margin: 0px; padding: 0px;"><th style="margin: 0px; padding: 3px; border: 1px solid silver; border-collapse: collapse;">Controller Method<br style="margin: 0px; padding: 0px;">控制器方法</th><th style="margin: 0px; padding: 3px; border: 1px solid silver; border-collapse: collapse;">URI</th></tr><tr style="margin: 0px; padding: 0px;"><td style="margin: 0px; padding: 3px; border-color: silver;">GetAllProducts</td><td style="margin: 0px; padding: 3px; border-color: silver;">/api/product</td></tr><tr style="margin: 0px; padding: 0px;"><td style="margin: 0px; padding: 3px; border-color: silver;">GetProductById</td><td style="margin: 0px; padding: 3px; border-color: silver;">/api/product/id</td></tr><tr style="margin: 0px; padding: 0px;"><td style="margin: 0px; padding: 3px; border-color: silver;">GetProductsByCategory</td><td style="margin: 0px; padding: 3px; border-color: silver;">/api/product/?category=category</td></tr></tbody></table><p style="margin: 10px auto; padding: 0px;">　　客户端可以通过URI来访问我们的控制器已达到对资源的操作，那么，我们可以设计一个页面来发送AJAX请求来实践一下。</p><p style="margin: 10px auto; padding: 0px;">　　（7）在Views中的默认Home/Index这个页面中，加入以下代码：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><img id="code_img_opened_3ee7cfb6-6a91-44dc-8929-930197626626" class="code_img_opened" src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c699c29a-77f0-4457-a806-8a802ad02e5b.gif" alt="" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div id="cnblogs_code_open_3ee7cfb6-6a91-44dc-8929-930197626626" class="cnblogs_code_hide" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">link </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Content/themes/easyui/bootstrap/easyui.css"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> rel</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="stylesheet"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">link </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Content/themes/easyui/icon.css"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> rel</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="stylesheet"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">header</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="content-wrapper"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="float-left"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="site-title"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>ASP.NET Web API<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">header</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="body"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">section </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="featured"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="content-wrapper"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            @*</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">hgroup </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="title"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>欢迎使用 ASP.NET Web API!<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h2</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个简单的WebAPI入门Demo.<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h2</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">hgroup</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">*@
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">strong</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>搜索：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">strong</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                ①产品类型：
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="productTypes"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="productTypes"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width: 120px; height: 34px;"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="-1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>--请选择--<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="0"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>移动电话<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>便携式计算机<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>电视游戏机<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                ②产品名称：</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="productName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="productName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnSearchByName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnSearchByName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="button"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="搜 索"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnSearchAll"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="searchAll"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="button"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="全 部"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">strong</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>新增：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">strong</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">br </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                产品名称：</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="newProductName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="newProductName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                产品类型：</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="newProductType"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="newProductType"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width: 120px; height: 34px;"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="-1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>--请选择--<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="0"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>移动电话<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>便携式计算机<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>电视游戏机<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">br </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                产品价格：</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="newProductPrice"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="newProductPrice"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnPostProduct"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnPostProduct"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="button"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="新 增"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">section</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">section </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="content-wrapper main-content clear-fix"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h3</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>下面是从WebAPI获取的数据集:<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h3</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="result"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
        @*</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">ol </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="round"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">li </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="one"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h5</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>开始使用<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h5</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                ASP.NET Web API  是一个框架，您可以通过该框架轻松生成可访问
                多种客户端(包括浏览器和移动设备)的 HTTP 服务。ASP.NET Web API
                是一个用于在 .NET Framework 之上生成 REST 样式的应用程序的理想平台。
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="http://go.microsoft.com/fwlink/?LinkId=245160"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>了解详细信息...<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">li</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">ol</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">*@
    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">section</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&lt;!--</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> jBox modal </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">--&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="myMsgModal"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="notshow"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&lt;!--</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> jBox edit modal </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">--&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="myEditModal"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="notshow"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="hiddProductId"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="hidden"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">table </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">width</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="100%"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">align</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="right"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>产品名称：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="editProductName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="editProductName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">align</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="right"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>产品类型：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="editProductType"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="editProductType"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width: 120px; height: 34px;"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="-1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>--请选择--<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="0"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>移动电话<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>便携式计算机<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>电视游戏机<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">align</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="right"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>产品价格：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="editProductPrice"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="editProductPrice"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">colspan</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> align</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="center"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnPutProduct"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="#"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="easyui-linkbutton"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>确定<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnCloseModal"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="#"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="easyui-linkbutton"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>关闭<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">table</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
@section scripts{
    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Scripts/jquery-1.7.1.min.js"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Content/themes/easyui/jquery.easyui.min.js"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Content/themes/easyui/easyui-lang-zh_CN.js"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text/javascript"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
        $(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
            initData();
            bindClick();
        });

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> initData() {
            $.getJSON(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">!=</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ($(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#resultList</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).length </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&gt;</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">0</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                        $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#resultList</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).remove();
                    }

                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;ol id='resultList' class='round'&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    $.each(data, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (key, value) {
                        html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;li class='one'&gt;&lt;h5&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Name </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;/h5&gt;类型：</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Category
                            </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> 价格：</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Price </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">  | &lt;a href='#' onclick='editProduct(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Id </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)'&gt;编辑&lt;/a&gt;&lt;a href='#' onclick='deleteProduct(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Id </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)'&gt;删除&lt;/a&gt;&lt;/li&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    });
                    html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;/ol&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#result</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).append(html);
                }
            });
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> bindClick() {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 01.按产品类型搜索产品</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#productTypes</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).bind(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">change</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
                $.getJSON(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, { category: $(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">this</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).find(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">option:selected</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).text() }, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">!=</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                        $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#resultList</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).remove();
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;ol id='resultList' class='round'&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        $.each(data, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (key, value) {
                            html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;li class='one'&gt;&lt;h5&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Name </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;/h5&gt;类型：</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Category
                                </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> 价格：</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Price </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">  | &lt;a href='#' onclick='editProduct(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Id </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)'&gt;编辑&lt;/a&gt;&lt;a href='#' onclick='deleteProduct(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Id </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)'&gt;删除&lt;/a&gt;&lt;/li&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        });
                        html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;/ol&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#result</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).append(html);
                    }
                });
            });
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 02.按产品名搜索产品</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#btnSearchByName</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).bind(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">click</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> searchName </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#productName</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val();
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (searchName </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">""</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">您还没有输入要搜索的产品名称</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                }
                $.getJSON(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, { productName: searchName }, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">!=</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                        $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#resultList</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).remove();
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;ol id='resultList' class='round'&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;li class='one'&gt;&lt;h5&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> data.Name </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;/h5&gt;类型：</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> data.Category
                                </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> 价格：</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> data.Price </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">  | &lt;a href='#' onclick='editProduct(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> data.Id </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)'&gt;编辑&lt;/a&gt;&lt;a href='#' onclick='deleteProduct(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> data.Id </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)'&gt;删除&lt;/a&gt;&lt;/li&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        html </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+=</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;/ol&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#result</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).append(html);
                        clearText();
                    }
                });
            });
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 03.搜索全部产品信息</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#btnSearchAll</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).bind(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">click</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, initData);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 04.新增一个产品信息</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#btnPostProduct</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).bind(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">click</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productName </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#newProductName</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val();
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productCategory </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#newProductType</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).find(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">option:selected</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).text();
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productPrice </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#newProductPrice</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val();

                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (productName </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">""</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">请输入产品名称</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                }
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (productCategory </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">""</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">||</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productCategory </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">--请选择--</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">请选择产品类型</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                }
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (productPrice </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">""</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">请输入产品价格</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                }
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (isNaN(productPrice)) {
                    showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">产品价格请输入数字类型</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                }
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> {
                    $.post(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, {
                        Name: productName,
                        Category: productCategory,
                        Price: productPrice
                    }, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">!=</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&amp;&amp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                            initData();
                            clearText();
                            showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">添加新产品操作成功</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                        }
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> {
                            showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">添加新产品操作失败</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                        }
                    });
                }
            });
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 07.修改一个产品信息</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#btnPutProduct</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).bind(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">click</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productId </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#hiddProductId</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val();
                $.ajax({
                    type: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">PUT</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                    url: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">/api/Product/</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productId,
                    data: {
                        Id: productId,
                        Name: $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductName</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(),
                        Category: $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductType</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).find(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">option:selected</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).text(),
                        Price: $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductPrice</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val()
                    },
                    success: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                            initData();
                            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#myEditModal</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).window(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">close</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                            showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">您已成功修改那玩意</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                        }
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> {
                            showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">修改那玩意操作失败</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                        }
                    }
                });
            });
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 关闭模态对话框</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#btnCloseModal</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).bind(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">click</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
                $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#myEditModal</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).window(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">close</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            });
        }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 05.编辑一个产品信息</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> editProduct(productId) {
            $.getJSON(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, { id: productId }, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">!=</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#hiddProductId</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(data.Id);
                    $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductName</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(data.Name);
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">switch</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data.Category) {
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">case</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">移动电话</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">:
                            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductType</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">0</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">break</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">case</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">便携式计算机</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">:
                            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductType</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">break</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">case</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">电视游戏机</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">:
                            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductType</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">2</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">break</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    }
                    $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#editProductPrice</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(data.Price);
                }
            });
            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#myEditModal</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).show();
            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">#myEditModal</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).window({
                title: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">编辑产品信息</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                modal: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                collapsible: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                minimizable: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                maximizable: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                resizable: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                width: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">500</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                height: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">220</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            });
        }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 06.删除一个产品信息</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> deleteProduct(productId) {
            $.messager.confirm(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">您确定要删除这玩意？</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (r) {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (r) {
                    $.ajax({
                        type: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">DELETE</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                        url: </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">/api/Product/</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span> <span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">+</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> productId,
                        data: {},
                        success: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">==</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                                initData();
                                showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">您已成功删除那玩意</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                            }
                            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> {
                                showMsg(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">提示</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">删除那玩意操作失败</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
                            }
                        }
                    });
                }
            });
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> showMsg(title, msg) {
            $.messager.alert(title, msg, </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">info</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> clearText() {
            $(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">input[type=text]</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).val(</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">""</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }
    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p style="margin: 10px auto; padding: 0px;">　　通过调试运行，可以看到以下页面效果，并可以看到，由于我们在页面中加入了获取产品列表的GET请求，于是产品信息被加载到了页面中：</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/a5cd0e59-378f-4086-ac53-c15afb5a020f.jpg" alt="" width="734" height="528" style="margin: 0px auto; padding: 0px; display: block; width: 710px;"></p><p style="margin: 10px auto; padding: 0px;">　　其对应的JS语句为：可以看到，我们通过api/Product调用了API控制器中的GetAllProducts方法，获取了所有产品信息。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">$.getJSON("api/Product", <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (data != <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> ($("#resultList").length &gt; 0<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                        $(</span>"#resultList"<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).remove();
                    }

                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span> html = "&lt;ol id='resultList' class='round'&gt;"<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    $.each(data, </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (key, value) {
                        html </span>+= "&lt;li class='one'&gt;&lt;h5&gt;" + value.Name + "&lt;/h5&gt;类型：" +<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value.Category
                            </span>+ " 价格：" + value.Price + "  | &lt;a href='#' onclick='editProduct(" + value.Id + ")'&gt;编辑&lt;/a&gt;&lt;a href='#' onclick='deleteProduct(" + value.Id + ")'&gt;删除&lt;/a&gt;&lt;/li&gt;"<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    });
                    html </span>+= "&lt;/ol&gt;"<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
                    $(</span>"#result"<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).append(html);
                }
});</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px;">　　（8）下面我们可以来试试其他的API方法：</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/00071c9e-363d-44e9-9f97-aa03795e6614.gif" alt="WebAPIShow" width="960" height="716" style="margin: 0px auto; padding: 0px; display: block; width: 710px;"></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">3.4 第一个RestClient客户端项目</h2><p style="margin: 10px auto; padding: 0px;">　　有了我们上面的WebAPI项目的支持，我们可以在客户端（如：WindowsForm项目、Windows Phone项目等等）对WebAPI项目中的资源进行访问和操作，现在我们就来实现一个RestClient控制台项目模拟一个客户端对WebAPI发起HTTP访问请求。</p><p style="margin: 10px auto; padding: 0px;">　　（1）新建一个控制台项目，取名为：MyConsoleRestClientDemo。</p><p style="margin: 10px auto; padding: 0px;">　　（2）新建一个类，取名为：RestClient.cs。它封装了我们常用的HTTP操作，如GET、POST、PUT、DELETE方式。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><img id="code_img_opened_8a732162-65b7-466f-99d7-02c2ad786192" class="code_img_opened" src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c699c29a-77f0-4457-a806-8a802ad02e5b.gif" alt="" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div id="cnblogs_code_open_8a732162-65b7-466f-99d7-02c2ad786192" class="cnblogs_code_hide" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RestClient
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">private</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> BaseUri;
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> RestClient(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> baseUri)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">this</span>.BaseUri =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> baseUri;
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> Delete方式
        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> Delete(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> data, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> uri)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> CommonHttpRequest(data, uri, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">DELETE</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> Delete(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> uri)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Web访问对象64</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> serviceUrl = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.Format(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{0}/{1}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">this</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.BaseUri, uri);
            HttpWebRequest myRequest </span>=<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (HttpWebRequest)WebRequest.Create(serviceUrl);
            myRequest.Method </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">DELETE</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 获得接口返回值68</span>
            HttpWebResponse myResponse =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (HttpWebResponse)myRequest.GetResponse();
            StreamReader reader </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> StreamReader(myResponse.GetResponseStream(), Encoding.UTF8);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">string ReturnXml = HttpUtility.UrlDecode(reader.ReadToEnd());</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> ReturnXml =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> reader.ReadToEnd();
            reader.Close();
            myResponse.Close();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ReturnXml;
        }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> Put方式
        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> Put(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> data, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> uri)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> CommonHttpRequest(data, uri, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">PUT</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> POST方式实现

        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> Post(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> data, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> uri)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> CommonHttpRequest(data, uri, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">POST</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> CommonHttpRequest(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> data, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> uri, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> type)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Web访问对象，构造请求的url地址</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> serviceUrl = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.Format(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{0}/{1}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">this</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.BaseUri, uri);

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">构造http请求的对象</span>
            HttpWebRequest myRequest =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (HttpWebRequest)WebRequest.Create(serviceUrl);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">转成网络流</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">byte</span>[] buf = System.Text.Encoding.GetEncoding(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">UTF-8</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).GetBytes(data);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">设置</span>
            myRequest.Method =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> type;
            myRequest.ContentLength </span>=<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> buf.Length;
            myRequest.ContentType </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">application/json</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            myRequest.MaximumAutomaticRedirections </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            myRequest.AllowAutoRedirect </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 发送请求</span>
            Stream newStream =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> myRequest.GetRequestStream();
            newStream.Write(buf, </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, buf.Length);
            newStream.Close();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 获得接口返回值</span>
            HttpWebResponse myResponse =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (HttpWebResponse)myRequest.GetResponse();
            StreamReader reader </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> StreamReader(myResponse.GetResponseStream(), Encoding.UTF8);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> ReturnXml =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> reader.ReadToEnd();
            reader.Close();
            myResponse.Close();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ReturnXml;
        }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> GET方式实现
        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> Get(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> uri)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Web访问对象64</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> serviceUrl = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.Format(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{0}/{1}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">this</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.BaseUri, uri);

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">构造一个Web请求的对象</span>
            HttpWebRequest myRequest =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (HttpWebRequest)WebRequest.Create(serviceUrl);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 获得接口返回值68
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">获取web请求的响应的内容</span>
            HttpWebResponse myResponse =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (HttpWebResponse)myRequest.GetResponse();

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">通过响应流构造一个StreamReader</span>
            StreamReader reader = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> StreamReader(myResponse.GetResponseStream(), Encoding.UTF8);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">string ReturnXml = HttpUtility.UrlDecode(reader.ReadToEnd());</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> ReturnXml =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> reader.ReadToEnd();
            reader.Close();
            myResponse.Close();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ReturnXml;
        }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p style="margin: 10px auto; padding: 0px;">　　（3）在Program.cs中的Main方法中，调用RestClient类为我们提供的方法对WebAPI服务器（这里是本机：http://localhost:8080/）发起访问：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><img id="code_img_opened_cf07c2a5-b6fb-4bb3-88d9-4a55e9219b82" class="code_img_opened" src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c699c29a-77f0-4457-a806-8a802ad02e5b.gif" alt="" style="margin: 0px; padding: 0px 5px 0px 0px; vertical-align: middle;"><div id="cnblogs_code_open_cf07c2a5-b6fb-4bb3-88d9-4a55e9219b82" class="cnblogs_code_hide" style="margin: 0px; padding: 0px;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Program
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> restfulServiceUri = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">http://localhost:8080/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;

        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span> Main(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">[] args)
        {
            RestClient restClient </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RestClient(restfulServiceUri);

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> 01.Get方式无参数请求<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            Console.WriteLine(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">----------------------获取所有产品列表-----------------------</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> getResult = restClient.Get(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Console.WriteLine(getResult);
            Console.WriteLine();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> 02.Get方式带参数请求<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            Console.WriteLine(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">----------------------获取Id=1的产品信息-----------------------</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> getByIdResult = restClient.Get(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">api/Product/1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Console.WriteLine(getByIdResult);
            Console.WriteLine();
            Console.WriteLine(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">----------------------获取Name=锤子手机的产品信息-----------------------</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> getByNameResult = restClient.Get(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">api/Product/?productName=锤子手机</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Console.WriteLine(getByNameResult);
            Console.WriteLine();
            Console.WriteLine(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">----------------------获取Category=移动电话的产品信息-----------------------</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> getByTypeResult = restClient.Get(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">api/Product/?category=移动电话</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Console.WriteLine(getByTypeResult);
            Console.WriteLine();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> 03.Post方式请求结果
            <span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine("----------------------新增一个产品信息-----------------------");
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">string jsonParam = @"{Id:""250"",Name:""小米2S"",Category:""移动电话"",Price:""1800""}";
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">string postResult = restClient.Post(jsonParam, "api/Product");
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine(postResult);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">getResult = restClient.Get("api/Product");
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine(getResult);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine();</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> 04.Delete方式请求结果
            <span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine("----------------------删除一个产品信息-----------------------");
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">string deleteId = "6";
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">string deleteResult = restClient.Delete("api/Product/" + deleteId);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine(deleteResult);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">getResult = restClient.Get("api/Product");
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine(getResult);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">Console.WriteLine();</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#region</span> 05.Put方式请求结果<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            Console.WriteLine(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">----------------------修改一个产品信息-----------------------</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> jsonParam = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{Id:""5"",Name:""PlayStation 3"",Category:""电视游戏机"",Price:""3200""}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> putResult = restClient.Put(jsonParam, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">api/Product/5</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Console.WriteLine(putResult);
            getResult </span>= restClient.Get(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">api/Product</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Console.WriteLine(getResult);
            Console.WriteLine();
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">#endregion</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">

            Console.ReadKey();
        }
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1de0d15a-3631-41d1-8439-05fc98601f7a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><p style="margin: 10px auto; padding: 0px;">　　（4）调试运行，查看访问结果如下：可以看出，返回的均为JSON格式的数据，和我们在浏览器中访问指定URI的结果一致。</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/da0b5a1f-4e58-4f81-b917-831724d965f8.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">3.5 初探小结</h2><p style="margin: 10px auto; padding: 0px;">　　<span id="mt1" class="sentence" data-guid="9af6ce626d60218be98820a4ac4397e6" data-source="ASP.NET Web API is a framework that makes it easy to build HTTP services that reach a broad range of clients, including browsers and mobile devices." style="margin: 0px; padding: 0px;">ASP.NET Web API 是一种框架，用于轻松构建可以访问多种客户端（包括浏览器和移动设备）的 HTTP 服务。<span id="mt2" class="sentence" data-guid="099121e050c18cbae77589e9c407dab9" data-source="ASP.NET Web API is an ideal platform for building RESTful applications on the .NET Framework." style="margin: 0px; padding: 0px;">ASP.NET Web API 是一种用于在 .NET Framework 上构建 RESTful 应用程序的理想平台。</span></span></p><br><div style="color:gray"><small>来源：&nbsp;&lt;<a href="http://www.cnblogs.com/edisonchou/p/3943884.html">http://www.cnblogs.com/edisonchou/p/3943884.html</a><small>&gt;</small></small></div><small><small>&nbsp;</small></small></div></div><hr /><h2>MVC( 四）Model数字注解  JQuery AJAX 过滤器 (2015-12-04 14:44:12)</h2><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 688.688px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">一、校验 — 表单不是你想提想提就能提</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.1&nbsp;DataAnnotations（数据注解）</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　位于&nbsp;System.ComponentModel.DataAnnotations 命名空间中的特性指定对数据模型中的各个字段的验证。这些特性用于定义常见的验证模式，例如范围检查和必填字段。而&nbsp;<strong style="margin: 0px; padding: 0px;">DataAnnotations 特性使 MVC 能够提供客户端和服务器验证检查，使你无需进行额外的编码来控制数据的有效</strong>。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　通过为模型类增加数据描述的 DataAnnotations ，我们可以容易地为应用程序增加验证的功能。DataAnnotations 允许我们描述希望应用在模型属性上的验证规则，ASP.NET MVC 将会使用这些 DataAnnotations ，然后将适当的验证信息返回给用户。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　在DataAnnotations为我们所提供的众多内置验证特性中，用的最多的其中的四个是：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（0）[<strong style="margin: 0px; padding: 0px;">DisplayName</strong>]：显示名 – 定义表单字段的提示名称</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）[<strong style="margin: 0px; padding: 0px;">Required</strong>] ：必须 – 表示这个属性是必须提供内容的字段</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）[<strong style="margin: 0px; padding: 0px;">StringLength</strong>]：字符串长度 – 定义字符串类型的属性的最大长度</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）[<strong style="margin: 0px; padding: 0px;">Range</strong>]：范围 – 为数字类型的属性提供最大值和最小值</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）[<strong style="margin: 0px; padding: 0px;">RegularExpression</strong>]：正则表达式&nbsp;–&nbsp;指定动态数据中的数据字段值必须与指定的正则表达式匹配&nbsp;</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.2 使用DataAnnotations为Model进行校验</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　假设我们的Model中有一个UserInfo的实体，其定义如下：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UserInfo
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> Id { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">; }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> UserName { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">; }
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> Age { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">; }
    }</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　UserInfo的属性很简单，只有三个：Id，UserName和Age三个字段；现在我们可以为其增加验证特性，看看其为我们提供的强大的校验功能。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）非空验证</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　添加特性：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">[Display(Name=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">用户名</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Required(ErrorMessage </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*姓名必填</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> UserName { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">; }
　　　　
[Display(Name </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">年龄</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Required(ErrorMessage </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*年龄必填</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> Age { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span>; }</pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　验证效果：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/9356c2b8-edcf-4495-b66c-d61ac0af37ee.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）字符串长度验证</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　添加特性：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">[Display(Name=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">用户名</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Required(ErrorMessage </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*姓名必填</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[StringLength(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span>, ErrorMessage = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*长度必须小于5</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> UserName { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span>; }</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　验证效果：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/ce974164-f47c-4fa0-9cd2-9415622111f5.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）范围验证</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　添加特性：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">[Display(Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">年龄</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Required(ErrorMessage </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*年龄必填</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Range(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">18</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">120</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> Age { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span>; }</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　验证效果：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/b20e171e-7704-400f-9ae6-69cee5ac18ab.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）正则表达式验证</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　添加特性：验证用户输入的是否是数字，正则表达式匹配</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">[Display(Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">年龄</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Required(ErrorMessage </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*年龄必填</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[Range(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">18</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">120</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
[RegularExpression(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">^\d+$</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, ErrorMessage = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">*请输入合法数字</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> Age { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span>; }</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　验证效果：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/3cc6cf5d-89af-4dc2-bf96-bb92b559a2f6.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（5）浏览所生成的HTML代码</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/7160b000-e0bd-4f57-896f-803607fc780a.jpg" alt="" width="951" height="249" style="margin: 0px auto; padding: 0px; display: block; width: 710px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　从上图可以看出，我们在浏览器端的校验都是通过为html标签设置自定义属性来实现的，我们在Model中为其添加的各种校验特性，都会在客户端生成一个特定的属性，例如：data-val-length-max=“5”与data-val-length="*长度必须小于5"对应[StringLength(5, ErrorMessage = "*长度必须小于5")]。然后，通过jquery validate在客户端每次提交之前进行校验，如果校验匹配中有不符合规则的，则将message显示在一个特定的span标签（class="field-validation-valid"）内，并阻止此次表单提交操作。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.3 使用DataAnnotations的注意事项</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）首先，要确保需要进行校验的页面中引入了指定的几个js文件：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="@Url.Content("</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">~/Scripts/jquery.validate.min.js")" type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text/javascript"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;<br style="margin: 0px; padding: 0px;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="@Url.Content("</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">~/Scripts/jquery.validate.unobtrusive.min.js")" type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text/javascript"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　当然，jquery库的js文件也是必须的，而且在上面这两个js之前引入；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）在 Web.config 的appSettings中，已经默认支持了客户端验证（MVC3.0及更高版本中默认支持，MVC2.0则需要修改一下）：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">&lt;!-- 是否启用全局客户端校验 --&gt;
&lt;add key=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">ClientValidationEnabled</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> value=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> /&gt;
&lt;add key=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">UnobtrusiveJavaScriptEnabled</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> value=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> /&gt;</pre></div><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; widows: 1; background-image: url(&quot;&quot;); background-color: rgb(255, 255, 163); background-position: 9px 0px; background-repeat: no-repeat no-repeat;"><p style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">PS：</strong>Unobtrusive Javascript有三层含义：</p><p style="margin: 10px auto; padding: 0px;">一是在HTML代码中不会随意的插入Javsscript代码，只在标签中加一些额外的属性值，然后被引用的脚本文件识别和处理；</p><p style="margin: 10px auto; padding: 0px;">二是通过脚本文件所增加的功能是一种渐进式的增强，当客户端不支持或禁用了Javsscript时网页所提供的功能仍然能够实现，只是用户体验会降低；</p><p style="margin: 10px auto; padding: 0px;">三是能够兼容不同的浏览器。</p></blockquote><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）在Action中如果要对客户端是否通过了校验进行验证，可以通过以下代码实现：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">        [HttpPost]
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult Add(UserInfo userInfo)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (ModelState.IsValid)
            {
                 </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> To do fun</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">            }

            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> RedirectToAction(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　如果通过校验，则ModelState的IsValid属性（bool类型）会变为true，反之则为false。</p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 688.688px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">二、ASP.Net MVC下的两种AJAX方式</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">2.1 使用JQuery AJAX方式</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　首先，在ASP.Net MVC中使用此种方式跟普通的WebForm的开发方式是一致的，需要注意的是：Url地址不同-&gt;请求的是Controller下的Action，例如在WebForm中请求的url通常是/Ajax/UserHandler.ashx，而在MVC中请求的url通常为：/User/GetAll。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　例如，我们在一个View中添加一个按钮，用于使用AJAX获取一个服务器端的时间：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>JQuery Ajax方式<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnJQuery"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="button"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="获取服务器时间"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　在Home控制器中增加一个用于返回时间的Action：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult GetServerDate()
{</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Content(DateTime.Now.ToString());
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　在View中增加一段JQuery代码，为btnJQuery按钮绑定一个Click事件：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    $(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
            $(</span>"#btnJQuery").click(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> () {
                $.post(</span>"/Home/GetServerDate", {}, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> (data) {
                    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (data != <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) {
                        $(</span>"#spTime"<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">).html(data);
                    }
                });
            });
    });</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　这里通过JQuery AJAX发送一个异步的POST请求，获取服务器时间结果，并将其显示在span标签内：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/87a1c50d-1200-46bb-8163-9ad0b11deb7c.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　至此，一个使用JQuery Ajax的MVC页面就完成了。但是，这仅是一个最简单的AJAX示例，在实际开发中往往比较复杂一点。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　需要注意的是:</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）如果你在JQuery AJAX中使用的是get方式的提交，那么在在使用Json返回JsonResult时注意要将第二个参数设置允许Get提交方式：return Json("",<strong style="margin: 0px; padding: 0px;">JsonRequestBehavior.AllowGet</strong>)，否则你用get方式是无权执行要请求的Action方法的。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）在Ajax开发中要注意Ajax方法体内的参数设置正确，特别是参数名要和Action中的参数名保持一致；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）如果在Action中为其设置了[HttpPost]或[HttpGet]，那么提交方式要跟Action打的标签一致；</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">2.2 使用Microsoft AJAX方式</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　在ASP.Net MVC中除了可以使用JQuery AJAX外，Microsoft为我们提供了另一套实用且更简单的AJAX方案，我们姑且称其为：Microsoft AJAX方式。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）首先：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　需要将微软提供的js脚本引入到页面中：其实就是jquery.unobtrusive-ajax.js</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Scripts/jquery-1.7.1.min.js"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Scripts/jquery.unobtrusive-ajax.min.js"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">script</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　确保在Web.config中启用了Unobtrusive JavaScript</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">&lt;add key=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">UnobtrusiveJavaScriptEnabled</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> value=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> /&gt;</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）其次，使用Ajax.BeginForm方法构造一个form表单：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">       <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Microsoft Ajax方式<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">h1</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
        @using (Ajax.BeginForm("GetServerDate", "Home", new AjaxOptions()
        {
            HttpMethod = "POST",
            Confirm = "您确定要提交？",
            InsertionMode = InsertionMode.Replace,
            UpdateTargetId = "spResult",
            OnSuccess = "afterSuccess",
            LoadingElementId="loading"
        }))
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">table</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>用户名：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="txtUserName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="UserName"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>密   码：<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="txtPassword"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Password"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">align</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="center"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> colspan</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="btnAjax"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="submit"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="提 交"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">align</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="center"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> colspan</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="loading"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="display:none"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">img </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="vertical-align:middle"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Content/ico_loading2.gif"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">正在获取中，请稍候...
                        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">span </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="spResult"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">span</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">td</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">tr</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">table</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
        } </span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　这里需要注意的是：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　①Ajax.BeginForm没有提供闭合的方法，需要使用Using配合关闭；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　②AjaxOptions参数的设置：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　HttpMethod代表此次AJAX请求到底是POST方式还是GET方式？这里是POST方式；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　Confirm代表点击提交按钮后提出的确认对话框，并给出用户给定的提示语，这里是：您确定要提交？</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　InsertionMode代表请求获得后的数据是要替换还是追加，一般选择替换，即Replace；&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　UpdateTargetId代表需要替换的div标签的Id，这里是一个span标签，代表需要显示的信息都显示在这个span内；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　OnSuccess代表请求成功后所需要执行的回调方法，是一个js方法，可以自定义，这里是一个function afterSuccess()的方法；</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">function</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> afterSuccess(data) {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">alert("您已成功获取数据：" + data);</span>
        }</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　LoadingElementId="loading"是一个很有意思的属性，代表在ajax请求期间为了提供良好的用户体验，可以给出一个正在加载中的提示，而这个LoadingElementId则代表一个提示的div区域的Id。这里主要是指id为loading的这个div，其中有一张gif图片及一句话：正在获取中，请稍等...的提示。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="loading"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="display:none"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">img </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="vertical-align:middle"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> src</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="~/Content/ico_loading2.gif"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">正在获取中，请稍候...
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">div</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　为了显示加载提示的效果，我们人为地修改一下Action方法，使用Thread.Sleep(3000)来延迟一下请求返回时间</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult GetServerDate()
        {
            System.Threading.Thread.Sleep(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3000</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Content(DateTime.Now.ToString());
        }</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　好了，现在我们可以看一下效果如何：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c3f16e84-eef8-4f66-961a-96f1ff901907.gif" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 710px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　到此，我们的Microsoft AJAX就算完成了一个最简单的Demo了。那么，我们不禁想知道Microsoft AJAX是怎么做到的？跟校验一样，我们浏览一下生成的form表单就知道了：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/df452783-344f-4242-965a-528bb52e9894.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　原来我们在AjaxOptions中所设置的参数也被解析成了form的自定义属性，它们的对应关系如下：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/9a28568f-9c7b-4fd3-ac40-7a2129782c2a.png" alt="" width="598" height="346" style="margin: 0px auto; padding: 0px; display: block;"></p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 688.688px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">三、为AOP而生 — ASP.Net MVC默认的过滤器</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.1 过滤器初步</h2><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　大一点的项目总会有相关的AOP面向切面的组件，而MVC（特指：Asp.Net MVC，以下皆同）项目中Action在执行前或者执行后我们想做一些特殊的操作（比如身份验证，日志，异常，行为截取等），而不想让MVC开发人员去关心和写这部分重复的代码。那么，我们可以通过AOP截取实现，而在MVC项目中我们就可以直接使用它提供的Filter的特性帮我们解决，不用自己实现复杂的AOP了。</div><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; widows: 1; background-image: url(&quot;&quot;); background-color: rgb(255, 255, 163); background-position: 9px 0px; background-repeat: no-repeat no-repeat;"><div style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">AOP：</strong>Aspect Oriented Programming（AOP）是较为热门的一个话题。AOP，国内大致译作“面向切面编程”。针对业务处理过程中的切面进行提取，它所面对的是处理过程中的某个步骤或阶段，以获得逻辑过程中各部分之间低耦合性的隔离效果。</div><div style="margin: 0px; padding: 0px;">　　利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。主要的功能是：日志记录，性能统计，安全控制，事务处理，异常处理等等。</div></blockquote><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.2 微软提供的几种默认过滤器</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　微软默认为我们提供了四种类型的过滤器（Filter），如下图所示：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/216e1188-1771-4814-b3a8-fd1c0e4bd53b.png" alt="" width="663" height="475" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　这里，我们主要来看看ActionFilter（Action过滤器）和ExceptionFilter（异常过滤器）的使用：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）Action Filter</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　ActionFilterAttribute默认实现了IActionFilter和IResultFilter。而ActionFilterAttribute是一个Abstract的类型，所以不能直接使用，因为它不能实例化，所以我们想使用它必须继承一下它然后才能使用。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4319175c-81c6-46ac-bd34-7fb6217a7780.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　①因此，我们首先在Models中新建一个类，取名为：MyActionFilterAttribute（以Attribute结尾比较符合编码规范），并使其继承自ActionFilterAttribute，然后重写基类所提供的虚方法：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> MyActionFilterAttribute : ActionFilterAttribute
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> Name { <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">get</span>; <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">set</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">; }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> Action 执行之前先执行此方法
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="filterContext"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">过滤器上下文</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> OnActionExecuting(ActionExecutingContext filterContext)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.OnActionExecuting(filterContext);
            HttpContext.Current.Response.Write(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;br /&gt;OnActionExecuting ：</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> +<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Name);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> Action执行之后
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="filterContext"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">过滤器上下文</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> OnActionExecuted(ActionExecutedContext filterContext)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.OnActionExecuted(filterContext);</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
            HttpContext.Current.Response.Write(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;br /&gt;OnActionExecuted ：</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> +<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Name);
        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> ActionResult执行之前先执行此方法
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="filterContext"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">过滤器上下文</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> OnResultExecuting(ResultExecutingContext filterContext)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.OnResultExecuting(filterContext);
            HttpContext.Current.Response.Write(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;br /&gt;OnResultExecuting ：</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> +<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Name);

        }

        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> ActionResult执行之后先执行此方法
        </span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span> <span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param name="filterContext"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">过滤器上下文</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> OnResultExecuted(ResultExecutedContext filterContext)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.OnResultExecuted(filterContext);
            HttpContext.Current.Response.Write(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;br /&gt;OnResultExecuted ：</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> +<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Name);
        }
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　这里我们重写了四个虚方法，他们各自代表了在Action执行之前和之后需要执行的业务逻辑，以及在Result执行之前和之后需要执行的业务逻辑。这里的Result主要是指我们在Action中进行return 语句返回结果时（例如：return Content("Hello Filter!");），之前和之后要执行的逻辑处理。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　比如：我们想要在每个Action执行之前进行用户是否登录的校验，可以在OnActionExecuting中判断用户Session是否存在，如果存在则继续执行Action的具体业务代码，如果不存在则重定向页面到登陆页，后边的Action业务代码不再执行。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　②现在有了自定义的过滤器，我们怎么将其应用到Action中呢？这里有三种方式：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　一是给某个控制器的某个Action指定此Filter：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">        [MyActionFilter(Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Filter Action</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult Filter()
        {
            Response.Write(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;p&gt;Action正在努力执行中...&lt;/p&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> Content(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;p&gt;OK:视图成功被渲染&lt;/p&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　二是给某个控制器的所有Action指定此Filter：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    [MyActionFilter(Name=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home Filter</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)]
    </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HomeController : Controller
    {
    }</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　但是，要注意的是：如果既给Controller指定了Filter，又给该Controller中的某个Action指定了Filter，那么具体的这个Action以离其定义最近的Filter为准，也就是一个<strong style="margin: 0px; padding: 0px;">优先级的顺序</strong>问题：Action的Filter优先级高于Controller的Filter。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　三是给此项目中的所有控制器即全局指定此Filter：在App_Start中更改FilterConfig类，<strong style="margin: 0px; padding: 0px;">此种方式优先级最低</strong>。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RegisterGlobalFilters(GlobalFilterCollection filters)
        {
            filters.Add(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HandleErrorAttribute());
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 注册自定义Action过滤器：优先级最低，但是可以作用到所有的控制器和Action</span>
            filters.Add(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> MyActionFilterAttribute() { Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Global Controller</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> });
        }</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　③现在我们来看看具体的效果：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/91300fc3-2499-4932-84de-0508c1f089f2.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　可以看到，我们的/Home/Filter这个Action中只有两句代码，一句Response.Write，另一句是return Content();在Response.Write之前执行了OnActionExecuting的过滤器方法，之后则执行了OnActionExecuted的过滤器方法；我们刚刚说了，在Action中的return语句代表了Result，那么在Result之前执行了OnResultExecuting过滤器方法，之后则执行了OnResultExecuted过滤器方法。这里仅仅是为了展示，在实际开发中是需要写一些具体的业务逻辑处理的，例如：判断用户的登录状态，记录用户的操作日志等等。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）Exception Filter</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　①同样，在Models中新建一个类，取名为：MyExceptionFilterAttribute，并使其继承自HandleErrorAttribute。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> MyExceptionFilterAttribute : HandleErrorAttribute
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> OnException(ExceptionContext filterContext)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.OnException(filterContext);

            HttpContext.Current.Response.Redirect(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">/Home/Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　这里，重写基类的OnException方法，这里仅仅为了演示效果，没有对异常进行处理。在实际开发中，需要获取异常对象，并将其记录至日志中。例如，下面一段代码：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">     <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">override</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> OnException(ExceptionContext filterContext)
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.OnException(filterContext);
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">获取系统异常消息记录</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> strException =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> filterContext.Exception.Message;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (!<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">.IsNullOrEmpty(strException))
            {
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">使用Log4Net记录异常信息</span>
                Exception exception =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> filterContext.Exception;
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span> (exception != <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
                {
                    LogHelper.WriteErrorLog(strException, exception);
                }
                </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
                {
                    LogHelper.WriteErrorLog(strException);
                }
            }
            </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">filterContext.HttpContext.Response.Redirect("~/GlobalErrorPage.html");</span>
        }</pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　②有了异常过滤器，我们怎么来应用到项目中呢？答案也在App_Start中，还是在FilterConfig类中，新添一句代码进行注册：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">    <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> FilterConfig
    {
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RegisterGlobalFilters(GlobalFilterCollection filters)
        {
            filters.Add(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HandleErrorAttribute());
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 注册自定义Action过滤器：优先级最低，但是可以作用到所有的控制器和Action</span>
            filters.Add(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> MyActionFilterAttribute() { Name = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Global Controller</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> });
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 注册自定义Exception过滤器</span>
            filters.Add(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> MyExceptionFilterAttribute());
        }
    }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　③为了测试，我们新增一个Action，使其能够出现一个异常：DividedByZero</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult Exception()
        {
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> a = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">10</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> b = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> c = a /<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> b;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> Content(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Exception is happened.</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
        }</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4a553404-b6b1-4b33-b7a3-b69916fe9dd5.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);">　　④当我们测试这个Action时，会发现系统执行了自定义的异常过滤器，将我们的这个请求改为重定向到Index这个Action了。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.92px; line-height: 20.88px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/9ec1de3b-8aa8-4bc6-8671-a92538fb4058.gif" alt="" style="margin: 0px auto; padding: 0px; display: block;"><br><div style="color:gray"><small>来源：&nbsp;&lt;<a href="http://www.cnblogs.com/edisonchou/p/3932640.html">http://www.cnblogs.com/edisonchou/p/3932640.html</a><small>&gt;</small></small></div><small><small>&nbsp;</small></small></p><hr /><h2>MVC（三）[47/100][7/15][52/135][C#](7/30) (2015-07-27 15:17:22)</h2><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 1.5em;">一、天降神器“剃须刀” — Razor视图引擎</span><br></h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/b4968f30-3fa5-459d-a426-70efec086bf0.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></h2><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.1 千呼万唤始出来的MVC3.0</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在MVC3.0版本的时候，微软终于引入了第二种模板引擎：<strong style="margin: 0px; padding: 0px;">Razor</strong>。在这之前，我们一直在使用WebForm时代沿留下来的ASPX引擎或者第三方的NVelocity模板引擎。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　Razor在减少代码冗余、增强代码可读性和Visual Studio智能感知方面，都有着突出的优势。Razor一经推出就深受广大ASP.Net开发者的喜爱。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.2 Razor的语法</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）Razor文件类型：Razor支持两种文件类型，分别是<strong style="margin: 0px; padding: 0px;">.cshtml</strong>&nbsp;和.vbhtml，其中.cshtml 的服务器代码使用了c#的语法，.vbhtml 的服务器代码使用了vb.net的语法。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）@字符：@是Razor中的一个重要符号，它被定义为Razor服务器代码块的开始符号。例如，我们可以在View中直接写C#代码输出日期</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;">1</span> &lt;p&gt;@DateTime.Now.ToString()&lt;/p&gt;</pre></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.3 Razor语句块</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）在Razor视图引擎中，我们可以使用@{code}来定义一段<strong style="margin: 0px; padding: 0px;">代码块</strong>。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）Razor支持代码混写：在代码块中插入HTML、在HTML中插入Razor语句都是可以的。例如，我们可以使用@来作for循环，还可以进行if判断</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">@for (<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> i = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span>; i &lt; <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">10</span>; i++<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
{
     </span>&lt;p&gt;@i&lt;/p&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
}

@if (ViewData.Count </span>&gt; <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
{
     </span>&lt;p&gt;ViewData有数据&lt;/p&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
     ViewData[</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Key</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>] = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Edison Chou</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
}
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
{
     </span>&lt;p&gt;ViewData暂无数据&lt;/p&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.4 Razor页面输出特殊字符串</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　与在ASPX试图引擎中类似，如果要输出特殊字符串，还是借助HtmlHelper类提供的扩展方法来实现。</p><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）输出原生的字符串：@Html.Raw(html)</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">@Html.Raw(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;h1&gt;Razor&lt;/h1&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>)</pre></div></div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　PS：默认的@会解析掉html代码</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）还可以通过使用<strong style="margin: 0px; padding: 0px;">HtmlString</strong>类型和<strong style="margin: 0px; padding: 0px;">MvcHtmlString</strong>类型字符串输出原生包含HTML的字符串</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">@{
            IHtmlString html </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> HtmlString(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;span style='color:red'&gt;哈哈，我是Razor剃须刀！&lt;/span&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            Response.Write(html);
}</span></pre></div></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.5 Razor中的注释</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　Razor服务器端注释为：@*&nbsp; 注释内容&nbsp; *@</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">@*&lt;p&gt;你好，Razor引擎！&lt;/p&gt;*@</pre></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.6 Razor中转换数据类型</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在Razor中提供了很多方便我们进行数据类型转换的方法以及类型判断的方法，如下图所示：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/038fde3b-3fb8-432a-9767-fc9c291d1142.png" alt="" width="714" height="394" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　例如，我们可以在View中对一个字符串进行判断和转换：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">@{
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> test = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Edison Chou</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
        </span>&lt;p&gt;@test.IsInt()&lt;/p&gt;
        &lt;p&gt;@test.AsInt()&lt;/p&gt;<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
}</span></pre></div><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">二、Controller深入详解</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">2.1 控制器的三个职责　</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）处理跟用户的交互<br style="margin: 0px; padding: 0px;">　　（2）处理业务逻辑的调用<br style="margin: 0px; padding: 0px;">　　（3）指定具体的视图显示数据，并且把数据传递给视图</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">2.2 控制器的三个约定</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/7993500e-8705-4ca0-b3fe-6aa2b695cdfb.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）必须是非静态类<br style="margin: 0px; padding: 0px;">　　（2）必须实现IController接口<br style="margin: 0px; padding: 0px;">　　（3）必须是以Controller结尾命名</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">2.3 无所不能的Action</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　首先，在一个Controller中可以包含多个Action. 每一个Action都是一个方法, 返回一个ActionResult实例。那么，这个ActionResult是什么东东呢？</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/3c406e14-eb54-432f-bf41-5d8db6000928.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　由微软给出的注释可以知道，ActionResult是一个操作方法的结果，并且是一个抽象类，那么，也就代表了可以有多重结果的实现。这样就解释了，我们在Action中可以不仅可以返回ViewResult还可以返回JsonResult的原因。通过下表，我们可以清晰地看到，ActionResult的各种派生类的详情：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/44684e67-dac2-4e5f-a703-a070547b99d8.png" alt="" width="923" height="468" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　从表中可以看出，我们所常用的各种XXXXResult都不约而同地继承了ActionResult这个基类，或者是其父类（例如：ViewResultBase）继承了ActionResult这个基类。因此，我们既可以在Action中返回视图，还可以返回文件流、重定向、空内容等结果。特别是，以前我们在WebForm时代常常与浏览器交互采用JSON格式的数据，需要使用JavaScriptSerializer这个类进行Serialize后返回。但是，在MVC的Action中，微软已经帮我们封装了好了JsonResult，因此，我们可以高兴地感慨：返回Json，So Easy！</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">2.4 ActionResult用法</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　这里只介绍几个最常用的Result用法：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）<strong style="margin: 0px; padding: 0px;">EmptyResult</strong>：当用户有误操作或者是图片防盗链的时候，这个EmptyResult就可以派上用场，返回它可以让用户啥也看不到内容，通过访问浏览器端的源代码，发现是一个空内容；</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult Empty()
{
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> EmptyResult();
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/618a45bb-d674-4110-96cb-9562e0cf64e3.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）<strong style="margin: 0px; padding: 0px;">Content</strong>：通过Content可以向浏览器返回一段字符串类型的文本结果，就相当于Response.Write("xxxx");一样的效果；</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult ContentResultDemo()
{
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span> contentString = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Hello Edison Chou!</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Content(contentString);
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/d2666ac9-6fe4-49f3-ab83-9cc359babd51.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）<strong style="margin: 0px; padding: 0px;">File</strong>：通过File可以向浏览器返回一段文件流，主要用于输出一些图片或文件提供下载等；</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult FileStreamResultDemo()
{
      FileStream fs </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> FileStream(Server.MapPath(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">/Content/programmer.jpg</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">),
      FileMode.Open, FileAccess.Read);
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> File(fs, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">image/gif</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/b2aaba76-d42c-4d66-ae79-574ac7a5906a.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）<strong style="margin: 0px; padding: 0px;">HttpUnauthorizedResult</strong>：通过HttpUnauthorizedResult可以向浏览器输出指定的状态码和状态提示，如果不指定状态码，则默认为401无权访问；</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult HttpUnauthorizedResultDemo()
{
     </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> HttpUnauthorizedResult();
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（5）<strong style="margin: 0px; padding: 0px;">Redirect</strong>与<strong style="margin: 0px; padding: 0px;">RedirectToAction</strong>：重定向与重定向到指定Action，我一般使用后者，主要是向浏览器发送HTTP 302的重定向响应；</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult RedirectResultDemo()
{
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> Redirect(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">http://localhost:23531/Home/ContentResultDemo</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
}

</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult RedirectToRouteResultDemo()
{
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> RedirectToAction(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">FileStreamResultDemo</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/64a3755b-ab01-4626-af56-c1fde92d010a.png" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（6）<strong style="margin: 0px; padding: 0px;">Json</strong>：通过Json可以轻松地将我们所需要返回的数据封装成为Json格式，进行Ajax开发可以变得so easy！</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult JsonResultDemo()
{
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">var</span> tempObj = <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { Controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">HomeController</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">JsonResultDemo</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> };
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Json(tempObj, JsonRequestBehavior.AllowGet);
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/11c29efe-d5c1-4780-8216-da8d246f9240.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（7）<strong style="margin: 0px; padding: 0px;">JavaScript</strong>：可以通过JavaScriptResult向浏览器单独输出一段JS代码，不过由于主流浏览器都对此进行了安全检查，因此你的JS代码也许无法正常执行，反而是会以字符串的形式显示在页面中；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/1b78e7ef-5043-4416-8fc0-5196bc7dc9fe.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">三、Routing深入详解</h1><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　首先，ASP.Net&nbsp;MVC项目是<strong style="margin: 0px; padding: 0px;">URL请求驱动</strong>的，为什么访问localhost/home/index会传递给HomeController中名为index的action（即HomeController类中的index方法）？下面，我们一一来看下。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.1 Routing的作用</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　假如有一个请求：localhost/home/index，那么路由需要做的事情如下：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）确定Controller</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp; 　 （2）确定Action</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）确定其他参数</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）根据识别出来的数据，将请求传递给Controller和Action</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.2 神奇的路由规则</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　根据路由的作用，我们可以知道它是一个“<strong style="margin: 0px; padding: 0px;">指路人</strong>”，指示我们的请求应该到达哪个Controller中的Action。那么，它是根据什么规则来指路的呢？我们可以在<strong style="margin: 0px; padding: 0px;">App_Start</strong>文件夹中的<strong style="margin: 0px; padding: 0px;">RouteConfig</strong>类中找到这个神奇的规则是如何制定的。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RegisterRoutes(RouteCollection routes)
{
      routes.IgnoreRoute(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{resource}.axd/{*pathInfo}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
      routes.MapRoute(
          name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
          url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}/{action}/{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
          defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
      );
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）首先，第一句routes.IgnoreRoute代表对所有axd的资源访问请求进行忽略，直接进行URL访问；这里可以阅读参考资料第（5）篇，了解其详细含义，这里就不再赘述；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）然后，第二句开始使用MapRoute方法对整个网站定义了一个路由识别规则，这个规则的name是Default，url规则为：{controller}/{action}/{id}。例如我们要访问的URL为：localhost/home/index，在这个URL中，localhost是域名, 所以首先要去掉域名部分: home/index，也是就对应了上面代码中的这种URL结构: {controller}/{action}/{id}。正是因为我们建立了这种URL结构的识别规则,，所以能够识别出 Controller是home, action是index, id没有则为默认值""。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）在MapRoute方法中为所有URL请求定义了一个defaults默认值：controller为空则指向Home，action为空则指向Index，而id则是可选的，非必须要的。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　这里，对于路由规则需要注意的有两点：</p><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; widows: 1; background-image: url(&quot;&quot;); background-color: rgb(255, 255, 163); background-position: 9px 0px; background-repeat: no-repeat no-repeat;"><p style="margin: 10px auto; padding: 0px;">　　（1）可以有<strong style="margin: 0px; padding: 0px;">多条</strong>路由规则；</p><p style="margin: 10px auto; padding: 0px;">　　（2）路由规则是<strong style="margin: 0px; padding: 0px;">有顺序的</strong>（前面的规则被匹配后，后面的规则就不再匹配）；</p></blockquote><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　我们可以在RegisterRoutes这个方法中添加一条自定义路由规则，并取名为Default2，具体规则代码如下：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default2</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}-{action}-{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
);</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　这下如果我们以：localhost/Home-Index来访问时，我们原本想要的是根据Default2这个路由规则访问Home控制器下的Index这个Action，但却被告知以404提示：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/8aecde63-799a-4a22-b049-6237662c9862.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　这是为什么呢？我们再来看看RegisterRoutes这个方法：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RegisterRoutes(RouteCollection routes)
{
            routes.IgnoreRoute(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{resource}.axd/{*pathInfo}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);

            routes.MapRoute(
                name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}/{action}/{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
            );

            routes.MapRoute(
                name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default2</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}-{action}-{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
            );
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　我们刚刚提到，路由规则是<strong style="margin: 0px; padding: 0px;">有顺序的</strong>（前面的规则被匹配后，后面的规则就不再匹配）。那么，可以推断，由于Default2在Default之后，有可能我们的请求localhost/Home-Index已经被Default这个规则所匹配了，因此Default2规则根本没有出场Show一下。那么，在Default规则中，它将Home-Index作为Controller的名字匹配，去访问Home-Index这个Controller，而Action使用默认的Index，那么它所请求的应该是这个URL：/localhost/Home-Index/Index。由于网站中，并没有Home-Index这个Controller，所以也就出现了刚刚那个404页面。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.3 MapRoute方法介绍</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）MapRoute方法提供了以下几种方式的<strong style="margin: 0px; padding: 0px;">重载</strong>：</p><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; widows: 1; background-image: url(&quot;&quot;); background-color: rgb(255, 255, 163); background-position: 9px 0px; background-repeat: no-repeat no-repeat;"><div style="margin: 0px; padding: 0px;">　　MapRoute( string name, string url);</div><div style="margin: 0px; padding: 0px;">　　MapRoute( string name, string url, object defaults);</div><div style="margin: 0px; padding: 0px;">　　MapRoute( string name, string url, string[] namespaces);</div><div style="margin: 0px; padding: 0px;">　　MapRoute( string name, string url, object defaults, object constraints); MapRoute( string name, string url, object defaults, string[] namespaces);</div><div style="margin: 0px; padding: 0px;">　　MapRoute( string name, string url, object defaults, object constraints, string[] namespaces);</div></blockquote><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　我们在上面所使用的便是第二种重载。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）MapRoute方法参数详细介绍：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　①<strong style="margin: 0px; padding: 0px;">name</strong>参数：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　规则名称, 可以随意起名。不可以重名，否则会发生错误: “路由集合中已经存在名为“Default”的路由。路由名必须是唯一的”。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　②<strong style="margin: 0px; padding: 0px;">url</strong>参数：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　url获取数据的规则，这里不是正则表达式，将要识别的参数括起来即可，比如: {controller}/{action}</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　最少只需要传递name和url参数就可以建立一条Routing(路由)规则，比如实例中的规则完全可以改为:</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　routes.MapRoute( "Default", "{controller}/{action}");</p><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　③<strong style="margin: 0px; padding: 0px;">defaults</strong>参数:</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　url参数的默认值：如果一个url只有controller: localhost/home/，而且我们只建立了一条url获取数据规则: {controller}/{action}，那么这时就会为action参数设置defaults参数中规定的默认值。由于defaults参数是Object类型，所以可以传递一个匿名类型来初始化默认值：new { controller = "Home", action = "Index" }。</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在ASP.Net MVC网站默认实例中使用的是三个参数的MapRoute方法:</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}/{action}/{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
);</span></pre></div></div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　④<strong style="margin: 0px; padding: 0px;">constraints</strong>参数:&nbsp;</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　用来限定每个参数的规则或Http请求的类型。constraints属性是一个RouteValueDictionary对象，也就是一个字典表，但是这个字典表的值可以有两种类型：</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　一是：用于定义<strong style="margin: 0px; padding: 0px;">正则表达式</strong>的字符串（正则表达式不区分大小写）。通过使用正则表达式可以规定参数格式，比如controller参数只能为4位数字：new { controller = @"\d{4}"}</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default2</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}-{action}-{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional },
     constraints: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">\d{4}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }
);</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div></div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　二是：一个用于实现&nbsp;<strong style="margin: 0px; padding: 0px;">IRouteConstraint</strong>&nbsp;接口且包含Match方法的对象。</div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　例如：通过第IRouteConstraint 接口可以限制请求的类型（是GET还是POST）。因为System.Web.Routing中提供了HttpMethodConstraint类,，这个类实现了IRouteConstraint 接口。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/236c171d-b52f-4508-ad46-4b7753061a04.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　我们可以通过为RouteValueDictionary字典对象添加键为"httpMethod", 值为一个HttpMethodConstraint对象来为路由规则添加HTTP 谓词的限制，比如限制一条路由规则只能处理GET请求：httpMethod = new HttpMethodConstraint( "GET" )</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default2</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}-{action}-{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional },
     constraints: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> { 
           controller </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">\d{4}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, 
           httpMethod </span>= <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> HttpMethodConstraint(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">GET</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) }
);</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.4 URL路由实例详解</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　一般来说，对于一个网站为了SEO友好，网址的URL层次最好不要超过三层：<strong style="margin: 0px; padding: 0px;">localhost/{频道}/{具体网页}</strong>，其中域名第一层, 频道第二层, 那么最后的网页就只剩下最后一层了。如果使用默认实例中的“{controller}/{action}/{其他参数}"的形式则会影响网站的SEO。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　假设我们有一个综合型服务网站，其中有租房频道、酒店频道、KTV频道、电影院频道等等。我们应该怎样来设计URL路由规则呢？</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）首先，我们知道：可以有<strong style="margin: 0px; padding: 0px;">多条</strong>路由规则，但是路由规则是<strong style="margin: 0px; padding: 0px;">有顺序的</strong>（前面的规则被匹配后，后面的规则就不再匹配）；所以，我们可以定义多条路由规则，粒度细的模块（比如：具体的酒店列表页面）路由规则放最前面，粒度粗的模块（比如：门户网站的首页）路由规则放在最后面。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）其次，根据模块粒度划分层次结构，以粒度粗细排序为：网站首页-&gt;频道首页-&gt;具体内容；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）最后，我们可以看一个具体的URL路由实例来分析一下：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 酒店列表页匹配</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">酒店列表页</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">hotels/{action}-{city}-{price}-{star}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Hotel</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">list</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, city = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">beijing</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">-1,-1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, star = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">-1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> },
     </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { city = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">[a-zA-Z]*</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, price = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">@"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">(\d)+\,(\d)+</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, star = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">[-1-5]</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }
);

</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 酒店频道所有匹配 </span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">酒店首页</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">hotels/{*iiii}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Hotel</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">default</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, hotelid = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">""</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }
);
            
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">//</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"> 网站首页默认匹配</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">routes.MapRoute(
     </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">网站首页</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{*values}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
     </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }
);</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）我们可以分析一下上面的路由规则所实现的功能：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　 ①访问 www.mywebsite.com/hotels/list-chengdu-100,200-3 会访问酒店频道的列表页，并传入查询参数（price为100,200，star为3）；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　&nbsp;②访问 www.mywebsite.com/hotels 下面的任何其他页面地址，都会跳转到酒店首页；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　&nbsp;③访问 www.mywebsite.com&nbsp;下面的任何地址，如果未匹配上面2条，则跳转到首页；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（5）根据上面的规则和实现的功能，我们可以做一个简单的总结如下：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　&nbsp;①Routing规则有顺序（按照添加是的顺序），<strong style="margin: 0px; padding: 0px;">如果一个url匹配了多个路由规则，则按照第一个匹配的路由规则执行</strong>。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　&nbsp;②由于上面的规则，要将具体频道的具体页面放在最上方，将频道首页 和 网站首页 放在最下方。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　&nbsp;③{*values}表示后面可以使用任意的格式。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.5 URL路由调试</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在ASP.Net MVC中，默认是不允许对路由规则进行调试的。但是，我们可以通过使用RouteDebug来辅助进行调试。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）首先，我们下载<a href="http://pan.baidu.com/s/1bnjHsvl" target="_blank" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none;">RouteDebug.dll</a>到我们的项目中，并添加对其的引用。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）其次，在Global.asax中的Application_Start方法中添加一句代码：</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　<em style="margin: 0px; padding: 0px;">RouteDeug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);&nbsp;</em></p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">protected</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Application_Start()
{
     AreaRegistration.RegisterAllAreas();

     WebApiConfig.Register(GlobalConfiguration.Configuration);
     FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);
     RouteConfig.RegisterRoutes(RouteTable.Routes);
     BundleConfig.RegisterBundles(BundleTable.Bundles);</span></pre><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">     RouteDeug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);</pre><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">}</pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/aa520baf-ec9a-4642-9c41-99ceb0dc2641.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）最后，F5调试运行，我们请求localhost/Home-Index这个URL时，可以清楚地发现，系统将Home-Index匹配了第一条默认路由规则，也就是将Home-Index作为Controller的名称进行匹配，这也就证明了为什么我们输入这个请求不会匹配第二条Default2的路由规则出现刚刚那个404页面了。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/bc849a96-1ed8-429f-b7a5-1c8df8c5b249.jpg" alt="" width="943" height="530" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">参考资料</h1><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）马伦，《ASP.Net MVC视频教程》，http://bbs.itcast.cn/thread-26722-1-1.html</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）葡萄城控件技术团队，《ASP.NET MVC 5—控制器》，http://www.cnblogs.com/powertoolsteam/p/aspnet-mvc5-controller.html</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）李亮，《ASP.Net MVC3 Controller》，http://www.cnblogs.com/wlitsoft/archive/2012/05/28/2520799.html</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）顾里江，《ActionResult解析》，http://blog.csdn.net/gulijiang2008/article/details/7642213</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（5）紫鱼Tiler，《MVC路由中routes.IgnoreRoute》，http://www.cnblogs.com/flyfish2012/archive/2013/02/01/2889184.html</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（6）Capricornus，《路由匹配检测组件RouteDebug.dll》，http://www.cnblogs.com/Capricornus/archive/2010/08/26/1808907.html</p><br><div style="color:gray"><small>来源：&nbsp;&lt;<a href="http://www.cnblogs.com/edisonchou/p/3923475.html">http://www.cnblogs.com/edisonchou/p/3923475.html</a><small>&gt;</small></small></div><small><small>&nbsp;</small></small><hr /><h2>MVC（二）[46/100][7/15][51/135][C#](6/30) (2015-07-27 15:17:18)</h2><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">一、一个功能强大的页面开发辅助类—HtmlHelper初步了解</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.1 有失必有得</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/15d7a3ce-b925-41f4-962a-fdfc27bdd151.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在ASP.Net MVC中微软并没有提供类似服务器端控件那种开发方式，毕竟微软的MVC就是<strong style="margin: 0px; padding: 0px;">传统的请求处理响应的回归</strong>。所以抛弃之前的那种事件响应的模型，抛弃服务器端控件也理所当然。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　但是，<strong style="margin: 0px; padding: 0px;">如果手写Html标签效率又比较低，可重用度比较低</strong>。这时，我们该怎样来提高效率呢？首先，经过上篇我们知道可以通过ViewData传递数据，于是我们可以写出以下的Html代码：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="UserName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="&lt;%: ViewData["</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">UserName"] %</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>" /&gt;</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　虽然以上代码可以解决问题，但是效率还是比较低，特别是在列表集合项较多的时候，工作量会比较大。那么，还有木有一种更好的方式呢？别急，微软已经为我们想好了策略。微软为开发人员快速开发前台页面提供了<strong style="margin: 0px; padding: 0px;">丰富的HtmlHelper的辅助类</strong>，辅助我们快速开发前台页面，也提供了可扩展的接口，<strong style="margin: 0px; padding: 0px;">前台页面的标签可以可以做到高度可重用</strong>。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.2 HtmlHelper初窥</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　我们可以通过在页面中通过<strong style="margin: 0px; padding: 0px;">Html.XXX</strong>来实现快速的Html标签编辑，并且可以方便地进行数据绑定。</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">&lt;%</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">: Html.Raw(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;p&gt;Hello,I am HtmlHelper!&lt;/p&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) </span><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">%&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　那么，为什么可以在页面中调用Html.XXX方法呢？通过ILSpy反编译ViewPage页，我们可以看到原来在ViewPage下有一个HtmlHelper类型的属性-Html。（这下终于知道，为什么可以在页面中使用Html.xxxx()了）</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/98585e1e-2196-4c09-b52e-1b8d3d5dec69.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　那么这个HtmlHelper类又是一个什么类型的大神呢？继续反编译查看，在System.Web.Mvc命名空间下的HtmlHelper类型如下图所示，经过MSDN大神的讲解，HtmlHelper支持在视图中呈现 HTML 控件。那我们看看在此类中有木有传说中的TextBox、CheckBox的方法呢？经查看，木有。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/342530ee-5735-4671-8d36-812ea4492cf6.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　那么，我们为什么可以在页面中使用Html.TextBox()方法呢？这里就涉及到一个叫做“扩展方法”的东东了，<span id="mt7" class="sentence" data-guid="9048bb03957fbf737a73d67d8c75cb60" data-source="" style="margin: 0px; padding: 0px;">HtmlHelper 类的扩展方法在 System.Web.Mvc.<span class="unresolvedLink" style="margin: 0px; padding: 0px;">Html 命名空间中。&nbsp;<span id="mt81" class="sentence" data-guid="f86c359a4619944b2c0466803887c138" data-source="" style="margin: 0px; padding: 0px;">这些扩展添加了用于创建窗体、呈现 HTML 控件、呈现分部视图、执行输入验证等功能的帮助器方法。那么，有关如何自定义扩展方法请参阅本文第三部分，这里先卖个关子，暂不介绍。</span></span></span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence" data-guid="9048bb03957fbf737a73d67d8c75cb60" data-source="" style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/18e89a17-7cb5-4d13-a57e-0a40d4fbc463.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></span></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.3 为什么使用HtmlHelper？</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence" data-guid="9048bb03957fbf737a73d67d8c75cb60" data-source="" style="margin: 0px; padding: 0px;">&nbsp;　　思考这样一个场景：我们的项目第一个版本中的路由规则是这样的{controller}/{action}/{id}，于是我们项目中所有的&lt;a&gt;标签所指向的都是以刚刚的规则命名的href（例如：&lt;a href='Home/User/1'&gt;&lt;/a&gt;）。但是在第二版中，我们的路由规则也会变成了{controller}-{action}-{id}，那么我们刚刚为超链接所设置的href便都无法正常访问了。这时，我们需要进行替换，单个替换或批量替换（例如改为：&lt;a href='Home-User-1'&gt;&lt;/a&gt;），虽然也可以解决问题，但是无疑增加了工作量，效率很低。</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence" data-guid="9048bb03957fbf737a73d67d8c75cb60" data-source="" style="margin: 0px; padding: 0px;">　　那么，怎样来屏蔽这种变化所带来的不便呢？这里，通过使用HtmlHelper为我们提供的ActionLink标签，便可以解决这个问题。因为HtmlHelper是从服务器端自动帮你生成a标签，因此所生成的href会遵循目前的路由规则，也就帮我们屏蔽了变化，提高了工作效率。</span></p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">二、没有服务器控件也能干大事—HtmlHelper重要方法介绍</h1><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　<strong style="margin: 0px; padding: 0px;">PS：这里的实例均没有加&lt;% %&gt;或@符号，要运行请自行加上。</strong></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）ActionLink与RouteLink</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/509db0c1-0a4b-4cc6-8b66-1637c3d2b382.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">Html.ActionLink(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
带有QueryString的写法
Html.ActionLink(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { page=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span> },<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
Html.ActionLink(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { page=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> })
有其它Html属性的写法
Html.ActionLink(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { id=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">link1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> })
Html.ActionLink(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>,<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { id=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">link1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> })
QueryString与Html属性同时存在
Html.ActionLink(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { page = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span> }, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">link1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> })
Html.ActionLink(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">这是一个连接</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> , <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { page = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span> }, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { id = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">link1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> })</pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/509db0c1-0a4b-4cc6-8b66-1637c3d2b382.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的结果为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/509db0c1-0a4b-4cc6-8b66-1637c3d2b382.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
带有QueryString的写法
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/?page=1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/?page=1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
有其它Html属性的写法
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/?Length=4"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="link1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="link1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
QueryString与Html属性同时存在
</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/?page=1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="link1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">href</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="/?page=1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="link1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>这是一个连接<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">a</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/509db0c1-0a4b-4cc6-8b66-1637c3d2b382.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　RouteLink在用法几乎与ActionLink一致，这里就不再介绍，详情请参与MSDN；</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）TextBox与TextArea</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　①TextBox</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">Html.TextBox(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) 
Html.TextBox(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input2</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>,Model.CategoryName,<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span>{ @style = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">width:300px;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }) 
Html.TextBox(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input3</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, ViewData[<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Name</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>],<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span>{ @style = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">width:300px;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> }) 
Html.TextBoxFor(a </span>=&gt; a.CategoryName, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { @style = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">width:300px;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> })</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的结果为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">=""</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input2"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input2"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width:300px;"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Beverages"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input3"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input3"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width:300px;"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">=""</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="CategoryName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="CategoryName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> style</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="width:300px;"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="text"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Electronic"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　②TextArea</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">Html.TextArea(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input5</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, Model.CategoryName, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">9</span>,<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
Html.TextAreaFor(a </span>=&gt; a.CategoryName, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3</span>, <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">3</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">null</span>)</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的结果为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">textarea </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">cols</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="9"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input5"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="input5"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> rows</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="3"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Electronic<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">textarea</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">textarea </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">cols</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="3"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="CategoryName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="CategoryName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> rows</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="3"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Electronic<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">textarea</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　这里可以看到，我们可以使用强类型来生成Html标签，例如：Html.TextBoxFor(a =&gt; a.CategoryName, new { @style = "width:300px;" })，这里的CategoryName就是某个类型的属性。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（3）CheckBox</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">Html.CheckBox(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">chk1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>,<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) 
Html.CheckBox(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">chk1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { @class=<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">checkBox</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">}) 
Html.CheckBoxFor(a </span>=&gt;a.IsVaild, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { @class = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">checkBox</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span> })</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;　　其生成的结果为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">checked</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checked"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="chk1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="chk1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checkbox"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="true"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="chk1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="hidden"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="false"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checkBox"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="chk1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="chk1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checkbox"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="true"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="chk1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="hidden"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="false"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">checked</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checked"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checkBox"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="IsVaild"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="IsVaild"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checkbox"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="true"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="IsVaild"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="hidden"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="false"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（4）DropDownList</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">Html.DropDownList("ddl1", (SelectList)ViewData["Categories"],  "--Select One--")
Html.DropDownListFor(a =&gt; a.CategoryName, (SelectList)ViewData["Categories"], "--Select One--", new { @class = "dropdownlist" })</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的结果为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/509db0c1-0a4b-4cc6-8b66-1637c3d2b382.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="ddl1"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="ddl1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">=""</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>--Select One--<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Beverages<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Condiments<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">selected</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="selected"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="3"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Confections<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="4"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Dairy Products<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="5"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Grains/Cereals<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="6"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Meat/Poultry<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="7"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Produce<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="8"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Seafood<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="dropdownlist"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="CategoryName"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="CategoryName"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">=""</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>--Select One--<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="1"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Beverages<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Condiments<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="3"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Confections<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="4"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Dairy Products<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="5"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Grains/Cereals<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="6"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Meat/Poultry<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="7"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Produce<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="8"</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>Seafood<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">option</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">select</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/509db0c1-0a4b-4cc6-8b66-1637c3d2b382.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（5）RadioButton</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">男<span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">&lt;%:</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Html.RadioButton(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Gender</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) </span><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">%&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
女</span><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">&lt;%:</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> Html.RadioButton(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Gender</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">2</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) </span><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">%&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的代码为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">男<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">checked</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="checked"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Gender"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Gender"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="radio"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="1"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">
女</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">input </span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">id</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Gender"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> name</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="Gender"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> type</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="radio"</span><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;"> value</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">="2"</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">/&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（6）Encode与Raw</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　Encode会将内容进行编码话，因此，如果你的内容中含有Html标签的话那么会被解析成特殊字符，例如：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">&lt;%</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">: Html.Encode(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;p&gt;哈哈&lt;/p&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) </span><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">%&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的代码为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">&amp;amp;</span>lt;p<span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">&amp;amp;</span>gt;哈哈<span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">&amp;amp;</span>lt;/p<span style="margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;">&amp;amp;</span>gt;</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　这里主要是为了防止XSS攻击和恶意脚本，因此在MVC中，默认的&lt;%: %&gt;就实现了&lt;%: Html.Encode() %&gt;。但是，某些时候如果我们需要输出Html或JavaScript内容的字符串，这时我们可以使用HtmlHelper为我们提供的其他方法。例如我们要输出刚刚那句话，我们可以如下使用：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">&lt;%</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">: Html.Raw(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;p&gt;哈哈&lt;/p&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">) </span><span style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 0); line-height: 1.5 !important;">%&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　其生成的代码为：</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span>哈哈<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&lt;/</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">p</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在HtmlHelper中还提供了许多的扩展方法供我们方便创建Html，比如：BeginForm、EndForm等。关于其他的方法介绍，请自行搜索，这里不再一一赘述。</p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">三、随时随地我也能扩展—HtmlHelper扩展方法简介</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">3.1 扩展方法简介</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　借助MSDN的介绍：“<strong style="margin: 0px; padding: 0px;">扩展方法使你能够向现有类型“添加”方法，而无需创建新的派生类型、重新编译或以其他方式修改原始类型</strong>。”<span id="mt2" class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">扩展方法是一种特殊的静态方法，但可以像扩展类型上的实例方法一样进行调用。我们可以回到第一部分对HtmlHelper的扩展类-InputExtension类上，它是对于HtmlHelper的扩展，那么怎么鉴别它是HtmlHelper的扩展呢？</span></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">3.2 扩展方法的三要素</span></h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/18e89a17-7cb5-4d13-a57e-0a40d4fbc463.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（1）静态类</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　可以从上图看出，InputExtension首先是一个静态类；</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（2）静态方法</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　既然是静态类，那么其所有的方法必然都是静态方法，例如：public static MvcHtmlString CheckBox()；</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（3）this关键字</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　可以从方法名定义中看出，第一个参数都是this HtmlHelper htmlHelper，代表对HtmlHelper类的扩展；</span></p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">3.3 自定义扩展方法</span></h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（1）在Models文件夹下新建一个类，取名为：MyHtmlHelperExt</span></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（2）将MyHtmlHelperExt设置为static，并写入以下的一个静态方法：</span></p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> HtmlString MyExtHtmlLabel(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">this</span> HtmlHelper helper, <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> value)
{
      </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> HtmlString(<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.Format(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">&lt;span style='font-weight:bold;'&gt;Hello-{0}-End&lt;/span&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">, value));
}</span></pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（3）确定满足了扩展方法的三要素之后，将命名空间改为：System.Web.Mvc。</span></p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">namespace</span> System.Web.Mvc</pre></div><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; widows: 1; background-image: url(&quot;&quot;); background-color: rgb(255, 255, 163); background-position: 9px 0px; background-repeat: no-repeat no-repeat;"><p style="margin: 10px auto; padding: 0px;"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">PS：</strong>为什么要改命名空间为System.Web.Mvc？</span></p><p style="margin: 10px auto; padding: 0px;"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">这是因为如果不改命名空间，我们要使用自定义的扩展方法需要在每个页面中引入Models（MyHtmlHelper所在的那个命名空间）这个命名空间，为了防止重复的命名空间引入操作（想想我们使用Html.TextBox()不也没有引入命名空间么？），于是我们将命名空间与HtmlHelper类所在的命名空间保持一致。</span></p></blockquote><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><span class="sentence SentenceHover" data-guid="3bc07ca7b680180ca6881c1ff4d7e61b" data-source="Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type." style="margin: 0px; padding: 0px;">　　（4）在页面中我们就可以使用我们自己写的扩展方法了</span></p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">&lt;%: Html.MyExtHtmlLabel(<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">EdisonChou</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>) %&gt;</pre></div><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（5）查看页面效果</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/c5f4735d-2e54-437f-881e-a5b7bf910c78.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">参考文章</h1><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">（1）马伦，《ASP.Net MVC视频教程》，http://bbs.itcast.cn/thread-26722-1-1.html</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">（2）oer，《HtmlHelper使用大全》，http://www.cnblogs.com/oer2001/archive/2013/03/19/2968475.html</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">（3）MSDN，《扩展方法（C#编程指南）》，http://technet.microsoft.com/zh-cn/bb383977</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">（4）MSDN，《HtmlHelper类（System.Web.Mvc）》，http://msdn.microsoft.com/zh-cn/library/system.web.mvc.htmlhelper(v=vs.108).aspx</p><br><div style="color:gray"><small>来源：&nbsp;&lt;<a href="http://www.cnblogs.com/edisonchou/p/3915907.html">http://www.cnblogs.com/edisonchou/p/3915907.html</a><small>&gt;</small></small></div><small><small>&nbsp;</small></small><hr /><h2>MVC(一）[45/100][7/15][50/135][C#](5/30) (2015-07-27 15:00:16)</h2><div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.1&nbsp;ASP.Net&nbsp;WebForm的开发模式</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/03482df2-1142-43ea-9673-01c523b9035a.png" alt="webform" width="622" height="259" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）处理流程</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在传统的WebForm模式下，我们请求一个例如<a href="http://www.51mvc.com/blog/index.aspx" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none;">http://www.aspnetmvc.com/blog/index.aspx</a>的URL，那么我们的WebForm程序会到网站根目录下去寻找blog目录下的index.aspx文件，然后由index.aspx页面的CodeBehind文件(.CS文件)进行逻辑处理，其中或许也包括到数据库去取出数据(其中的经过怎样的BLL到DAL这里就不谈了)，然后再由index.aspx页面来呈现给用户。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　综上所述，在WebForm模式下：<strong style="margin: 0px; padding: 0px;">一个URL请求的是在服务器与该URL对应路径上的物理文件(ASPX文件或其他)，然后由该文件来处理这个请求并返回结果给客户端。</strong></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）开发方式</p><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 服务器端控件</div><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 一般处理程序+Html静态页+Ajax</div><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 一般处理程序+Html模板引擎</div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px; font-family: 微软雅黑; widows: 1; background-color: rgb(255, 255, 255);">1.2 ASP.Net MVC的开发模式</h2><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/cf268900-49fc-4ca5-8155-723797d48d78.png" alt="aspnet mvc" width="597" height="275" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（1）处理流程</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　在ASP.Net MVC中，客户端所请求的URL是被映射到相应的Controller去，然后由Controller来处理业务逻辑，或许要从Model中取数据，然后再由Controller选择合适的View返回给客户端。再说回前面我们运行的ASP.NET MVC程序访问的<a href="http://localhost:2176/Home/Index" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none;">http://www.aspnetmvc.com/<strong style="margin: 0px; padding: 0px;">Home/Index</strong></a>这个URL，它访问的其实是<strong style="margin: 0px; padding: 0px;">Home</strong>Controller中的Index这个Action。</p><p style="margin: 10px auto; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　（2）显著特点</p><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 2009年第一个开源项目版本发布，至今已过去5年，发展逐渐完善</div><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 更加简洁，更加接近原始的“请求-处理-响应”</div><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 更加开发、更多的新的特点、社区活跃</div><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 不会取代WebForm</div><div class="O1" style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　• 底层跟WebForm都是一样的，只是管道上不同的处理而已</div><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; widows: 1; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">二、MVC模式的两种不同解读</h1><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);">　　MVC 模式两种理解：一种是<strong style="margin: 0px; padding: 0px;">表现模式</strong>，另外一种是<strong style="margin: 0px; padding: 0px;">架构模式</strong>。它将应用程序分成三个主要组件即：视图（View）、控制器（Controller）和模型（Model）。现在，我们来看看M-V-C分别代表什么？</div><div style="margin: 0px; padding: 0px; font-family: 微软雅黑; font-size: 13.9200000762939px; line-height: 16.7040004730225px; widows: 1; background-color: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px;">　　<strong style="margin: 0px; padding: 0px;">M</strong>：Model 主要是存储或者是处理数据的组件；Model其实是实现业务逻辑层对实体类相应数据库操作，如：CRUD。它包括数据、验证规则、数据访问和业务逻辑等应用程序信息。（补充：ViewModel：视图模型）</div><p style="margin: 10px auto; padding: 0px;">　　<strong style="margin: 0px; padding: 0px;">V</strong>：View 是用户接口层组件。主要是将Model中的数据展示给用户。aspx和ascx文件被用来处理视图的职责；</p><div style="margin: 0px; padding: 0px;">　　<strong style="margin: 0px; padding: 0px;">C</strong>： Controller 处理用户交互，从Model中获取数据并将数据传给指定的View；</div><div style="margin: 0px; padding: 0px;">　　（1）MVC作为架构模式的理解</div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/7a74bbb8-c1a6-4a19-94cc-7c36d0efd7bf.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></div><div style="margin: 0px; padding: 0px;">　　作为架构模式时，View的职责就是负责展示数据，而Controller则负责获取View传递来的数据，然后调用业务逻辑层处理完成的数据传递给View进行展示。而Model则处理业务逻辑，并把结果返回给Controller。从传统三层架构上来看，View和Controller都属于UI层，而Model则横跨BLL与DAL层。</div><div style="margin: 0px; padding: 0px;">　　（2）MVC作为表现模式的理解</div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/61f8410b-a930-42ce-9b38-ddbcb9b9d8ce.png" alt="" width="706" height="469" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"></div><div style="margin: 0px; padding: 0px;">　　（3）MVC架构模式综合模型</div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/4b32d650-3b73-4b3a-9d3b-f96e4377acf2.png" alt="" width="563" height="324" style="margin: 0px auto; padding: 0px; display: block;"></div><p style="margin: 10px auto; padding: 0px;">　　可以看出，对于MVC的两种不同理解的区别就在于对于Model的理解上：<strong style="margin: 0px; padding: 0px;">将Model作为业务模型（BLL、DAL等）还是作为视图模型（ViewModel）</strong>。</p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">三、WebForm vs MVC</h1><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/ab2f04a6-681f-47e5-8921-27391deb0bd0.jpg" alt="comparation" width="590" height="412" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　（1）WebForm</p><p style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">　　<span style="margin: 0px; padding: 0px; font-family: 'Microsoft YaHei';">优点:</span></strong>&nbsp;1.提供了大量的服务器端控件，可以实现快速开发；</p><p style="margin: 10px auto; padding: 0px;">　　　　　2.ViewState回传数据很方便；</p><p style="margin: 10px auto; padding: 0px;">　　　　　3.学习成本低；</p><p style="margin: 10px auto; padding: 0px;">　　&nbsp;<span style="margin: 0px; padding: 0px; font-family: 'Microsoft YaHei';"><strong style="margin: 0px; padding: 0px;">缺点:&nbsp;</strong></span>1. 封装太强，虽然学习成本低，很多底层东西让初学者不是很明白；</p><p style="margin: 10px auto; padding: 0px;">　　　　　 2. 自定义控制不灵活，不利于美工和开发人员的配合，往往那些服务器控件处理稍有不慎就会导致出错；</p><p style="margin: 10px auto; padding: 0px;">　　　　　 3. ViewState在页面中的传递会造成大量的流量消耗；</p><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; background: url(&quot;&quot;) 9px 0px no-repeat rgb(255, 255, 163);"><p style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">TIP：</strong>有关WebForm的服务器控件和ViewState的详细介绍，不了解的朋友可以阅读另一篇博文《<a href="http://www.cnblogs.com/edisonchou/p/3899123.html" target="_blank" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none;">ASP.Net WebForm学习笔记：aspx与服务器控件探秘</a>》。</p></blockquote><p style="margin: 10px auto; padding: 0px;">　　（2）MVC</p><p style="margin: 10px auto; padding: 0px;"><strong style="margin: 0px; padding: 0px;">　　<span style="margin: 0px; padding: 0px; font-family: 'Microsoft YaHei';">优点:</span></strong>&nbsp;1.很容易将复杂的应用分成Model(ViewModel)、View、Controller三个组件模型，将处理后台逻辑代码与前台展示逻辑进行了很好的分离，属于松耦合关系，在大项目应用中，更易于敏捷开发与测试驱动开发，有很强的可扩展性；</p><p style="margin: 10px auto; padding: 0px;">　　　　　2.因为没有服务器端控件，所以程序员控制的会更加灵活，页面更加干净，没有ViewState；</p><p style="margin: 10px auto; padding: 0px;">　　　　　3.通过修改路由规则，可以控制生成自定义的url，因此控制生成SEO友好的URL将更加容易；</p><p style="margin: 10px auto; padding: 0px;">　　　　　4.强类型View实现、Razor视图、Model绑定机制、Model的验证机制，更安全高效；</p><p style="margin: 10px auto; padding: 0px;">　　&nbsp;<span style="margin: 0px; padding: 0px; font-family: 'Microsoft YaHei';"><strong style="margin: 0px; padding: 0px;">缺点:&nbsp;</strong></span>学习成本高，结构复杂，对未变化数据的不必要的频繁访问，也将损害操作性能。</p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">四、第一个ASP.Net MVC程序</h1><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">4.1 新建项目后的文件组织结构</h2><p style="margin: 10px auto; padding: 0px;">　　（1）新建一个ASP.Net MVC 4项目，选择“基本”配置与“ASPX”视图引擎（暂时不用Razor引擎）。</p><p style="margin: 10px auto; padding: 0px;">　　（2）VS为我们生成的基本文件组织结构如下图所示：</p><p style="margin: 10px auto; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/ff5b5b71-3b20-4bc0-8ef2-ff947ed4d858.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></p><p style="margin: 10px auto; padding: 0px;">　　可以看出，VS默认帮我们创建好了Models、Views以及Controllers的三个文件夹，这三个文件夹就构成了我们的ASP.Net MVC模式的项目。其中，Controllers是所有控制器的类文件所在，而Models则是所有模型的类文件所在，而Views则是所有cshtml或aspx的文件所在。</p><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">4.2 控制器的“约定大于配置”</h2><p style="margin: 10px auto; padding: 0px;">　　在Controllers中新建一个控制器，取名为HomeController。在默认的Index这个Action中新建一个视图，默认名为Index即可。</p><div style="margin: 0px; padding: 0px;">　　（1）Controller放到controllers文件夹中，并且<strong style="margin: 0px; padding: 0px;">命名方式以Controller结尾</strong></div><div style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/54cfc0a8-6f24-46d4-8166-b1be7399e3a0.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></strong></div><div style="margin: 0px; padding: 0px;">　　（2）<strong style="margin: 0px; padding: 0px;">每个Controller都对应View中的一个文件夹</strong>，文件夹的名称跟Controller名相同</div><div style="margin: 0px; padding: 0px;">　　（3）Controller中的方法名都对应一个View视图（非必须，但是建议这么做）而且<strong style="margin: 0px; padding: 0px;">View的名字跟Action的名字相同</strong></div><div style="margin: 0px; padding: 0px;">　　（4）控制器必须是非静态类，并且要实现IController接口</div><div style="margin: 0px; padding: 0px;">　　（5）Controller类型可以放到其他项目中</div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">4.3 视图的相关约定</h2><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/594a962d-91e5-4925-a653-7cfecee81398.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></div><div style="margin: 0px; padding: 0px;">　　（1）所有的视图<strong style="margin: 0px; padding: 0px;">必须放到<em style="margin: 0px; padding: 0px;">Views</em>目录下</strong></div><div style="margin: 0px; padding: 0px;">　　（2）不同控制器的视图用文件夹进行分割，<strong style="margin: 0px; padding: 0px;">每个控制器都对应一个视图目录</strong></div><div style="margin: 0px; padding: 0px;">　　（3）一般视图名字跟控制器的Action相对应（非必须）</div><div style="margin: 0px; padding: 0px;">　　（4）多个控制器<strong style="margin: 0px; padding: 0px;">公共的视图放到Shared：</strong>例如公用的错误页、列表模板页、表单模板页等等；</div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">4.4 数据传递的桥梁-ViewData与ViewBag</h2><div style="margin: 0px; padding: 0px;">　　首先，ViewData是一个<strong style="margin: 0px; padding: 0px;">Key/Value对的字典集合</strong>数据结构，用于在Controller和View之间构建起传递数据的桥梁。</div><div style="margin: 0px; padding: 0px;">　　（1）ViewData是Controller的属性，<strong style="margin: 0px; padding: 0px;">此属性是继承ControllerBase而来</strong>。</div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/0e913ada-24ab-43e1-b3bb-d5c15cfec3fd.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></div><div style="margin: 0px; padding: 0px;">　　（2）ViewPage下也有一个ViewData的一个属性</div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/7f94e9d7-b0fa-4688-838e-da1ce96ad7f2.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></div><div style="margin: 0px; padding: 0px;">　　（3）控制器的Action方法执行完成后，返回ViewResult，然后MVC框架在执行ExcuteResult方法时，Controller中的ViewData数据会传递给ViewPage类，其实就是<strong style="margin: 0px; padding: 0px;">把Controller的ViewData赋值给ViewPage页面的ViewData属性</strong>。</div><div style="margin: 0px; padding: 0px;">　　（4）<strong style="margin: 0px; padding: 0px;">ViewBag传递数据：</strong>我们对ViewBag的动态属性进行赋值，<strong style="margin: 0px; padding: 0px;">值实际上是存到了ViewData中</strong>，动态属性的名存成了ViewDataDictionary的键，动态属性的值存成了ViewDataDictionary的值。</div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/8183916b-8a21-4698-a217-042581c7f0bc.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block; width: 620px;"><blockquote style="margin: 20px 0px; padding: 15px 20px 15px 60px; border: 2px solid rgb(239, 239, 239); color: rgb(51, 51, 51); border-radius: 10px; min-height: 35px; line-height: 1.6em; font-size: 15px; font-family: 'Microsoft Yahei'; box-shadow: rgb(170, 170, 170) 0px 0px 8px; clear: both; background: url(&quot;&quot;) 9px 0px no-repeat rgb(255, 255, 163);"><strong style="margin: 0px; padding: 0px;">PS：</strong>ViweBag其实是就一个包含了一层Dynamic的ViewData，两个兄弟共用的是一个容器。</blockquote></div><div style="margin: 0px; padding: 0px;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/756da242-230e-4276-a64e-cdf31f39d490.jpg" alt="" style="margin: 0px auto; padding: 0px; display: block;"></div><p style="margin: 10px auto; padding: 0px;">　　（5）ViewData与ViewBag的比较</p><div align="center" style="margin: 0px; padding: 0px;"><table border="1" cellspacing="0" cellpadding="2" align="center" style="margin: 0px; padding: 0px; border-spacing: 0px; border-color: silver; word-break: break-word; width: 435px;"><tbody style="margin: 0px; padding: 0px;"><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">ViewData</strong></span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">ViewBag</strong></span></td></tr><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">它是Key/Value字典集合</span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">它是<a href="http://msdn.microsoft.com/en-us/library/dd264741.aspx" target="_blank" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none;">dynamic</a>类型对像</span></td></tr><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">从Asp.net MVC 1 就有了</span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">ASP.NET MVC3 才有</span></td></tr><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">基于Asp.net 3.5 framework</span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">基于Asp.net 4.0与.net framework</span></td></tr><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">ViewData比ViewBag快</span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">ViewBag比ViewData慢</span></td></tr><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">在ViewPage中查询数据时需要转换合适的类型</span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">在ViewPage中查询数据时不需要类型转换</span></td></tr><tr style="margin: 0px; padding: 0px;"><td valign="top" width="200" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">有一些类型转换代码</span></td><td valign="top" width="233" style="margin: 0px; padding: 3px; border-color: silver;"><span style="margin: 0px; padding: 0px;">可读性更好</span></td></tr></tbody></table></div><p style="margin: 10px auto; padding: 0px;">　　（6）如何在程序中使用ViewData与ViewBag</p><p style="margin: 10px auto; padding: 0px;">　　①在Controller中的代码</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">        <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> ActionResult Index()
        {
            ViewData[</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Name</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>] = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Edison Chou</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            ViewBag.Name </span>= <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Edison Chou</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;
            </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> View();
        }</span></pre></div><p style="margin: 10px auto; padding: 0px;">　　②在View中的代码</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/309ceb38-55a9-42d2-8565-8d1c831db05a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;">&lt;body&gt;
    &lt;div&gt;
        &lt;h1&gt;Hi,ASP.Net MVC First Demo!&lt;/h1&gt;
        &lt;%
            <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">for</span> (<span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">int</span> i = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span>; i &lt; <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span>; i++<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)
            {
                Response.Write(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Hello World!&lt;br/&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);
            }
        </span>%&gt;
        &lt;p&gt;&lt;%: ViewData[<span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Name</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>] %&gt;&lt;/p&gt;
        &lt;p&gt;&lt;%: ViewBag.Name %&gt;&lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;</pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/309ceb38-55a9-42d2-8565-8d1c831db05a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><h2 style="margin: 15px auto 2px; padding: 0px; font-size: 21px;">4.5 路由机制初步了解</h2><p style="margin: 10px auto; padding: 0px;">　　我们通过调试可以知道，在MVC中所有的请求都归结到控制器下面的Action。所以，所有的请求都是要指定一个具体的Action，Url的格式是根据路由规则来定的。那么，在ASP.Net MVC的路由规则默认又是什么，在哪里设置的呢？</p><div class="cnblogs_code" style="margin: 5px 0px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/309ceb38-55a9-42d2-8565-8d1c831db05a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: 'Courier New' !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">class</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RouteConfig
{
        </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span> <span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> RegisterRoutes(RouteCollection routes)
        {
            routes.IgnoreRoute(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{resource}.axd/{*pathInfo}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);

            routes.MapRoute(
                name: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Default</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                url: </span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">{controller}/{action}/{id}</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">,
                defaults: </span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span> { controller = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Home</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, action = <span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Index</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span>, id =<span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"> UrlParameter.Optional }
            );
        }
}</span></pre><div class="cnblogs_code_toolbar" style="margin: 5px 0px 0px; padding: 0px;"><span class="cnblogs_code_copy" style="margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;"><a href="" title="复制代码" style="margin: 0px; padding: 1px 3px; color: green; text-decoration: none; border: none !important;"><img src="周旭龙 MVC 基础笔记一 ~ 五笔记_files/309ceb38-55a9-42d2-8565-8d1c831db05a.gif" alt="复制代码" style="margin: 0px; padding: 0px; border-style: none !important;"></a></span></div></div><p style="margin: 10px auto; padding: 0px;">　　打开App_Start文件夹，可以找到RouteConfig这个类，查看RouteConfig这个类的方法，可以知道原来是RegisterRoutes这个方法为我们的ASP.Net MVC项目设置了默认的路由规则：{controller}/{action}/{id}，也就是说我们可以通过http://localhost/Home/Index/1这种URL来访问项目。如果我们想要改变默认的路由规则，例如我们想要以这种URL：http://localhost/Home-Index-1来访问项目，则直接将上面的默认路由规则改为：{controller}-{action}-{id}即可。</p><h1 style="padding: 5px 0px 5px 20px; font-size: 17px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: white; font-family: 微软雅黑, 宋体, 黑体, Arial; height: 25px; line-height: 25px; text-shadow: rgb(34, 34, 34) 2px 2px 3px; width: 601.400024414063px; background-color: rgb(43, 102, 149); margin: 15px 0px !important; background-position: initial initial; background-repeat: initial initial;">参考文章</h1><p style="margin: 10px auto; padding: 0px;">（1）lulu Studio，《ASP.Net MVC入门：1-简介》，http://www.cnblogs.com/QLeelulu/archive/2008/09/30/1302462.html</p><p style="margin: 10px auto; padding: 0px;">（2）马伦，《ASP.Net MVC基础视频教程》，http://bbs.itcast.cn/thread-26722-1-1.html</p><p style="margin: 10px auto; padding: 0px;">（3）深山老林，《正确认识WebForm与ASP.Net MVC》，http://www.cnblogs.com/wlb/archive/2009/12/07/1618954.html</p><p style="margin: 10px auto; padding: 0px;">（4）zhaojunpeng，《ViewData和ViewBag的那些事》，http://blog.segmentfault.com/zhaojunpeng/1190000000472818</p><br><div style="color:gray"><small>来源：&nbsp;&lt;<a href="http://www.cnblogs.com/edisonchou/p/3911558.html">http://www.cnblogs.com/edisonchou/p/3911558.html</a><small>&gt;</small></small></div><small><small>&nbsp;</small></small></div></div></body></html>