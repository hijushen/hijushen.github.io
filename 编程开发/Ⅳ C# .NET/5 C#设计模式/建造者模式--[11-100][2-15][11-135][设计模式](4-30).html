<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--defaultCSS-->
<title>建造者模式--[11/100][2/15][11/135][设计模式](4/30)</title>





<style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style>
<style type="text/css" id="wiz_custom_css">
body
{
    font-family: Microsoft YaHei UI,"Microsoft YaHei", Georgia,Helvetica,Arial,sans-serif,宋体, PMingLiU,serif;
    font-size: 10.5pt;
    line-height: 1.5;
}
html, body
{
    
    
}
h1 {
    font-size:1.5em;
    font-weight:bold;
}
h2 {
    font-size:1.4em;
    font-weight:bold;
}
h3 {
    font-size:1.3em;
    font-weight:bold;
}
h4 {
    font-size:1.2em;
    font-weight:bold;
}
h5 {
    font-size:1.1em;
    font-weight:bold;
}
h6 {
    font-size:1.0em;
    font-weight:bold;
}
img {
    border:0;
    max-width: 100%;
    height: auto !important;
}
blockquote {
    margin-top:0px;
    margin-bottom:0px;
}
table {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
td {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
</style>

<link type="text/css" rel="stylesheet" id="wiz_code_highlight_link" href="建造者模式--[11-100][2-15][11-135][设计模式](4-30)_files/wiz_code_highlight_2.css">
</head>

<body style="" ><div>1.具体的产品: 多个属性.</div><div>2.建造者: 依赖具体产品, 虚方法各个构建实际(用于继承,多个实现方式). 关键是GetResul()产品返回.</div><div>3.具体建造者: 只需要覆写各个 构建方法. 图示GetResult多余.</div><div>4.导演. 1) 导演拥有Builder组合. 可以通过构造方法传递, 也可以不需要, 2) 方法输入参数为Builder即可.</div><div>&nbsp;<font face="Microsoft YaHei UI" style="font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3)导演一身令下,开始实际构建步骤,过程. &nbsp;<font color="#ff0000">调用bulder的GetResult()</font>方法返回具体产品...</font></div><div><font face="Microsoft YaHei UI" style="font-size: 10.5pt; line-height: 1.5;"><br></font></div><div><font face="Microsoft YaHei UI">如上定义明确后, 程式调用过程:&nbsp;</font></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-cs"><span class="pln">            </span><span class="typ">ActorBuilder</span><span class="pln"> ab</span><span class="pun">;</span><span class="pln"> </span><span class="com">//针对抽象建造者编程 .<font color="#ff0000">1.申明Bulider抽象.</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-cs"><span class="pln">            </span><span class="com">//读取配置文件</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">string</span><span class="pln"> builderType </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ConfigurationManager</span><span class="pun">.</span><span class="typ">AppSettings</span><span class="pun">[</span><span class="str">"builder"</span><span class="pun">];</span><span class="pln"> </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-cs"><span class="pln">            </span><span class="com">//反射生成对象</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-cs"><span class="pln">            ab </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">ActorBuilder</span><span class="pun">)</span><span class="typ">Assembly</span><span class="pun">.</span><span class="typ">Load</span><span class="pun">(</span><span class="str">"BuilderExtend"</span><span class="pun">).</span><span class="typ">CreateInstance</span><span class="pun">(</span><span class="pln">builderType</span><span class="pun">);</span><span class="pln"> /<font color="#ff0000">2.反射具体builder.</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-cs"><span class="pln">      </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-cs"><span class="pln">            </span><span class="typ">ActorController</span><span class="pln"> ac </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActorController</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-cs"><span class="pln">		    </span><span class="typ">Actor</span><span class="pln"> actor</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-cs"><span class="pln">		    actor </span><span class="pun">=</span><span class="pln"> ac</span><span class="pun">.</span><span class="typ">Construct</span><span class="pun">(</span><span class="pln">ab</span><span class="pun">);</span><span class="pln"> </span><span class="com">//通过指挥者创建完整的建造者对象 //<font color="#ff0000">3.导演上场.输入参数模式,简单粗暴弄了Builder抽象,产生了产品. 注意过程方法,为Builder抽象里面.即GetResult().</font></span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-cs"></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"{0}的外观："</span><span class="pun">,</span><span class="pln">actor</span><span class="pun">.</span><span class="typ">Type</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"性别：{0}"</span><span class="pun">,</span><span class="pln">actor</span><span class="pun">.</span><span class="typ">Sex</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"面容：{0}"</span><span class="pun">,</span><span class="pln">actor</span><span class="pun">.</span><span class="typ">Face</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"服装：{0}"</span><span class="pun">,</span><span class="pln">actor</span><span class="pun">.</span><span class="typ">Costume</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"发型：{0}"</span><span class="pun">,</span><span class="pln">actor</span><span class="pun">.</span><span class="typ">Hairstyle</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Read</span><span class="pun">();</span></code></li></ol></pre></div><div><br></div></div><div><font face="Microsoft YaHei UI" style="font-size: 10.5pt; line-height: 1.5;"><br></font><span style="font-size: 10.5pt; line-height: 1.5;">建造者模式:</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><img src="建造者模式--[11-100][2-15][11-135][设计模式](4-30)_files/55a570b9-3fd7-47b4-b841-f521fb38ff02.png" border="0" alt="" style="font-size: 10.5pt; line-height: 1.5;" name="" width="632" height="263"><br></div><div><br></div></body></html>