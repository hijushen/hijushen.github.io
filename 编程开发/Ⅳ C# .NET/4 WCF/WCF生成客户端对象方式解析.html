<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>WCF生成客户端对象方式解析</title>
<style id="wiz_custom_css">        html, body {            font-size: 15px;        }        body {            font-family: Helvetica, 'Hiragino Sans GB', 'Microsoft Yahei', SimSun, SimHei, arial, sans-serif;            line-height: 1.6;            padding: 0;            margin: 20px 36px;            margin: 1.33rem 2.4rem;        }        h1, h2, h3, h4, h5, h6 {            margin: 20px 0 10px;            margin: 1.33rem 0 0.667rem;            padding: 0;            font-weight: bold;        }        h1 {            font-size: 21px;            font-size: 1.4rem;        }        h2 {            font-size: 20px;            font-size: 1.33rem;        }        h3 {            font-size: 18px;            font-size: 1.2rem;        }        h4 {            font-size: 17px;            font-size: 1.13rem;        }        h5 {            font-size: 15px;            font-size: 1rem;        }        h6 {            font-size: 15px;            font-size: 1rem;            color: #777777;            margin: 1rem 0;        }        div, p, blockquote, ul, ol, dl, li, table, pre {            margin: 0;        }        ul, ol {            padding-left: 32px;            padding-left: 2.13rem;        }        blockquote {            border-left: 4px solid #dddddd;            padding: 0 12px;            padding: 0 0.8rem;            color: #aaa;        }        blockquote > :first-child {            margin-top: 0;        }        blockquote > :last-child {            margin-bottom: 0;        }        img {            border: 0;            max-width: 100%;            height: auto !important;        }        table {            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        td {            border-collapse: collapse;            border: 1px solid #bbbbbb;        }        @media screen and (max-width: 660px) {            body {                margin: 20px 18px;                margin: 1.33rem 1.2rem;            }        }        @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) {            html, body {                font-size: 17px;            }            body {                line-height: 1.7;                margin: 0.75rem 0.9375rem;                color: #353c47;            }            h1 {                font-size: 2.125rem;            }            h2 {                font-size: 1.875rem;            }            h3 {                font-size: 1.625rem;            }            h4 {                font-size: 1.375rem;            }            h5 {                font-size: 1.125rem;            }            h6 {                color: inherit;            }            ul, ol {                padding-left: 2.5rem;            }            blockquote {                border-left: 4px solid #c8d4e8;                padding: 0 0.9375rem;                color: #b3c2dd;            }        }</style><style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style></head>

<body style=""><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">在WCF中有两种不同的方法可以用于创建客户端服务对象,他们分别为:</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">1. 代理构造法</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">2. 通道工厂法</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">本文会从实际应用的角度上,阐述两种方法的一些细节和优劣对比，希望通过学习本文，能掌握什么情况下使用什么样的方式来创建客户端服务代理对象，怎样创建客户端代理对象。本文重点在术，非道。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; font-size: 12pt;"><strong style="margin: 0px; padding: 0px;">构造代理法</strong></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">从名字中可以看出，使用本方法创建客户端服务代理对象，是调用了服务代理类的构造方法。这种方法非常符合创建对象的常规方法：通过new的方式产生类型实例。可在WCF中要使用此方法，却是需要一个前提：要首先具备代理类。所以产生代理类便是此种方法首先要解决的问题了，下面就来看下WCF中创建代理类的几种常见办法。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">在WCF中，创建代理类，可以分为下面的几种情况：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第一种：知道服务元数据地址，通过在项目中添加服务引用。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第二种：知道服务元数据地址，通过svcutil.exe生成代理类和配置文件。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第三种：从服务契约所在的的程序集(dll，exe)中导出元数据，然后从本地元数据生成代理类。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第四种：知道元数据的地址，通过自定义的代码生成代理类。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">下面分别详细的阐述四种方法的操作过程</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">第一种：知道服务元数据地址，通过在项目中添加服务引用。</strong></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">这种方法非常适合初学者，生成代理类的难度基本为0，也是这几种生成方式中最为简单的。但前提必须事先知道元数据的发布地址。下面是操作过程：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">在项目中单击右键，选择添加服务引用</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/041ed37a-2bd5-44b6-aa5f-713e36911237.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">出现如下的对话框</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/21229699-269b-479c-859b-2b58bfc0d6ce.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">一般情况下，填写完下面的对话框就可以点击确定，生成代理类了，但有的时候，我们需要对代理类对特殊的设置，比如我们要生成异步操作，要更改字典集合为数组等，这时候可以点击上图中左下角的高级按钮。出现如下的对话框：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/f76f29ff-0a61-4809-b4f8-4b2ae31f4d9a.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">经过上面的处理，就能生成代理类了，但是通过此种方法产生代理类存在一个问题，这个问题和WCF联系不大，但还是比较重要的，比如服务端是java开发的，且采用的Soap1.1协议，那么采用上面这种方法，将无法产生匹配soap1.1的代理类，导致在调用服务的时候，出现如下的异常：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; font-size: 9pt;"><span style="margin: 0px; padding: 0px; color: red;"><span style="margin: 0px; padding: 0px; font-family: Verdana;">SOAP &nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; font-family: 微软雅黑;">版本可能不匹配</span><span style="margin: 0px; padding: 0px; font-family: Verdana;">: &nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; font-family: 微软雅黑;">出现意外的</span><span style="margin: 0px; padding: 0px; font-family: Verdana;">&nbsp;&nbsp; Envelope &nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; font-family: 微软雅黑;">命名空间</span><span style="margin: 0px; padding: 0px; font-family: Verdana;">&nbsp;&nbsp; http://schemas.xmlsoap.org/wsdl/</span><span style="margin: 0px; padding: 0px; font-family: 微软雅黑;">。应为</span><span style="margin: 0px; padding: 0px; font-family: Verdana;">&nbsp;&nbsp;&nbsp;<a href="http://schemas.xmlsoap.org/soap/envelope/" style="margin: 0px; padding: 0px; color: rgb(255, 102, 0); text-decoration: none;">http://schemas.xmlsoap.org/soap/envelope/</a></span><span style="margin: 0px; padding: 0px; font-family: 微软雅黑;">。</span><span style="margin: 0px; padding: 0px; font-family: Verdana;"></span></span></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">这个是我在xml web service中的添加服务中发现的，新版本的添加服务引用仍热没有指定协议的设置。在xml web service中，解决上面问题的办法是采用wsdl.exe，然后指定参数/protocol:SOAP</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">第二种：知道服务元数据地址，通过svcutil.exe生成代理类和配置文件。</strong></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">在WCF中的工具中Svcutil.exe是一个非常重要的工具，使用它，我们可以导出，导入，下载元数据，生成代理类，验证编译好的代理。如果我们已经知道元数据的发布地址，那么通过下面的操作，可以生成代理类</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">打开vs2008的命令行工具</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/3c9cd358-f627-4bc6-ac12-60d036aba9a1.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">Svcutil支持不同类型的元数据地址，如net.tcp://,http://等。下面分别进行演示：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">元数据地址是net.tcp://格式：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; color: rgb(153, 51, 0);">svcutil net.tcp://127.0.0.1:6547/Service/MEX /language:cs /out:Proxy.cs</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/b0f34d79-edd1-40f2-bcfa-e14b617e3253.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">元数据地址格式是http://格式</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; color: rgb(153, 51, 0);">svcutil http://127.0.0.1:6548/Service/MEX /language:cs /out:Proxy.cs</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/cc02889e-f70b-4345-b60e-5368491ef260.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">生成代理类的过程和上图类似，不再添加注释。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">第三种：从服务契约所在的的程序集(dll，exe)中导出元数据，然后从本地元数据生成代理类。</strong></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">这种方式是用来处理不发布元数据，直接从服务契约所在程序集中提取元数据并生成代理类的，操作要分为两步：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第一步：从程序集中生成元数据</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; color: rgb(153, 51, 0);">svcutil Wcf.Contracts.dll</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/162e1c31-1e80-43fb-8ff7-c853cc0b0eca.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">运行此命令之后，文件夹中将产生如下的几个文件：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><img alt="" src="WCF生成客户端对象方式解析_files/9653f946-a2b4-45a1-90be-c8b22215a9fc.png" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第二步：从元数据中生成代理类代码</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">这一步将使用上一步中生成的wsdl和xsd等元数据文件，最终生成代理类：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: rgb(153, 51, 0);">svcutil *.wsdl *.xsd</span></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; color: rgb(153, 51, 0);"><img alt="" src="WCF生成客户端对象方式解析_files/51c7efc5-3792-46c2-8313-c0619bc65668.png" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">通过上图，可以看到已经成功生成代理类schemas.microsoft.com.2003.10.Serialization.cs和客户端配置output.config</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;">第四种：知道元数据的地址，通过自定义的代码生成代理类。</strong></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">除了上面的生成代理类的方法，如果我们知道了元数据的地址，还可以通过自己的代码实现代理类的生成，自定义的方法为：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; font-size: 12px; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important;"><img id="Code_Open_Image_160127" height="16" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" width="11" align="top" style="margin: 0px; padding: 0px;"><span id="Code_Open_Text_160127" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;根据元数据发布地址生成代理类<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param&nbsp;name="address"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">元数据地址</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param&nbsp;name="outPutFile"&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">代理类文件路径</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;GenerateCode(EndpointAddress&nbsp;address,&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;outPutFile)<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MetadataExchangeClient&nbsp;mexClient&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;MetadataExchangeClient(address);<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MetadataSet&nbsp;metadataSet&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;mexClient.GetMetadata();<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WsdlImporter&nbsp;importer&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;WsdlImporter(metadataSet);<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CodeCompileUnit&nbsp;codeCompileUnit&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;CodeCompileUnit();<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServiceContractGenerator&nbsp;generator&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ServiceContractGenerator(codeCompileUnit);<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">foreach</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(ContractDescription&nbsp;contract&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">in</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;importer.ImportAllContracts())<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generator.GenerateServiceContractType(contract);<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CodeDomProvider&nbsp;provider&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;CodeDomProvider.CreateProvider(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">CSharp</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">using</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(StreamWriter&nbsp;sw&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;StreamWriter(outPutFile))<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">using</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(IndentedTextWriter&nbsp;textWriter&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;IndentedTextWriter(sw))<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CodeGeneratorOptions&nbsp;options&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;CodeGeneratorOptions();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;provider.GenerateCodeFromCompileUnit(codeCompileUnit,&nbsp;textWriter,&nbsp;options);<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br style="margin: 0px; padding: 0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">通过上面的方法，都可以得到代理类，在没有双工的情况下，服务的代理类是System.ServiceModel.ClientBase&lt;IService&gt;的派生类，代理类包含下面四种构造方式</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"></span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; font-size: 12px; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important;"><img id="Code_Open_Image_182157" height="16" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" width="11" align="top" style="margin: 0px; padding: 0px;"><span id="Code_Open_Text_182157" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ServiceClient()&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_25_30_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_25_30_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ServiceClient(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endpointConfigurationName)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(endpointConfigurationName)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_129_134_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_129_134_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ServiceClient(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endpointConfigurationName,&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;remoteAddress)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(endpointConfigurationName,&nbsp;remoteAddress)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_270_275_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_270_275_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ServiceClient(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endpointConfigurationName,&nbsp;System.ServiceModel.EndpointAddress&nbsp;remoteAddress)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(endpointConfigurationName,&nbsp;remoteAddress)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_440_445_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_440_445_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ServiceClient(System.ServiceModel.Channels.Binding&nbsp;binding,&nbsp;System.ServiceModel.EndpointAddress&nbsp;remoteAddress)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(binding,&nbsp;remoteAddress)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_604_609_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_604_609_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span></span></div><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">而如果服务中有双工Duplex，那么服务的代理类将不再继承System.ServiceModel.ClientBase&lt;IService&gt;，而是更改为：System.ServiceModel.DuplexClientBase&lt;IDuplexService&gt;，而且他的构造也会变成如下的四个：</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"></span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; font-size: 12px; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important;"><img id="Code_Open_Image_182219" height="16" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" width="11" align="top" style="margin: 0px; padding: 0px;"><span id="Code_Open_Text_182219" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;DuplexServiceClient(System.ServiceModel.InstanceContext&nbsp;callbackInstance)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(callbackInstance)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_110_115_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_110_115_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;DuplexServiceClient(System.ServiceModel.InstanceContext&nbsp;callbackInstance,&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endpointConfigurationName)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(callbackInstance,&nbsp;endpointConfigurationName)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_292_297_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_292_297_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;DuplexServiceClient(System.ServiceModel.InstanceContext&nbsp;callbackInstance,&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endpointConfigurationName,&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;remoteAddress)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(callbackInstance,&nbsp;endpointConfigurationName,&nbsp;remoteAddress)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_511_516_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_511_516_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;DuplexServiceClient(System.ServiceModel.InstanceContext&nbsp;callbackInstance,&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endpointConfigurationName,&nbsp;System.ServiceModel.EndpointAddress&nbsp;remoteAddress)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(callbackInstance,&nbsp;endpointConfigurationName,&nbsp;remoteAddress)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_759_764_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_759_764_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">public</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;DuplexServiceClient(System.ServiceModel.InstanceContext&nbsp;callbackInstance,&nbsp;System.ServiceModel.Channels.Binding&nbsp;binding,&nbsp;System.ServiceModel.EndpointAddress&nbsp;remoteAddress)&nbsp;:&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">base</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(callbackInstance,&nbsp;binding,&nbsp;remoteAddress)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_1001_1006_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_1001_1006_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span></span></div><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">通过调用上面代理类中任意的构造函数重载，都能创建客户端服务代理对象实例。具体使用方法可见实例项目Wcf.Client中的代码</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; font-size: 12pt;"><strong style="margin: 0px; padding: 0px;">通道工厂法</strong></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">除了上面提到的代理构造法能够在客户端创建代理的对象实例，我们还可以通过通道工厂的方式(ChannelFactory)来完成同样的任务。而使用通道工厂也包含如下的几种使用情况</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第一种：知道服务应用程序终结点的地址和所使用的绑定方式的情况下。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第二种：只知道服务元数据终结点的地址，不知道应用程序终结点的具体情况下。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第一种：知道服务应用程序终结点的地址和所使用的绑定方式的情况下</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">在这种情况下，客户端所掌握的服务应用程序终结点资料比较详细，使用起来也比较方便，典型的创建方法为：</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; font-size: 12px; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important;"><img id="Code_Open_Image_183055" height="16" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" width="11" align="top" style="margin: 0px; padding: 0px;"><span id="Code_Open_Text_183055" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_0_4_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"><span id="Codehighlighter1_0_4_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">/**/</span></span><span id="Codehighlighter1_4_134_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;采用通道工厂的方式生成客户端服务对象实例&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param&nbsp;name="bind"&gt;&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param&nbsp;name="address"&gt;&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span></span><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;CreateClientInstanceByChannel(Binding&nbsp;bind,&nbsp;EndpointAddress&nbsp;address)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_218_483_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_218_483_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">ChannelFactory</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">Proxys.IService</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;channelFactory&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ChannelFactory</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">Proxys.IService</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(bind);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">var&nbsp;channel&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;channelFactory.CreateChannel(address);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">using</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(channel&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">as</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;IDisposable)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_404_479_Open_Image" src="WCF生成客户端对象方式解析_files/eb2be759-74d4-48bb-b20a-5c8317b729db.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_404_479_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">channel.DoWork();&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">Wcf.Proxys.MyData&nbsp;myData&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;channel.GetData(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">10</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/b62e4c01-02ea-4ae4-939c-899443f6d542.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span></span></div><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">这样的一种方法，给我们在调试程序的情况下，提供了更大的便利。</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">第二种：只知道服务元数据终结点的地址，不知道应用程序终结点的具体情况下。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">在这种情况下，客户端只需要知道元数据终结点的地址，便能通过MetadataResover来获取元数据终结点对应的应用程序终结点，通过遍历应用程序终结点，还能对绑定方式进行刷选。下面的代码演示了这样一种用法。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;"></span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; border: 1px solid rgb(204, 204, 204); overflow: auto; font-size: 12px; widows: 1; background-color: rgb(245, 245, 245); font-family: 'Courier New' !important;"><img id="Code_Open_Image_183137" height="16" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" width="11" align="top" style="margin: 0px; padding: 0px;"><span id="Code_Open_Text_183137" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_0_4_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"><span id="Codehighlighter1_0_4_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">/**/</span></span><span id="Codehighlighter1_4_236_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;已知元数据终结点,不知服务终节点,通过MetadataResover来获取服务终结点,并用通道工厂创建客户端服务实例&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;这种方式有个好处是不依赖服务终结点地址，数量，bind类型的情况下在客户端对服务终结点进行刷选并使用。&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;当然它也有缺点，那就是会比较浪费性能，最好能配合Cache来使用。&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;/summary&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">///</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;">&lt;param&nbsp;name="address"&gt;&lt;/param&gt;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 128, 0); line-height: 1.5 !important;">&nbsp;</span></span><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">void</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;CreateClientInstanceByMetaResover(EndpointAddress&nbsp;address)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_310_726_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_310_726_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">ServiceEndpointCollection&nbsp;endPoints&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;MetadataResolver.Resolve(</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">typeof</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(Proxys.IService),&nbsp;address);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">foreach</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(ServiceEndpoint&nbsp;p&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">in</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;endPoints)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_457_722_Open_Image" src="WCF生成客户端对象方式解析_files/eb2be759-74d4-48bb-b20a-5c8317b729db.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_457_722_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(EndPointIsDual(p))&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_486_718_Open_Image" src="WCF生成客户端对象方式解析_files/eb2be759-74d4-48bb-b20a-5c8317b729db.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_486_718_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">ChannelFactory</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">Proxys.IService</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;channelFactory&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">new</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ChannelFactory</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&lt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">Wcf.Proxys.IService</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">(p.Binding);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">Proxys.IService&nbsp;ws&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;channelFactory.CreateChannel(p.Address);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">ws.DoWork();&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;">Wcf.Proxys.MyData&nbsp;myData&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">=</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;ws.GetData(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">10</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">);&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/b62e4c01-02ea-4ae4-939c-899443f6d542.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/b62e4c01-02ea-4ae4-939c-899443f6d542.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">static</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">bool</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;EndPointIsDual(ServiceEndpoint&nbsp;endPoint)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_787_897_Open_Image" src="WCF生成客户端对象方式解析_files/8a39e2d9-9e41-4d3e-bd64-0074b38f69fd.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_787_897_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;(endPoint.Binding.GetType().ToString().IndexOf(</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">Dual</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&gt;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">-</span><span style="margin: 0px; padding: 0px; color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">)&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img id="Codehighlighter1_857_877_Open_Image" src="WCF生成客户端对象方式解析_files/eb2be759-74d4-48bb-b20a-5c8317b729db.png" align="top" style="margin: 0px; padding: 0px;"></span><span id="Codehighlighter1_857_877_Open_Text" style="margin: 0px; padding: 0px; line-height: 1.5 !important;"><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">{&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/b62e4c01-02ea-4ae4-939c-899443f6d542.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">return</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;</span><span style="margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;">false</span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">;&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/d02c20a5-c5ea-4e33-931e-c5e5a768d05a.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/2f762c0e-29b1-46f4-afc1-41a513152e1d.png" align="top" style="margin: 0px; padding: 0px;">}</span></span><span style="margin: 0px; padding: 0px; line-height: 1.5 !important;">&nbsp;<br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"><br style="margin: 0px; padding: 0px;"><img alt="" src="WCF生成客户端对象方式解析_files/a0be974e-13ed-417d-91d2-5ec10764bc33.png" align="top" style="margin: 0px; padding: 0px;"></span></span></div><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">到此，我们基本上已经对客户端类生成和客户端代理对象实例的创建有了一些认识，而且通过上面的描述，也说明了在什么情况下，应该采用那种方法，如何生成代理类，如何创建代理对象实例。下面就代理构造法和通道工厂法的优劣进行一下对比:</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">1) 代理构造法不依赖于服务契约，服务端和客户端耦合度比较低，但创建方法比较复杂，使用方法比较单一，对于一次产生多个代理对象等应用情形比较难以应对，综合看来，更适合生产环境中使用。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">2) 通道工厂法使用比较简单，也比较灵活，但依赖于服务契约，不适合生产，更适合开发调试。</span></p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);">&nbsp;</p><p style="margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; widows: 1; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px;">本文中，讲述了WCF客户端代理对象创建技术的一些基本常识和使用技巧。下篇文章将做一步深入：如何生成元数据需要证书验证的客户端代理</span></p><br><div style="color:gray"><small>来源：&nbsp;<a href="http://www.cnblogs.com/jillzhang/archive/2008/07/26/1252171.html">http://www.cnblogs.com/jillzhang/archive/2008/07/26/1252171.html</a></small></div><div></div></body></html>