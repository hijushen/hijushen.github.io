<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--defaultCSS-->
<title>博客阅读总结  值类型与引用类型(特殊的string) Typeof和GetType() 静态和非静态使用 参数传递</title>



<style type="text/css" id="wiz_custom_css">
body
{
    font-family: "Microsoft YaHei UI","Microsoft YaHei",SimSun,"Segoe UI",Tahoma,Helvetica,Sans-Serif,"Microsoft YaHei", Georgia,Helvetica,Arial,sans-serif,宋体, PMingLiU,serif;
    font-size: 10.5pt;
    line-height: 1.5;
}
html, body
{
    
    
}
h1 {
    font-size:1.5em;
    font-weight:bold;
}
h2 {
    font-size:1.4em;
    font-weight:bold;
}
h3 {
    font-size:1.3em;
    font-weight:bold;
}
h4 {
    font-size:1.2em;
    font-weight:bold;
}
h5 {
    font-size:1.1em;
    font-weight:bold;
}
h6 {
    font-size:1.0em;
    font-weight:bold;
}
img {
    border:0;
    max-width: 100%;
}
blockquote {
    margin-top:0px;
    margin-bottom:0px;
}
table {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
td {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
</style>
<style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style><link type="text/css" rel="stylesheet" id="wiz_code_highlight_link" href="博客阅读总结  值类型与引用类型(特殊的string) Typeof和GetType() 静态和非静_files/wiz_code_highlight_18.css"></head>

<body style="" >一 值类型与引用类型<div><font face="Microsoft YaHei UI">&nbsp; &nbsp; 需要注意的string 是特殊类型的引用类型.</font><br></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp; 使用方法: == 比较的是栈里面的值, 值类型比较值, 对象(除字符串)比较的是栈里面的地址.</font></div><div><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">equal比较的是实际的值,是object里面的虚方法重写,重写时最好重写getHashCode()方法.</span></div><div><font face="Microsoft YaHei UI">&nbsp;&nbsp;</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><font face="Microsoft YaHei UI"><br></font></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp; 如下为代码例子</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-cs"><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Main</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">object</span><span class="pln"> m1 </span><span class="pun">=</span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-cs"><span class="pln">            </span><span class="kwd">object</span><span class="pln"> m2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-cs"></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="pln">m1</span><span class="pun">==</span><span class="pln">m2</span><span class="pun">); // False;因为比较的是引用,肯定不是同一个对象.</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-cs"></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="pln">m1</span><span class="pun">.</span><span class="typ">Equals</span><span class="pun">(</span><span class="pln">m2</span><span class="pun">)); //True. 因为比较的是对象对应的值.</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Read</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-cs"><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><font color="#93a1a1">例子2: </font></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-cs"><span class="pun"><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-cs"><span class="pln">  </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Main</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">string</span><span class="pln"> str1 </span><span class="pun">=</span><span class="pln"> </span><span class="str">"ZhangSan"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-cs"><span class="pln">            </span><span class="kwd">string</span><span class="pln"> str2 </span><span class="pun">=</span><span class="pln"> </span><span class="str">"ZhangSan"</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-cs"><span class="pln">            </span><span class="kwd">string</span><span class="pln"> str3 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">char</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'z'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'h'</span><span class="pln"> </span><span class="pun">});</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-cs"><span class="pln">            </span><span class="kwd">string</span><span class="pln"> str4 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">char</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'z'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'h'</span><span class="pun">});</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"str1 == str2  "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">str1 </span><span class="pun">==</span><span class="pln"> str2</span><span class="pun">).</span><span class="typ">ToString</span><span class="pun">()); //True</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"str1 Equals str2  "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str1</span><span class="pun">.</span><span class="typ">Equals</span><span class="pun">(</span><span class="pln">str2</span><span class="pun">));//True</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-cs"><span class="pln">          </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"str3 == str4 "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">str3 </span><span class="pun">==</span><span class="pln"> str4</span><span class="pun">).</span><span class="typ">ToString</span><span class="pun">());//True</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="str">"str3 Equals str4 "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str3</span><span class="pun">.</span><span class="typ">Equals</span><span class="pun">(</span><span class="pln">str4</span><span class="pun">));</span><span class="pln">          //True.</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-cs"><span class="pln">         </span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Read</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-cs"><span class="pln">        </span><span class="pun">} //总结: 因为string重写了==方法.用于比较值.</span></code></li></ol></pre></div><div><br></div></span></code></li></ol></pre></div><div>二 Typeof 和 GetType() 区别</div><div><br></div><div><div><ol><li><span style="font-size: 10.5pt; line-height: 1.5;">typeof&nbsp; 是运算符，而 GetType() 是方法</span><br></li><li><span style="font-size: 10.5pt; line-height: 1.5;">typeof 获得类型的System.Type对象，GetType()获得当前实例的Type，</span><br></li><li><span style="font-size: 10.5pt; line-height: 1.5;">GetType()是基类System.Object的方法，只有建立了一个实例之后才能够被调用</span><br></li><li><span style="font-size: 10.5pt; line-height: 1.5;">typeof的参数只能是int, string, class，自定义类型，不能为具体实例，否则编译器会报错</span><br></li></ol></div></div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-cs"><span class="pln">   </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Main</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-cs"><span class="pln">        </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-cs"><span class="pln">            </span><span class="kwd">object</span><span class="pln"> m1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-cs"><span class="pln">            </span><span class="kwd">object</span><span class="pln"> m2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-cs"><span class="pln">            </span><span class="com">// ValueType是引用类型，因为它是类，所以返回为false</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="kwd">typeof</span><span class="pun">(</span><span class="typ">ValueType</span><span class="pun">).</span><span class="typ">IsValueType</span><span class="pun">); //False. ValueType是类!!!</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="pln">m1</span><span class="pun">.</span><span class="typ">GetType</span><span class="pun">().</span><span class="typ">IsValueType</span><span class="pun">);//Ture</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-cs"><span class="pln">            </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Read</span><span class="pun">();</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-cs"><span class="pln">        </span><span class="pun">}</span></code></li></ol></pre></div><div>三 静态与非静态.</div></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp; 说的比较透彻的是, 链接: (</font><span style="font-size: 10.5pt; line-height: 1.5;">[C#基础知识系列]全面解析C#中静态与非静态</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">)</span><a href="http://www.cnblogs.com/zhili/archive/2013/06/16/StaticAndNonStatic.html" style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">http://www.cnblogs.com/zhili/archive/2013/06/16/StaticAndNonStatic.html</a></div><div><font face="Microsoft YaHei UI"> </font><font face="Microsoft YaHei UI">&nbsp; &nbsp; 个人使用总结:&nbsp;</font><span style="font-size: 10.5pt; line-height: 1.5; font-family: 'Microsoft YaHei UI';">&nbsp; 想不实力化类--&gt;创建静态类--&gt;静态属性--&gt;静态成员是private的--&gt;使用</span><span style="font-size: 10.5pt; line-height: 1.5;">静态方法一般用于作为通用的工具类来实现.</span></div><div><span style="font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp;文中总结有: 1,&nbsp;</span><span style="font-size: 10.5pt; line-height: 1.5;">静态方法不能被标识为virtual、abstract或override,静态方法可以被派生访问，但是不能被派生类重写.</span><span style="font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp; 2, 构造函数执行过程:</span><span style="font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp; 静态成员分配内存空间--&gt;静态成员初始化--&gt;执行静态构造函数--&gt;执行实例成员初始化--&gt;执行实例构造函数</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp;IL 中.ctor代表实例构造器.</span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><br></div><div><font face="Microsoft YaHei UI">四 参数传递</font></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><span style="font-size: 10.5pt; line-height: 1.5;">对于按值传递，不管是值类型还是引用类型的按值传递，都是传递实参的一个拷贝.</span></div><div><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-size: 10.5pt; line-height: 1.5;">只是值类型时，此时传递的是实参实例的一个拷贝（也就是值类型值的一个拷贝）</span></div><div><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-size: 10.5pt; line-height: 1.5;">而引用类型时，此时传递的实参引用的副本。</span></div><div><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp;&nbsp;</span><span style="font-size: 10.5pt; line-height: 1.5;">对于按引用传递，传递的都是参数地址，也就是实例的指针.(加ref and out 关键字)</span></div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp;&nbsp;</font><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;">&nbsp; &nbsp; 注意: string 是特殊的引用类型. 传递是实际的值,想要方法传递引用, 即外面的值发生改变, 需要加ref out 参数.</span><span style="font-size: 10.5pt; line-height: 1.5;"><br></span></div><div><span style="font-family: 'Microsoft YaHei UI'; font-size: 10.5pt; line-height: 1.5;"><br></span></div></body></html>