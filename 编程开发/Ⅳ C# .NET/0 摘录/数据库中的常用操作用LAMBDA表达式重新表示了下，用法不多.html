<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>数据库中的常用操作用LAMBDA表达式重新表示了下，用法不多</title><?xml version="1.0" encoding="UTF-8"?>


<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">这里主要是将数据库中的常用操作用LAMBDA表达式重新表示了下，用法不多，但相对较常用，等有时间了还会扩展，并将查询语句及LINQ到时也一并重新整理下：</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">1.select<font face="宋体">语句：</font></span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">books.Select(p=&gt;new&nbsp;{&nbsp;p.Title,&nbsp;p.UnitPrice,&nbsp;p.Author});</span><span style="color: rgb(51, 204, 204); font-size: 10.5pt; font-family: 宋体;">//<font face="宋体">需用匿名方式</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">2.where<font face="宋体">语句：</font></span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">books.Where(p=&gt;p.UnitPrice==100&amp;&amp;p.Title=</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">ABC</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">补充：</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">像数据库中的<font face="Times New Roman">LIKE&nbsp;</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">‘</span><span style="font-size: 10.5pt; font-family: 宋体;">%c++%</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">’</span><span style="font-size: 10.5pt; font-family: 宋体;">，<font face="Times New Roman">LAMBDA</font><font face="宋体">中用</font></span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">p.Title.Contains(</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">“</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">c++</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">)</span><span style="font-size: 10.5pt; font-family: 宋体;">表示；</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">像数据库中的<font face="Times New Roman">LIKE&nbsp;</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">‘</span><span style="font-size: 10.5pt; font-family: 宋体;">c%</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">’</span><span style="font-size: 10.5pt; font-family: 宋体;">，<font face="Times New Roman">LAMBDA</font><font face="宋体">中用</font></span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">p.Title.StartWith(</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">“</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">c</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">)</span><span style="font-size: 10.5pt; font-family: 宋体;">表示；</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">像数据库中的<font face="Times New Roman">LIKE&nbsp;</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">‘</span><span style="font-size: 10.5pt; font-family: 宋体;">%c</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">’</span><span style="font-size: 10.5pt; font-family: 宋体;">，<font face="Times New Roman">LAMBDA</font><font face="宋体">中用</font></span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">p.Title.EndsWith(</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">“</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">c</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">)</span><span style="font-size: 10.5pt; font-family: 宋体;">表示；</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">Where<font face="宋体">的另一种表现形式：</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 21pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">books.Where(p=&gt;{</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 21pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ret&nbsp;=&nbsp;p.UnitPrice&gt;30&amp;&amp;p.Title.Contains(</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">“</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">c++</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: &#39;Times new roman&#39;; background-position: initial initial; background-repeat: initial initial;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 21pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 21pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">});</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">3.<font face="宋体">排序语句：</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">像数据库中<font face="Times New Roman">order&nbsp;by&nbsp;</font><font face="宋体">升序：</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 21pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">通过&nbsp;</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">“</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">对象<font face="Times New Roman">.OrderBy(p=&gt;p.UnitPrice)</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">”</span><span style="font-size: 10.5pt; font-family: 宋体;">实现</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">像数据库中<font face="Times New Roman">order&nbsp;by&nbsp;</font><font face="宋体">降序：</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">通过&nbsp;</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">“</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">对象<font face="Times New Roman">.OrderByDescending(p=&gt;p.UnitPrice)</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">”</span><span style="font-size: 10.5pt; font-family: 宋体;">实现</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">像数据库中<font face="Times New Roman">order&nbsp;by&nbsp;UnitPrice&nbsp;desc</font><font face="宋体">，</font><font face="Times New Roman">Title&nbsp;asc</font><font face="宋体">：</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">通过&nbsp;</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">对象<font face="Times New Roman">.OrderByDescending(p=&gt;p.UnitPrice).ThenBy(p=&gt;p.Title)</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">”</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">反过来则是：&nbsp;</span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">”</span><span style="color: rgb(255, 0, 0); font-size: 10.5pt; background-color: rgb(192, 192, 192); font-family: 宋体; background-position: initial initial; background-repeat: initial initial;">对象<font face="Times New Roman">.OrderBy(p=&gt;p.UnitPrice).ThenByDescending(p=&gt;p.Title)</font></span><span style="font-size: 10.5pt; font-family: &#39;Times new roman&#39;;">”</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">4.<font face="宋体">组函数：</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;</span>&nbsp;<span style="font-size: 10.5pt; font-family: 宋体;">var&nbsp;max&nbsp;=&nbsp;books.Where(p&nbsp;=&gt;&nbsp;p.CategoryId&nbsp;==&nbsp;1001).Max(p&nbsp;=&gt;&nbsp;p.UnitPrice);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;min&nbsp;=&nbsp;books.Min(p&nbsp;=&gt;&nbsp;p.UnitPrice);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;count&nbsp;=&nbsp;books.Count(&nbsp;);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;avg&nbsp;=&nbsp;books.Average(p&nbsp;=&gt;&nbsp;p.UnitPrice);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;sum&nbsp;=&nbsp;books.Sum(p&nbsp;=&gt;&nbsp;p.UnitPrice);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">注意，上面这些获得的东西，不是对象，是单个值</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">5.&nbsp;GROUP&nbsp;BY<font face="宋体">函数</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">//&nbsp;select&nbsp;categoryid,max(unitpirce)&nbsp;from&nbsp;books&nbsp;group&nbsp;by&nbsp;categoryid&nbsp;having&nbsp;max(unitprice)&gt;50</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;list6&nbsp;=&nbsp;books.GroupBy(p&nbsp;=&gt;&nbsp;p.CategoryId).Where(p=&gt;p.Max(q=&gt;q.UnitPrice)&gt;50);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(var&nbsp;item&nbsp;in&nbsp;list6)</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Response.Write(string.Format(&quot;</span></p><ul style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255);"><li><span style="font-size: 10.5pt; font-family: 宋体;"><font face="宋体">类别编号</font><font face="Times New Roman">:{0},</font><font face="宋体">最高价</font></span><span style="font-size: 10.5pt; font-family: 宋体;">{</span><span style="font-size: 10.5pt; font-family: 宋体;">1}</span></li><li style="list-style: none;"><span style="font-size: 10.5pt; font-family: 宋体;">&quot;,</span></li></ul><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 126pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">item.Key,item.Max(p=&gt;p.UnitPrice)));</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">6.&nbsp;TOP<font face="宋体">函数</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">//<font face="宋体">取一个范围&nbsp;如</font><font face="Times New Roman">3,5</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">var&nbsp;list7&nbsp;=&nbsp;books.Skip(2).Take(3).Select(p&nbsp;=&gt;&nbsp;new&nbsp;{&nbsp;p.Title,&nbsp;p.CategoryId,&nbsp;</span>&nbsp;<span style="font-size: 10.5pt; font-family: 宋体;">p.UnitPrice&nbsp;});</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">//</span><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">&nbsp;select&nbsp;top&nbsp;5</span><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">&nbsp;</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">var&nbsp;list7&nbsp;=&nbsp;books.Take(</span><span style="font-size: 10.5pt; font-family: 宋体;">5</span><span style="font-size: 10.5pt; font-family: 宋体;">).OrderByDescending(p&nbsp;=&gt;&nbsp;p.UnitPrice)</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-left: 42pt; text-indent: 21pt; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">&nbsp;</span><span style="font-size: 10.5pt; font-family: 宋体;">.Select(p&nbsp;=&gt;&nbsp;new&nbsp;{&nbsp;p.CategoryId,&nbsp;p.UnitPrice,&nbsp;p.Title,&nbsp;p.Author&nbsp;});</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">7.union&nbsp;<font face="宋体">函数</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">books.Where(p&nbsp;=&gt;&nbsp;p.CategoryId&nbsp;==&nbsp;1001).Select(p&nbsp;=&gt;&nbsp;new&nbsp;{&nbsp;p.CategoryId,&nbsp;p.UnitPrice,&nbsp;p.Title,&nbsp;p.Author&nbsp;}).</span><span style="color: rgb(0, 0, 255); font-size: 10.5pt; font-family: 宋体;">Union(</span><span style="color: rgb(0, 204, 255); font-size: 10.5pt; font-family: 宋体;">books.Where(p&nbsp;=&gt;&nbsp;p.CategoryId&nbsp;==&nbsp;1002).Select(p&nbsp;=&gt;&nbsp;new&nbsp;{&nbsp;p.CategoryId,&nbsp;p.UnitPrice,&nbsp;p.Title,&nbsp;p.Author&nbsp;})</span><span style="color: rgb(0, 0, 255); font-size: 10.5pt; font-family: 宋体;">)</span><span style="font-size: 10.5pt; font-family: 宋体;">;</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">这里的<font face="Times New Roman">Select</font><font face="宋体">子句中的列需对应，跟数据库中是一样的</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;">&nbsp;</p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">8.Join<font face="宋体">方法，用于实现数据库中双表连接查询</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">//</span><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">select&nbsp;a.title,a.unitprice,a.categoryid,b.id,b.name&nbsp;from&nbsp;books&nbsp;a,category&nbsp;b&nbsp;</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(153, 204, 0); font-size: 10.5pt; font-family: 宋体;">//where&nbsp;a.categoryid=b.id&nbsp;and&nbsp;b.name=<font face="宋体">‘数据库’</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="color: rgb(255, 0, 0); font-size: 9.5pt; font-family: 新宋体;">books</span><span style="font-size: 9.5pt; font-family: 新宋体;">.Join(</span><span style="color: rgb(255, 0, 0); font-size: 9.5pt; font-family: 新宋体;">cates</span><span style="font-size: 9.5pt; font-family: 新宋体;">.Where(</span><span style="color: rgb(51, 153, 102); font-size: 9.5pt; font-family: 新宋体;">m&nbsp;=&gt;&nbsp;m.Name&nbsp;==&nbsp;&quot;数据库&quot;)</span><span style="font-size: 9.5pt; font-family: 新宋体;">,</span><span style="color: rgb(0, 204, 255); font-size: 9.5pt; font-family: 新宋体;">p&nbsp;=&gt;&nbsp;p.CategoryId,&nbsp;q&nbsp;=&gt;&nbsp;q.ID</span><span style="font-size: 9.5pt; font-family: 新宋体;">,&nbsp;</span><span style="color: rgb(51, 102, 255); font-size: 9.5pt; font-family: 新宋体;">(a,&nbsp;b)&nbsp;=&gt;&nbsp;new&nbsp;{&nbsp;a.Title,&nbsp;a.UnitPrice,&nbsp;a.CategoryId,&nbsp;b.ID,&nbsp;b.Name&nbsp;}</span><span style="font-size: 9.5pt; font-family: 新宋体;">);</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">说明：</span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">Join()<font face="宋体">方法的调用对象类似于在</font><font face="Times New Roman">SQL</font><font face="宋体">语句中第一张表的表名</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">而<font face="Times New Roman">Join()</font><font face="宋体">方法的第一个形参是第二张表表名的</font><font face="Times New Roman">Where</font><font face="宋体">条件</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">Join()<font face="宋体">方法的第二和第三个参数分别表示第一张表与第二张表的关联字段</font></span></p><p style="color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; text-align: left; background-color: rgb(255, 255, 255); margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 宋体;">Join()<font face="宋体">方法的第四个参数表示从两表中需要获取的字段，</font><font face="Times New Roman">(a,&nbsp;b)</font><font face="宋体">分别表示第一张表和第二张表</font></span></p></div>