<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>DB2 实例：3 Day 存储过程的声明 变量定义 赋值</title><?xml version="1.0" encoding="UTF-8"?>


<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
CREATE PROCEDURE 存储过程名
<div>- （in 输入变量名 输入类型变量，OUT 输出变量名 输出变量类型）</div><div>紧随其后的存储过程属性类表：</div><div>&nbsp; &nbsp; &nbsp;-LANGUAGE SQL</div><div>&nbsp; &nbsp; &nbsp;-MODIFIES SQL DATA</div><div>&nbsp; &nbsp; &nbsp;-RESULT SETS 1(返回结果集个数)</div><div>存储过程体：以begin 开始</div><div>存储过程体：以end 结束</div><div><br/></div><div><br/></div><div>变量使用前需要先定义：</div><div>DECLARE 变量名 变量类型（default 默认）</div><div>例如：</div><div>&nbsp; &nbsp; &nbsp;DECLARE SQLCODE INTEGER DAFAULT 0;</div><div>&nbsp; &nbsp; &nbsp;DECLARE inum INTEGER DEFAULT 0;</div><div><br/></div><div>语法格式：</div><div>--SET 变量名 = value&nbsp;</div><div>如：</div><div>&nbsp; &nbsp; &nbsp;- DECLARE inum INTEGER;</div><div>&nbsp; &nbsp; &nbsp;- Set inmu = 20;</div><div>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>分支格式：if else 之后需要使用END IF ;</div><div>case 也是相同，需要end case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div><br/></div><div>for 循环：</div><div>&nbsp; &nbsp; &nbsp;for 循环名 as&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 游标名或select 表达式</div><div>&nbsp; &nbsp; &nbsp;do&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sql 表达式;</div><div>&nbsp; &nbsp; &nbsp;end for;</div><div>&nbsp; &nbsp; &nbsp;</div></div>