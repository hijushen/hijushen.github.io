<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>PL/SQL常见设置--Kevin的专栏</title><?xml version="1.0" encoding="UTF-8"?>


<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="margin: 0px 0px 10em; padding: 0px; border: 0px; font-family: 微软雅黑, Tahoma; font-size: 12px;"><h1 style="background-color: rgb(243, 241, 240); margin: 108px 0px 24px; padding: 0px; font-size: 30px; word-break: break-all; font-weight: normal;"><a href="http://blog.csdn.net/62guangye/article/details/5291283" style="font-size: 1em; line-height: 1.6em; text-decoration: none; color: rgb(51, 51, 51);" target="_blank">PL/SQL设置</a></h1><div style="margin: 0px; padding: 0px; border: 0px; font-size: 16px; line-height: 1.6em;"><div style="margin: 32px 0px 0px; padding: 0px; border: 0px;"><div style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; border: 0px;">分类：&nbsp;<a href="http://blog.csdn.net/62guangye/article/category/797869" style="text-decoration: none; color: rgb(51, 51, 51);" target="_blank">数据库</a>&nbsp;2010-02-05 14:10 1493人阅读&nbsp;<a href="http://blog.csdn.net/62guangye/article/details/5291283#comments" style="text-decoration: none; color: rgb(51, 51, 51);" target="_blank">评论</a>(0)&nbsp;<a style="color: rgb(51, 51, 51);" target="_blank" title="收藏">收藏</a>&nbsp;<a href="http://blog.csdn.net/62guangye/article/details/5291283#report" style="text-decoration: none; color: rgb(51, 51, 51);" target="_blank" title="举报">举报</a></div><p style="margin: 0px 0px 16px; padding: 0px; font-size: 1em;"><strong style="background-color: rgb(243, 241, 240);">1、PL/SQL Developer记住登陆密码</strong><span style="background-color: rgb(243, 241, 240);">&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">&nbsp;&nbsp; 在使用PL/SQL Developer时，为了工作方便希望PL/SQL Developer记住登录Oracle的用户名和密码；&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">设置方法：PL/SQL Developer 7.1.2&nbsp;</span> <span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;">-&gt;tools-&gt;Preferences-&gt;Oracle-&gt;Logon History</span> <span style="background-color: rgb(243, 241, 240);">， “Store history”是默认勾选的，勾上“Store with password” 即可，重新登录在输入一次密码则记住了。&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">2、执行单条SQL语句</strong><span style="background-color: rgb(243, 241, 240);">&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">&nbsp;&nbsp; 在使用PL/SQL Developer的SQL Window时，按F8键，PL/SQL Developer默认是执行该窗口的所有SQL语句，需要设置为鼠标所在的那条SQL语句，即执行当前SQL语句；&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">设置方法：PL/SQL Developer 7.1.2 --&gt;tools-&gt;Preferences--&gt;Window types ，勾上“AutoSelect Statement” 即可。&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">3、格式化SQL语句</strong><span style="background-color: rgb(243, 241, 240);">&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">&nbsp;&nbsp; 在使用PL/SQL Developer的SQL Window时，有时候输入的SQL语句太长或太乱，希望能用比较通用的写法格式话一下，这样看起来会好看些，也好分析；&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">使用方法：选中需要格式化的SQL语句，然后点击工具栏的PL/SQL beautifier按钮即可.&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">4、查看执行计划&nbsp;<br/></strong><span style="background-color: rgb(243, 241, 240);">&nbsp; 在使用PL/SQL Developer的SQL Window时，有时候输入的SQL语句执行的效率，分析下表结构，如何可以提高查询的效率，可以通过查看Oracle提供的执行计划；&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">使用方法：选中需要分析的SQL语句，然后点击工具栏的Explain plan按钮（即执行计划），或者直接按F5即可。&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">5、调试存储过程</strong><span style="background-color: rgb(243, 241, 240);">&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">&nbsp;&nbsp; 在使用PL/SQL Developer操作Oracle时，有时候调用某些存储过程，或者调试存储过程；</span><br/><span style="background-color: rgb(243, 241, 240);">调用存储过程的方法：首先，在PL/SQL Developer左边的Browser中选择Procedures，查找需要调用的存储过程；然后，选中调试的存储过程，点击右键，选择Test，在弹出来的Test scrīpt窗口中，对于定义为in类型的参数，需要给该参数的Value输入值；最后点击上面的条数按钮：Start debugger 或者按F9；最后点击：RUN 或者Ctrl+R&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">6.左下角显示window list</strong><span style="background-color: rgb(243, 241, 240);">&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">&nbsp; 点击菜单 tools -&gt; window list, 将弹出的小窗口拖到左下角合适位置，然后点击菜单 window-&gt;save layout&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">7.防止登录超时</strong><span style="background-color: rgb(243, 241, 240);">&nbsp;</span><br/><span style="background-color: rgb(243, 241, 240);">&nbsp; tools-&gt;Preferences--&gt;Oracle-&gt;Connection&nbsp; 选择 &quot;check connection&quot;&nbsp;</span><br/><strong style="background-color: rgb(243, 241, 240);">8.不备份sql文件&nbsp;<br/></strong><span style="background-color: rgb(243, 241, 240);">&nbsp; tools-&gt;Preferences-&gt;Files-&gt;backup,页面中backup files中选择 disabled</span></p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">======引用如下======</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">连接oracle10g免安装客户端解决办法&nbsp;<br/>
首先，在安装ORACLE服务器的机器上搜索下列文件，&nbsp;<br/>
oci.dll&nbsp;<br/>
ocijdbc10.dll&nbsp;<br/>
ociw32.dll&nbsp;<br/>
orannzsbb10.dll&nbsp;<br/>
oraocci10.dll&nbsp;<br/>
oraociei10.dll&nbsp;<br/>
sqlnet.ora&nbsp;<br/>
tnsnames.ora&nbsp;<br/>
classes12.jar&nbsp;<br/>
ojdbc14.jar&nbsp;<br/>
制作成压缩文件，配置目标计算机使用。&nbsp;<br/>
1.将 oracleinstantclient.rar解压缩到一个目录, 如d:/oracleinstantclient&nbsp;<br/>
2.配置 d:/oracleinstantclient的tnsnames.ora文件，只需要修改其中的服务器地址、服务名称和端口。&nbsp;<br/>
3、配置环境变量，在PATH变量中加入d:/oracleinstantclient&nbsp;<br/>
4、注册表加入下面键值&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
[HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Control/Session Manager/Environment]&nbsp;<br/>
&quot;LD_LIBRARY_PATH&quot;=&quot;d:/OracleInstantClient&quot;&nbsp;<br/>
&quot;NLS_LANG&quot;=&quot;AMERICAN_AMERICA.ZHS16GBK&quot;&nbsp;<br/>
&quot;TNS_ADMIN&quot;=&quot;d:/OracleInstantClient&quot;&nbsp;<br/>
5、如果是ASP.NET应用，则要为ASPNET用户分配d:/oracleinstantclient文件夹的读写权限。&nbsp;<br/>
通过上面的设置后，即可实现免安装ORACLE客户端，连接到ORACLE数据库服务器。&nbsp;<br/>
也可以将上面解压缩后的文件和手动过程制作成安装包，实现自动安装。&nbsp;<br/>
注意：&nbsp;<br/>
1、用上面的方法，连接oracle9.2，应该也没有问题。&nbsp;<br/>
2、如果使用JDBC连接，需要到官网下载instantclient-jdbc-win32-10.1.0.2.zip:&nbsp;&nbsp; 包含JDBC&nbsp;&nbsp; Driver的包</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">=====================================================================================</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">配置完毕，第一遍没连上(TNS连接超时)，重启PC再测试连接，跳出错误：</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">ORA-12705:invalid or unknown NLS parameter value specified.</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">说明进步了，有希望 :P 去修改NLS_LANG同DB Server上注册表里的值，同样要重启PC，再试，OK!!!</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;"><strong>1. NLS_LANG 参数组成</strong>&nbsp;<br/>
NLS_LANG参数由以下部分组成:&nbsp;<br/>
NLS_LANG=&lt;Language&gt;_&lt;Territory&gt;.&lt;Clients Characterset&gt;</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">NLS_LANG各部分含义如下:&nbsp;<br/>
LANGUAGE指定:&nbsp;<br/>
-Oracle消息使用的语言&nbsp;<br/>
-日期中月份和日显示&nbsp;<br/>
TERRITORY指定&nbsp;<br/>
-货币和数字格式&nbsp;<br/>
-地区和计算星期及日期的习惯&nbsp;<br/>
CHARACTERSET:&nbsp;<br/>
-控制客户端应用程序使用的字符集&nbsp;<br/>
通常设置或者等于客户端(如Windows)代码页&nbsp;<br/>
或者对于unicode应用设置为UTF8</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">在Windows上查看当前系统的代码页可以使用chcp命令:&nbsp;<br/>
E:/&gt;chcp&nbsp;<br/>
活动的代码页: 936</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">代码页936也就是中文字符集 GBK,在Microsoft的官方站点上，我们可以遭到关于936代码页的具体编码规则,请参考以下链接:&nbsp;<br/><a href="http://www.microsoft.com/globaldev/reference/dbcs/936.htm" style="text-decoration: none; color: rgb(51, 51, 51);" target="_blank">http://www.microsoft.com/globaldev/reference/dbcs/936.htm</a></p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;"><strong>2. 查看 NLS_LANG 的方法</strong>&nbsp;<br/>
Windows使用:</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">echo %NLS_LANG%&nbsp;<br/>
如:&nbsp;<br/>
E:/&gt;echo %NLS_LANG%&nbsp;<br/>
AMERICAN_AMERICA.ZHS16GBK</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">Unix使用:</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">env|grep NLS_LANG&nbsp;<br/>
如:&nbsp;<br/>
/opt/oracle&gt;env|grep NLS_LANG&nbsp;<br/>
NLS_LANG=AMERICAN_CHINA.ZHS16GBK</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">Windows客户端设置,可以在注册表中更改NLS_LANG,具体键值位于:&nbsp;<br/>
HKEY_LOCAL_MACHINE/SOFTWARE/ORACLE/HOMExx/&nbsp;<br/>
xx指存在多个ORACLE_HOME时系统编号。</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;"><strong>3. 查看数据库当前字符集参数设置</strong>&nbsp;<br/>
SELECT * FROM v$nls_parameters;&nbsp;<br/>
或&nbsp;<br/>
select * from nls_database_parameters&nbsp;<br/>
或&nbsp;<br/>
select userenv(‘language’) from dual;</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;"><strong>4. 查看数据库可用字符集参数设置</strong>&nbsp;<br/>
SELECT * FROM v$nls_valid_values;</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;"><strong>5. 客户端 NLS_LANG 的设置方法</strong>&nbsp;<br/>
Windows:&nbsp;<br/>
# 常用中文字符集&nbsp;<br/>
set NLS_LANG=SIMPLIFIED CHINESE_CHINA.ZHS16GBK&nbsp;<br/>
# 常用unicode字符集&nbsp;<br/>
set NLS_LANG=american_america.AL32UTF8&nbsp;<br/>
可以通过修改注册表键值永久设置&nbsp;<br/>
HKEY_LOCAL_MACHINE/SOFTWARE/ORACLE/HOMExx/NLS_LANG</p><p style="background-color: rgb(243, 241, 240); margin: 0px 0px 16px; padding: 0px; font-size: 1em;">Unix:&nbsp;<br/>
# 常用unicode字符集&nbsp;<br/>
export NLS_LANG=american_america.AL32UTF8&nbsp;<br/>
# 常用中文字符集&nbsp;<br/>
export NLS_LANG=&quot;Simplified Chinese_china&quot;.ZHS16GBK&nbsp;<br/>
可以编辑 bash_profile 文件进行永久设置&nbsp;<br/>
vi .bash_profile&nbsp;<br/>
NLS_LANG=&quot;Simplified Chinese_china&quot;.ZHS16GBK export NLS_LANG&nbsp;<br/>
# 使 bash_profile 设置生效&nbsp;<br/>
source .bash_profile</p></div></div></div><div style="margin: 0px auto; padding: 15px 0px 50px; border-top-width: 1px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-top-color: rgb(221, 221, 221); font-family: Simsun, tahoma, &#39;Microsoft YaHei&#39;, &#39;Arial Unicode MS&#39;, Mingliu, Arial, Helvetica; color: rgb(148, 145, 143); font-size: 12px; background-color: rgb(243, 241, 240);"><div style="margin: 0px; padding: 0px; border: 0px;">收藏于 2013-12-07</div><div style="margin: 10px 0px 0px; padding: 0px; border: 0px; clear: both;"><a href="http://blog.csdn.net/62guangye/article/details/5291283" style="text-decoration: none; color: rgb(25, 142, 216);" target="_blank">http://blog.csdn.net/62guangye/article/details/5291283</a></div><div style="margin: 10px 0px 0px; padding: 0px; border: 0px; clear: both;">文章优化有问题？<a href="http://qingting.baidu.com/index?pid=26" style="text-decoration: none; color: rgb(25, 142, 216);" target="_blank">点击这里</a>反馈URL给我们</div></div></div>