<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>5 DML语言</title><?xml version="1.0" encoding="UTF-8"?>


<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
Select [ALL|DISTINCT|DISTINCTROW|[TOP n [PERCENT]]] FROM TABLE FROM 表;
<div><br/></div><div>select <font color="#BA00FF">case when</font> <font color="#EB0073">to_date</font>(max(tr.board_in_time))-to_date(&#39;&#39;,‘yyyymmddhh24miss&#39;) &gt;0 <font color="#F14F9A">then</font> 1 <font color="#BA00FF">else</font> 0 end ff <font color="#9E00F3">from</font> tracer.r_wip_prd_reflow_t tr;</div><div>//当前时间减去表中栏位最大的一个值，确定是否最新时间，返回1 或者0；</div><div><br/></div><div>使用ESCAPE可以某些特殊字符，如通配符&#39;%&#39;和&#39;_&#39;转换成它们原来的意义。</div><div>例如：<span style="background-color: rgb(255, 255, 255); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px;">实例：</span></div><p style="margin: 0px 0px 14px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; background-color: rgb(255, 255, 255);">SQL&gt; select * from t11 where name like &#39;%_%&#39;;</p><p style="margin: 0px 0px 14px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; background-color: rgb(255, 255, 255);">NAME<br/>
----------<br/>
aa_a<br/>
aaa<br/>
SQL&gt; select * from t11 where name like &#39;%\_%&#39; escape &#39;\&#39;;</p><p style="margin: 0px 0px 14px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; background-color: rgb(255, 255, 255);">NAME<br/>
----------<br/>
aa_a</p><p style="margin: 0px 0px 14px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; background-color: rgb(255, 255, 255);">注意：如果是 &#39;/&#39; 作为检索字符, 必须 用 &#39;/&#39; 作为转义符, 正斜扛也一样.<br/>
select * from wan_test where psid like &#39;%//%&#39; escape &#39;/&#39;<br/></p><br/><div>TRUNC 可以用来截取truncate。</div><div>TO_CHAR 用来转换日期，日期格式：‘HH24:MI:SS AM’= 15:45:32 Pm</div><div>&nbsp; &nbsp; &nbsp;&#39;DD &quot;of&quot; MONTH&#39; = 12 of month</div><div>&nbsp; &nbsp; &nbsp;&#39;ddspth&#39; = fourteenth</div><div><br/></div><div>TO_CHAR 用来处理数字：格式：9代表一个数字；0为强制显示0；$放置一个$符；L放置一个浮动本地货币符；</div><div>.表示小数点；,显示千位指示符</div><div><br/></div><div>NVL 函数：将空值转换成实际的值;</div><div>NVL2函数：NVL(EXPR1,EXPR2,EXPR3):如果EXPR1不为Null，返回EXPR2，如果EXPR2为空，返回EXPR3.</div><div>NULLIF函数：NULL(EXPR1,EXPR2)比较2个值，如果相等返回空值，如果不等返回EXPR1;</div><div>CASE表达式：CASE EXPR WHEN COMPARISON_1 THEN RETURN_1 [WHEN COMPARISON_2 THEN RETURN_2 WHEN COMPARISON_3 THEN RETURN_3 ]ELSE ELSE_N END</div><div>DECODE是Oracle独家提供的高深的函数，同if then else 的case 功能：DECODE(COL/EXPRESSION,SEARCH1,RESULT1,SEARCH2,RESULT2..DEFAULT)</div><div><br/></div><div>分组函数：计算一组数据，返回一个结果：例如sum，avg，min，max，count。</div><div>COUNT(EXPR) 返回非空记录；COUNT(DISTINCT(EXPR))返回不空的，不重复的值；分组函数省略列中空值，NVL函数迫使分组函数包含空值：AVG(NVL(comm,0))&nbsp;</div><div>GROUP BY子句将表分为小组，胡虐空值，可使用NVL,NVL2,COALESCE</div><div><br/></div></div>